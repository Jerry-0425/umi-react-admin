!(function(){var Tn=Object.defineProperty,Pn=Object.defineProperties;var wn=Object.getOwnPropertyDescriptors;var He=Object.getOwnPropertySymbols;var xn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable;var Zt=Math.pow,Ae=(ct,p,H)=>p in ct?Tn(ct,p,{enumerable:!0,configurable:!0,writable:!0,value:H}):ct[p]=H,ye=(ct,p)=>{for(var H in p||(p={}))xn.call(p,H)&&Ae(ct,H,p[H]);if(He)for(var H of He(p))Rn.call(p,H)&&Ae(ct,H,p[H]);return ct},ve=(ct,p)=>Pn(ct,wn(p));var jt=(ct,p,H)=>(Ae(ct,typeof p!="symbol"?p+"":p,H),H),Se=(ct,p,H)=>{if(!p.has(ct))throw TypeError("Cannot "+H)};var b=(ct,p,H)=>(Se(ct,p,"read from private field"),H?H.call(ct):p.get(ct)),et=(ct,p,H)=>{if(p.has(ct))throw TypeError("Cannot add the same private member more than once");p instanceof WeakSet?p.add(ct):p.set(ct,H)},mt=(ct,p,H,n)=>(Se(ct,p,"write to private field"),n?n.call(ct,H):p.set(ct,H),H),ue=(ct,p,H,n)=>({set _(A){mt(ct,p,A,H)},get _(){return b(ct,p,n)}}),ot=(ct,p,H)=>(Se(ct,p,"access private method"),H);var Wt=(ct,p,H)=>new Promise((n,A)=>{var q=j=>{try{z(H.next(j))}catch(M){A(M)}},V=j=>{try{z(H.throw(j))}catch(M){A(M)}},z=j=>j.done?n(j.value):Promise.resolve(j.value).then(q,V);z((H=H.apply(ct,p)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[867],{40538:function(){"use strict"},32874:function(){"use strict"},85215:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(36379).lW,process=__webpack_require__(14224);(function(p,H){module.exports=H()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(ct,p)=>{var Rt;Object.defineProperty(p,"__esModule",{value:!0}),p.VerbosityLevel=p.Util=p.UnknownErrorException=p.UnexpectedResponseException=p.TextRenderingMode=p.RenderingIntentFlag=p.PromiseCapability=p.PermissionFlag=p.PasswordResponses=p.PasswordException=p.PageActionEventType=p.OPS=p.MissingPDFException=p.MAX_IMAGE_SIZE_TO_CACHE=p.LINE_FACTOR=p.LINE_DESCENT_FACTOR=p.InvalidPDFException=p.ImageKind=p.IDENTITY_MATRIX=p.FormatError=p.FeatureTest=p.FONT_IDENTITY_MATRIX=p.DocumentActionEventType=p.CMapCompressionType=p.BaseException=p.BASELINE_FACTOR=p.AnnotationType=p.AnnotationStateModelType=p.AnnotationReviewState=p.AnnotationReplyType=p.AnnotationMode=p.AnnotationMarkedState=p.AnnotationFlag=p.AnnotationFieldFlag=p.AnnotationEditorType=p.AnnotationEditorPrefix=p.AnnotationEditorParamsType=p.AnnotationBorderStyleType=p.AnnotationActionEventType=p.AbortException=void 0,p.assert=vt,p.bytesToString=F,p.createValidAbsoluteUrl=At,p.getModificationDate=_t,p.getVerbosityLevel=dt,p.info=st,p.isArrayBuffer=ft,p.isArrayEqual=St,p.normalizeUnicode=yt,p.objectFromMap=v,p.objectSize=d,p.setVerbosityLevel=rt,p.shadow=$,p.string32=a,p.stringToBytes=t,p.stringToPDFString=Q,p.stringToUTF8String=nt,p.unreachable=bt,p.utf8StringToString=lt,p.warn=ht;const H=[1,0,0,1,0,0];p.IDENTITY_MATRIX=H;const n=[.001,0,0,.001,0,0];p.FONT_IDENTITY_MATRIX=n;const A=1e7;p.MAX_IMAGE_SIZE_TO_CACHE=A;const q=1.35;p.LINE_FACTOR=q;const V=.35;p.LINE_DESCENT_FACTOR=V;const z=V/q;p.BASELINE_FACTOR=z;const j={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};p.RenderingIntentFlag=j;const M={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};p.AnnotationMode=M;const S="pdfjs_internal_editor_";p.AnnotationEditorPrefix=S;const U={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};p.AnnotationEditorType=U;const w={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};p.AnnotationEditorParamsType=w;const k={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};p.PermissionFlag=k;const m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};p.TextRenderingMode=m;const f={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};p.ImageKind=f;const o={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};p.AnnotationType=o;const _={MARKED:"Marked",REVIEW:"Review"};p.AnnotationStateModelType=_;const C={MARKED:"Marked",UNMARKED:"Unmarked"};p.AnnotationMarkedState=C;const x={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};p.AnnotationReviewState=x;const g={GROUP:"Group",REPLY:"R"};p.AnnotationReplyType=g;const e={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};p.AnnotationFlag=e;const r={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};p.AnnotationFieldFlag=r;const l={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};p.AnnotationBorderStyleType=l;const s={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};p.AnnotationActionEventType=s;const h={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};p.DocumentActionEventType=h;const T={O:"PageOpen",C:"PageClose"};p.PageActionEventType=T;const i={ERRORS:0,WARNINGS:1,INFOS:5};p.VerbosityLevel=i;const I={NONE:0,BINARY:1};p.CMapCompressionType=I;const G={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};p.OPS=G;const Y={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};p.PasswordResponses=Y;let J=i.WARNINGS;function rt(ut){Number.isInteger(ut)&&(J=ut)}function dt(){return J}function st(ut){J>=i.INFOS&&console.log(`Info: ${ut}`)}function ht(ut){J>=i.WARNINGS&&console.log(`Warning: ${ut}`)}function bt(ut){throw new Error(ut)}function vt(ut,P){ut||bt(P)}function Ct(ut){switch(ut==null?void 0:ut.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function At(ut,P=null,D=null){if(!ut)return null;try{if(D&&typeof ut=="string"){if(D.addDefaultProtocol&&ut.startsWith("www.")){const gt=ut.match(/\./g);(gt==null?void 0:gt.length)>=2&&(ut=`http://${ut}`)}if(D.tryConvertEncoding)try{ut=nt(ut)}catch(gt){}}const at=P?new URL(ut,P):new URL(ut);if(Ct(at))return at}catch(at){}return null}function $(ut,P,D,at=!1){return Object.defineProperty(ut,P,{value:D,enumerable:!at,configurable:!0,writable:!1}),D}const c=function(){function P(D,at){this.constructor===P&&bt("Cannot initialize BaseException."),this.message=D,this.name=at}return P.prototype=new Error,P.constructor=P,P}();p.BaseException=c;class u extends c{constructor(P,D){super(P,"PasswordException"),this.code=D}}p.PasswordException=u;class y extends c{constructor(P,D){super(P,"UnknownErrorException"),this.details=D}}p.UnknownErrorException=y;class N extends c{constructor(P){super(P,"InvalidPDFException")}}p.InvalidPDFException=N;class R extends c{constructor(P){super(P,"MissingPDFException")}}p.MissingPDFException=R;class W extends c{constructor(P,D){super(P,"UnexpectedResponseException"),this.status=D}}p.UnexpectedResponseException=W;class O extends c{constructor(P){super(P,"FormatError")}}p.FormatError=O;class L extends c{constructor(P){super(P,"AbortException")}}p.AbortException=L;function F(ut){(typeof ut!="object"||(ut==null?void 0:ut.length)===void 0)&&bt("Invalid argument for bytesToString");const P=ut.length,D=8192;if(P<D)return String.fromCharCode.apply(null,ut);const at=[];for(let gt=0;gt<P;gt+=D){const Et=Math.min(gt+D,P),Tt=ut.subarray(gt,Et);at.push(String.fromCharCode.apply(null,Tt))}return at.join("")}function t(ut){typeof ut!="string"&&bt("Invalid argument for stringToBytes");const P=ut.length,D=new Uint8Array(P);for(let at=0;at<P;++at)D[at]=ut.charCodeAt(at)&255;return D}function a(ut){return String.fromCharCode(ut>>24&255,ut>>16&255,ut>>8&255,ut&255)}function d(ut){return Object.keys(ut).length}function v(ut){const P=Object.create(null);for(const[D,at]of ut)P[D]=at;return P}function E(){const ut=new Uint8Array(4);return ut[0]=1,new Uint32Array(ut.buffer,0,1)[0]===1}function B(){try{return new Function(""),!0}catch(ut){return!1}}class Z{static get isLittleEndian(){return $(this,"isLittleEndian",E())}static get isEvalSupported(){return $(this,"isEvalSupported",B())}static get isOffscreenCanvasSupported(){return $(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas!="undefined")}static get platform(){return typeof navigator=="undefined"?$(this,"platform",{isWin:!1,isMac:!1}):$(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}p.FeatureTest=Z;const X=[...Array(256).keys()].map(ut=>ut.toString(16).padStart(2,"0"));class tt{static makeHexColor(P,D,at){return`#${X[P]}${X[D]}${X[at]}`}static scaleMinMax(P,D){let at;P[0]?(P[0]<0&&(at=D[0],D[0]=D[1],D[1]=at),D[0]*=P[0],D[1]*=P[0],P[3]<0&&(at=D[2],D[2]=D[3],D[3]=at),D[2]*=P[3],D[3]*=P[3]):(at=D[0],D[0]=D[2],D[2]=at,at=D[1],D[1]=D[3],D[3]=at,P[1]<0&&(at=D[2],D[2]=D[3],D[3]=at),D[2]*=P[1],D[3]*=P[1],P[2]<0&&(at=D[0],D[0]=D[1],D[1]=at),D[0]*=P[2],D[1]*=P[2]),D[0]+=P[4],D[1]+=P[4],D[2]+=P[5],D[3]+=P[5]}static transform(P,D){return[P[0]*D[0]+P[2]*D[1],P[1]*D[0]+P[3]*D[1],P[0]*D[2]+P[2]*D[3],P[1]*D[2]+P[3]*D[3],P[0]*D[4]+P[2]*D[5]+P[4],P[1]*D[4]+P[3]*D[5]+P[5]]}static applyTransform(P,D){const at=P[0]*D[0]+P[1]*D[2]+D[4],gt=P[0]*D[1]+P[1]*D[3]+D[5];return[at,gt]}static applyInverseTransform(P,D){const at=D[0]*D[3]-D[1]*D[2],gt=(P[0]*D[3]-P[1]*D[2]+D[2]*D[5]-D[4]*D[3])/at,Et=(-P[0]*D[1]+P[1]*D[0]+D[4]*D[1]-D[5]*D[0])/at;return[gt,Et]}static getAxialAlignedBoundingBox(P,D){const at=tt.applyTransform(P,D),gt=tt.applyTransform(P.slice(2,4),D),Et=tt.applyTransform([P[0],P[3]],D),Tt=tt.applyTransform([P[2],P[1]],D);return[Math.min(at[0],gt[0],Et[0],Tt[0]),Math.min(at[1],gt[1],Et[1],Tt[1]),Math.max(at[0],gt[0],Et[0],Tt[0]),Math.max(at[1],gt[1],Et[1],Tt[1])]}static inverseTransform(P){const D=P[0]*P[3]-P[1]*P[2];return[P[3]/D,-P[1]/D,-P[2]/D,P[0]/D,(P[2]*P[5]-P[4]*P[3])/D,(P[4]*P[1]-P[5]*P[0])/D]}static singularValueDecompose2dScale(P){const D=[P[0],P[2],P[1],P[3]],at=P[0]*D[0]+P[1]*D[2],gt=P[0]*D[1]+P[1]*D[3],Et=P[2]*D[0]+P[3]*D[2],Tt=P[2]*D[1]+P[3]*D[3],wt=(at+Tt)/2,xt=Math.sqrt(Zt(at+Tt,2)-4*(at*Tt-Et*gt))/2,Ft=wt+xt||1,kt=wt-xt||1;return[Math.sqrt(Ft),Math.sqrt(kt)]}static normalizeRect(P){const D=P.slice(0);return P[0]>P[2]&&(D[0]=P[2],D[2]=P[0]),P[1]>P[3]&&(D[1]=P[3],D[3]=P[1]),D}static intersect(P,D){const at=Math.max(Math.min(P[0],P[2]),Math.min(D[0],D[2])),gt=Math.min(Math.max(P[0],P[2]),Math.max(D[0],D[2]));if(at>gt)return null;const Et=Math.max(Math.min(P[1],P[3]),Math.min(D[1],D[3])),Tt=Math.min(Math.max(P[1],P[3]),Math.max(D[1],D[3]));return Et>Tt?null:[at,Et,gt,Tt]}static bezierBoundingBox(P,D,at,gt,Et,Tt,wt,xt){const Ft=[],kt=[[],[]];let Nt,Dt,It,Mt,Gt,Ut,Ot,$t;for(let Vt=0;Vt<2;++Vt){if(Vt===0?(Dt=6*P-12*at+6*Et,Nt=-3*P+9*at-9*Et+3*wt,It=3*at-3*P):(Dt=6*D-12*gt+6*Tt,Nt=-3*D+9*gt-9*Tt+3*xt,It=3*gt-3*D),Math.abs(Nt)<1e-12){if(Math.abs(Dt)<1e-12)continue;Mt=-It/Dt,0<Mt&&Mt<1&&Ft.push(Mt);continue}Ot=Dt*Dt-4*It*Nt,$t=Math.sqrt(Ot),!(Ot<0)&&(Gt=(-Dt+$t)/(2*Nt),0<Gt&&Gt<1&&Ft.push(Gt),Ut=(-Dt-$t)/(2*Nt),0<Ut&&Ut<1&&Ft.push(Ut))}let Bt=Ft.length,Lt;const Ht=Bt;for(;Bt--;)Mt=Ft[Bt],Lt=1-Mt,kt[0][Bt]=Lt*Lt*Lt*P+3*Lt*Lt*Mt*at+3*Lt*Mt*Mt*Et+Mt*Mt*Mt*wt,kt[1][Bt]=Lt*Lt*Lt*D+3*Lt*Lt*Mt*gt+3*Lt*Mt*Mt*Tt+Mt*Mt*Mt*xt;return kt[0][Ht]=P,kt[1][Ht]=D,kt[0][Ht+1]=wt,kt[1][Ht+1]=xt,kt[0].length=kt[1].length=Ht+2,[Math.min(...kt[0]),Math.min(...kt[1]),Math.max(...kt[0]),Math.max(...kt[1])]}}p.Util=tt;const it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Q(ut){if(ut[0]>="\xEF"){let D;if(ut[0]==="\xFE"&&ut[1]==="\xFF"?D="utf-16be":ut[0]==="\xFF"&&ut[1]==="\xFE"?D="utf-16le":ut[0]==="\xEF"&&ut[1]==="\xBB"&&ut[2]==="\xBF"&&(D="utf-8"),D)try{const at=new TextDecoder(D,{fatal:!0}),gt=t(ut);return at.decode(gt)}catch(at){ht(`stringToPDFString: "${at}".`)}}const P=[];for(let D=0,at=ut.length;D<at;D++){const gt=it[ut.charCodeAt(D)];P.push(gt?String.fromCharCode(gt):ut.charAt(D))}return P.join("")}function nt(ut){return decodeURIComponent(escape(ut))}function lt(ut){return unescape(encodeURIComponent(ut))}function ft(ut){return typeof ut=="object"&&(ut==null?void 0:ut.byteLength)!==void 0}function St(ut,P){if(ut.length!==P.length)return!1;for(let D=0,at=ut.length;D<at;D++)if(ut[D]!==P[D])return!1;return!0}function _t(ut=new Date){return[ut.getUTCFullYear().toString(),(ut.getUTCMonth()+1).toString().padStart(2,"0"),ut.getUTCDate().toString().padStart(2,"0"),ut.getUTCHours().toString().padStart(2,"0"),ut.getUTCMinutes().toString().padStart(2,"0"),ut.getUTCSeconds().toString().padStart(2,"0")].join("")}class Pt{constructor(){et(this,Rt,!1);this.promise=new Promise((P,D)=>{this.resolve=at=>{mt(this,Rt,!0),P(at)},this.reject=at=>{mt(this,Rt,!0),D(at)}})}get settled(){return b(this,Rt)}}Rt=new WeakMap,p.PromiseCapability=Pt;let K=null,pt=null;function yt(ut){return K||(K=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pt=new Map([["\uFB05","\u017Ft"]])),ut.replaceAll(K,(P,D,at)=>D?D.normalize("NFKC"):pt.get(at))}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ct,H,n,A,ne,V,de,j,M,S,U,w,k,m,f,Ee,_,C,Ce,g,e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:l,NodeCMapReaderFactory:s,NodeFilterFactory:h,NodeStandardFontDataFactory:T}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=l,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultFilterFactory=DefaultFilterFactory=h,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=T}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:l}=__w_pdfjs_require__(21);createPDFNetworkStream=s=>new l(s)}else{const{PDFNetworkStream:l}=__w_pdfjs_require__(24),{PDFFetchStream:s}=__w_pdfjs_require__(25);createPDFNetworkStream=h=>(0,_display_utils.isValidFetchUrl)(h.url)?new s(h):new l(h)}function getDocument(l){var ft,St;if(typeof l=="string"||l instanceof URL?l={url:l}:(0,_util.isArrayBuffer)(l)&&(l={data:l}),typeof l!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!l.url&&!l.data&&!l.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const s=new PDFDocumentLoadingTask,{docId:h}=s,T=l.url?getUrlProp(l.url):null,i=l.data?getDataProp(l.data):null,I=l.httpHeaders||null,G=l.withCredentials===!0,Y=(ft=l.password)!=null?ft:null,J=l.range instanceof PDFDataRangeTransport?l.range:null,rt=Number.isInteger(l.rangeChunkSize)&&l.rangeChunkSize>0?l.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let dt=l.worker instanceof PDFWorker?l.worker:null;const st=l.verbosity,ht=typeof l.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(l.docBaseUrl)?l.docBaseUrl:null,bt=typeof l.cMapUrl=="string"?l.cMapUrl:null,vt=l.cMapPacked!==!1,Ct=l.CMapReaderFactory||DefaultCMapReaderFactory,At=typeof l.standardFontDataUrl=="string"?l.standardFontDataUrl:null,$=l.StandardFontDataFactory||DefaultStandardFontDataFactory,c=l.stopAtErrors!==!0,u=Number.isInteger(l.maxImageSize)&&l.maxImageSize>-1?l.maxImageSize:-1,y=l.isEvalSupported!==!1,N=typeof l.isOffscreenCanvasSupported=="boolean"?l.isOffscreenCanvasSupported:!_is_node.isNodeJS,R=Number.isInteger(l.canvasMaxAreaInBytes)?l.canvasMaxAreaInBytes:-1,W=typeof l.disableFontFace=="boolean"?l.disableFontFace:_is_node.isNodeJS,O=l.fontExtraProperties===!0,L=l.enableXfa===!0,F=l.ownerDocument||globalThis.document,t=l.disableRange===!0,a=l.disableStream===!0,d=l.disableAutoFetch===!0,v=l.pdfBug===!0,E=J?J.length:(St=l.length)!=null?St:NaN,B=typeof l.useSystemFonts=="boolean"?l.useSystemFonts:!_is_node.isNodeJS&&!W,Z=typeof l.useWorkerFetch=="boolean"?l.useWorkerFetch:Ct===_display_utils.DOMCMapReaderFactory&&$===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(bt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(At,document.baseURI),X=l.canvasFactory||new DefaultCanvasFactory({ownerDocument:F}),tt=l.filterFactory||new DefaultFilterFactory({docId:h,ownerDocument:F}),it=null;(0,_util.setVerbosityLevel)(st);const Q={canvasFactory:X,filterFactory:tt};if(Z||(Q.cMapReaderFactory=new Ct({baseUrl:bt,isCompressed:vt}),Q.standardFontDataFactory=new $({baseUrl:At})),!dt){const _t={verbosity:st,port:_worker_options.GlobalWorkerOptions.workerPort};dt=_t.port?PDFWorker.fromPort(_t):new PDFWorker(_t),s._worker=dt}const nt={docId:h,apiVersion:"3.6.172",data:i,password:Y,disableAutoFetch:d,rangeChunkSize:rt,length:E,docBaseUrl:ht,enableXfa:L,evaluatorOptions:{maxImageSize:u,disableFontFace:W,ignoreErrors:c,isEvalSupported:y,isOffscreenCanvasSupported:N,canvasMaxAreaInBytes:R,fontExtraProperties:O,useSystemFonts:B,cMapUrl:Z?bt:null,standardFontDataUrl:Z?At:null}},lt={ignoreErrors:c,isEvalSupported:y,disableFontFace:W,fontExtraProperties:O,enableXfa:L,ownerDocument:F,disableAutoFetch:d,pdfBug:v,styleElement:it};return dt.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const _t=_fetchDocument(dt,nt),Pt=new Promise(function(K){let pt;J?pt=new _transport_stream.PDFDataTransportStream({length:E,initialData:J.initialData,progressiveDone:J.progressiveDone,contentDispositionFilename:J.contentDispositionFilename,disableRange:t,disableStream:a},J):i||(pt=createPDFNetworkStream({url:T,length:E,httpHeaders:I,withCredentials:G,rangeChunkSize:rt,disableRange:t,disableStream:a})),K(pt)});return Promise.all([_t,Pt]).then(function([K,pt]){if(s.destroyed)throw new Error("Loading aborted");const yt=new _message_handler.MessageHandler(h,K,dt.port),Rt=new WorkerTransport(yt,s,pt,lt,Q);s._transport=Rt,yt.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(l,s){return Wt(this,null,function*(){if(l.destroyed)throw new Error("Worker was destroyed");const h=yield l.messageHandler.sendWithPromise("GetDocRequest",s,s.data?[s.data.buffer]:null);if(l.destroyed)throw new Error("Worker was destroyed");return h})}function getUrlProp(l){if(l instanceof URL)return l.href;try{return new URL(l,window.location).href}catch(s){if(_is_node.isNodeJS&&typeof l=="string")return l}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(l){if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&l instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(l);if(l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength)return l;if(typeof l=="string")return(0,_util.stringToBytes)(l);if(typeof l=="object"&&!isNaN(l==null?void 0:l.length)||(0,_util.isArrayBuffer)(l))return new Uint8Array(l);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const p=class{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ue(p,ct)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return Wt(this,null,function*(){var s;this.destroyed=!0,yield(s=this._transport)==null?void 0:s.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}};let PDFDocumentLoadingTask=p;ct=new WeakMap,et(PDFDocumentLoadingTask,ct,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,h,T=!1,i=null){this.length=s,this.initialData=h,this.progressiveDone=T,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,h){for(const T of this._rangeListeners)T(s,h)}onDataProgress(s,h){this._readyCapability.promise.then(()=>{for(const T of this._progressListeners)T(s,h)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const h of this._progressiveReadListeners)h(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,h){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,h){this._pdfInfo=s,this._transport=h}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,h,T,i=!1){et(this,A);et(this,V);et(this,H,null);et(this,n,!1);this._pageIndex=s,this._pageInfo=h,this._transport=T,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=T.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:h=this.rotate,offsetX:T=0,offsetY:i=0,dontFlip:I=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:h,offsetX:T,offsetY:i,dontFlip:I})}getAnnotations({intent:s="display"}={}){const h=this._transport.getRenderingIntent(s);return this._transport.getAnnotations(this._pageIndex,h.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return Wt(this,null,function*(){var s;return((s=this._transport._htmlForXfa)==null?void 0:s.children[this._pageIndex])||null})}render({canvasContext:s,viewport:h,intent:T="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:I=null,background:G=null,optionalContentConfigPromise:Y=null,annotationCanvasMap:J=null,pageColors:rt=null,printAnnotationStorage:dt=null}){var $,c,u;if(($=arguments[0])!=null&&$.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");(c=this._stats)==null||c.time("Overall");const st=this._transport.getRenderingIntent(T,i,dt);mt(this,n,!1),ot(this,V,de).call(this),Y||(Y=this._transport.getOptionalContentConfig());let ht=this._intentStates.get(st.cacheKey);ht||(ht=Object.create(null),this._intentStates.set(st.cacheKey,ht)),ht.streamReaderCancelTimeout&&(clearTimeout(ht.streamReaderCancelTimeout),ht.streamReaderCancelTimeout=null);const bt=!!(st.renderingIntent&_util.RenderingIntentFlag.PRINT);ht.displayReadyCapability||(ht.displayReadyCapability=new _util.PromiseCapability,ht.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(st));const vt=y=>{var N,R;ht.renderTasks.delete(Ct),(this._maybeCleanupAfterRender||bt)&&mt(this,n,!0),ot(this,A,ne).call(this,!bt),y?(Ct.capability.reject(y),this._abortOperatorList({intentState:ht,reason:y instanceof Error?y:new Error(y)})):Ct.capability.resolve(),(N=this._stats)==null||N.timeEnd("Rendering"),(R=this._stats)==null||R.timeEnd("Overall")},Ct=new InternalRenderTask({callback:vt,params:{canvasContext:s,viewport:h,transform:I,background:G},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:J,operatorList:ht.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!bt,pdfBug:this._pdfBug,pageColors:rt});(ht.renderTasks||(ht.renderTasks=new Set)).add(Ct);const At=Ct.task;return Promise.all([ht.displayReadyCapability.promise,Y]).then(([y,N])=>{var R;if(b(this,n)){vt();return}(R=this._stats)==null||R.time("Rendering"),Ct.initializeGraphics({transparency:y,optionalContentConfig:N}),Ct.operatorListChanged()}).catch(vt),At}getOperatorList({intent:s="display",annotationMode:h=_util.AnnotationMode.ENABLE,printAnnotationStorage:T=null}={}){var J;function i(){G.operatorList.lastChunk&&(G.opListReadCapability.resolve(G.operatorList),G.renderTasks.delete(Y))}const I=this._transport.getRenderingIntent(s,h,T,!0);let G=this._intentStates.get(I.cacheKey);G||(G=Object.create(null),this._intentStates.set(I.cacheKey,G));let Y;return G.opListReadCapability||(Y=Object.create(null),Y.operatorListChanged=i,G.opListReadCapability=new _util.PromiseCapability,(G.renderTasks||(G.renderTasks=new Set)).add(Y),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(J=this._stats)==null||J.time("Page Request"),this._pumpOperatorList(I)),G.opListReadCapability.promise}streamTextContent({includeMarkedContent:s=!1,disableNormalization:h=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:s===!0,disableNormalization:h===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(T=>_xfa_text.XfaText.textContent(T));const h=this.streamTextContent(s);return new Promise(function(T,i){function I(){G.read().then(function({value:J,done:rt}){if(rt){T(Y);return}Object.assign(Y.styles,J.styles),Y.items.push(...J.items),I()},i)}const G=h.getReader(),Y={items:[],styles:Object.create(null)};I()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const s=[];for(const h of this._intentStates.values())if(this._abortOperatorList({intentState:h,reason:new Error("Page was destroyed."),force:!0}),!h.opListReadCapability)for(const T of h.renderTasks)s.push(T.completed),T.cancel();return this.objs.clear(),mt(this,n,!1),ot(this,V,de).call(this),Promise.all(s)}cleanup(s=!1){mt(this,n,!0);const h=ot(this,A,ne).call(this,!1);return s&&h&&this._stats&&(this._stats=new _display_utils.StatTimer),h}_startRenderPage(s,h){var i,I;const T=this._intentStates.get(h);T&&((i=this._stats)==null||i.timeEnd("Page Request"),(I=T.displayReadyCapability)==null||I.resolve(s))}_renderPageChunk(s,h){for(let T=0,i=s.length;T<i;T++)h.operatorList.fnArray.push(s.fnArray[T]),h.operatorList.argsArray.push(s.argsArray[T]);h.operatorList.lastChunk=s.lastChunk,h.operatorList.separateAnnots=s.separateAnnots;for(const T of h.renderTasks)T.operatorListChanged();s.lastChunk&&ot(this,A,ne).call(this,!0)}_pumpOperatorList({renderingIntent:s,cacheKey:h,annotationStorageMap:T}){const I=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:h,annotationStorage:T}).getReader(),G=this._intentStates.get(h);G.streamReader=I;const Y=()=>{I.read().then(({value:J,done:rt})=>{if(rt){G.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(J,G),Y())},J=>{if(G.streamReader=null,!this._transport.destroyed){if(G.operatorList){G.operatorList.lastChunk=!0;for(const rt of G.renderTasks)rt.operatorListChanged();ot(this,A,ne).call(this,!0)}if(G.displayReadyCapability)G.displayReadyCapability.reject(J);else if(G.opListReadCapability)G.opListReadCapability.reject(J);else throw J}})};Y()}_abortOperatorList({intentState:s,reason:h,force:T=!1}){if(s.streamReader){if(s.streamReaderCancelTimeout&&(clearTimeout(s.streamReaderCancelTimeout),s.streamReaderCancelTimeout=null),!T){if(s.renderTasks.size>0)return;if(h instanceof _display_utils.RenderingCancelledException){let i=RENDERING_CANCELLED_TIMEOUT;h.extraDelay>0&&h.extraDelay<1e3&&(i+=h.extraDelay),s.streamReaderCancelTimeout=setTimeout(()=>{s.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:s,reason:h,force:!0})},i);return}}if(s.streamReader.cancel(new _util.AbortException(h.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[i,I]of this._intentStates)if(I===s){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,n=new WeakMap,A=new WeakSet,ne=function(s=!1){if(ot(this,V,de).call(this),!b(this,n))return!1;if(s)return mt(this,H,setTimeout(()=>{mt(this,H,null),ot(this,A,ne).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:h,operatorList:T}of this._intentStates.values())if(h.size>0||!T.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),mt(this,n,!1),!0},V=new WeakSet,de=function(){b(this,H)&&(clearTimeout(b(this,H)),mt(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){et(this,j,new Set);et(this,M,Promise.resolve())}postMessage(s,h){const T={data:structuredClone(s,h?{transfer:h}:null)};b(this,M).then(()=>{for(const i of b(this,j))i.call(this,T)})}addEventListener(s,h){b(this,j).add(h)}removeEventListener(s,h){b(this,j).delete(h)}terminate(){b(this,j).clear()}}j=new WeakMap,M=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const l=(S=document==null?void 0:document.currentScript)==null?void 0:S.src;l&&(PDFWorkerUtil.fallbackWorkerSrc=l.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(l,s){let h;try{if(h=new URL(l),!h.origin||h.origin==="null")return!1}catch(i){return!1}const T=new URL(s,h);return h.origin===T.origin},PDFWorkerUtil.createCDNWrapper=function(l){const s=`importScripts("${l}");`;return URL.createObjectURL(new Blob([s]))}}const _PDFWorker=class{constructor({name:l=null,port:s=null,verbosity:h=(0,_util.getVerbosityLevel)()}={}){if(s&&b(_PDFWorker,U).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=l,this.destroyed=!1,this.verbosity=h,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,s){b(_PDFWorker,U).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(l){this._port=l,this._messageHandler=new _message_handler.MessageHandler("main","worker",l),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:l}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,l)||(l=PDFWorkerUtil.createCDNWrapper(new URL(l,window.location).href));const s=new Worker(l),h=new _message_handler.MessageHandler("main","worker",s),T=()=>{s.removeEventListener("error",i),h.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||T()};s.addEventListener("error",i),h.on("test",G=>{if(s.removeEventListener("error",i),this.destroyed){T();return}G?(this._messageHandler=h,this._port=s,this._webWorker=s,this._readyCapability.resolve(),h.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),h.destroy(),s.terminate())}),h.on("ready",G=>{if(s.removeEventListener("error",i),this.destroyed){T();return}try{I()}catch(Y){this._setupFakeWorker()}});const I=()=>{const G=new Uint8Array;h.send("test",G,[G.buffer])};I();return}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(l=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const h=`fake${PDFWorkerUtil.fakeWorkerId++}`,T=new _message_handler.MessageHandler(h+"_worker",h,s);l.setup(T,s);const i=new _message_handler.MessageHandler(h,h+"_worker",s);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(l=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${l.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),b(_PDFWorker,U).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(l){if(!(l!=null&&l.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return b(this,U).has(l.port)?b(this,U).get(l.port):new _PDFWorker(l)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var l;try{return((l=globalThis.pdfjsWorker)==null?void 0:l.WorkerMessageHandler)||null}catch(s){return null}}static get _setupFakeWorkerGlobal(){const loader=()=>Wt(this,null,function*(){const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;U=new WeakMap,et(PDFWorker,U,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(s,h,T,i,I){et(this,f);et(this,w,new Map);et(this,k,new Map);et(this,m,new Map);this.messageHandler=s,this.loadingTask=h,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,this.canvasFactory=I.canvasFactory,this.filterFactory=I.filterFactory,this.cMapReaderFactory=I.cMapReaderFactory,this.standardFontDataFactory=I.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=T,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(s,h=_util.AnnotationMode.ENABLE,T=null,i=!1){let I=_util.RenderingIntentFlag.DISPLAY,G=null;switch(s){case"any":I=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":I=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(h){case _util.AnnotationMode.DISABLE:I+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:I+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:I+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,G=(I&_util.RenderingIntentFlag.PRINT&&T instanceof _annotation_storage.PrintAnnotationStorage?T:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${h}`)}return i&&(I+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:I,cacheKey:`${I}_${_annotation_storage.AnnotationStorage.getHash(G)}`,annotationStorageMap:G}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const T of b(this,k).values())s.push(T._destroy());b(this,k).clear(),b(this,m).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const h=this.messageHandler.sendWithPromise("Terminate",null);return s.push(h),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),b(this,w).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:h}=this;s.on("GetReader",(T,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=I=>{this._lastProgress={loaded:I.loaded,total:I.total}},i.onPull=()=>{this._fullReader.read().then(function({value:I,done:G}){if(G){i.close();return}(0,_util.assert)(I instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(I),1,[I])}).catch(I=>{i.error(I)})},i.onCancel=I=>{this._fullReader.cancel(I),i.ready.catch(G=>{if(!this.destroyed)throw G})}}),s.on("ReaderHeadersReady",T=>{const i=new _util.PromiseCapability,I=this._fullReader;return I.headersReady.then(()=>{var G;(!I.isStreamingSupported||!I.isRangeSupported)&&(this._lastProgress&&((G=h.onProgress)==null||G.call(h,this._lastProgress)),I.onProgress=Y=>{var J;(J=h.onProgress)==null||J.call(h,{loaded:Y.loaded,total:Y.total})}),i.resolve({isStreamingSupported:I.isStreamingSupported,isRangeSupported:I.isRangeSupported,contentLength:I.contentLength})},i.reject),i.promise}),s.on("GetRangeReader",(T,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const I=this._networkStream.getRangeReader(T.begin,T.end);if(!I){i.close();return}i.onPull=()=>{I.read().then(function({value:G,done:Y}){if(Y){i.close();return}(0,_util.assert)(G instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(G),1,[G])}).catch(G=>{i.error(G)})},i.onCancel=G=>{I.cancel(G),i.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),s.on("GetDoc",({pdfInfo:T})=>{this._numPages=T.numPages,this._htmlForXfa=T.htmlForXfa,delete T.htmlForXfa,h._capability.resolve(new PDFDocumentProxy(T,this))}),s.on("DocException",function(T){let i;switch(T.name){case"PasswordException":i=new _util.PasswordException(T.message,T.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(T.message);break;case"MissingPDFException":i=new _util.MissingPDFException(T.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(T.message,T.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(T.message,T.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}h._capability.reject(i)}),s.on("PasswordRequest",T=>{if(this._passwordCapability=new _util.PromiseCapability,h.onPassword){const i=I=>{I instanceof Error?this._passwordCapability.reject(I):this._passwordCapability.resolve({password:I})};try{h.onPassword(i,T.code)}catch(I){this._passwordCapability.reject(I)}}else this._passwordCapability.reject(new _util.PasswordException(T.message,T.code));return this._passwordCapability.promise}),s.on("DataLoaded",T=>{var i;(i=h.onProgress)==null||i.call(h,{loaded:T.length,total:T.length}),this.downloadInfoCapability.resolve(T)}),s.on("StartRenderPage",T=>{if(this.destroyed)return;b(this,k).get(T.pageIndex)._startRenderPage(T.transparency,T.cacheKey)}),s.on("commonobj",([T,i,I])=>{var G;if(!this.destroyed&&!this.commonObjs.has(T))switch(i){case"Font":const Y=this._params;if("error"in I){const dt=I.error;(0,_util.warn)(`Error during font loading: ${dt}`),this.commonObjs.resolve(T,dt);break}const J=Y.pdfBug&&((G=globalThis.FontInspector)!=null&&G.enabled)?(dt,st)=>globalThis.FontInspector.fontAdded(dt,st):null,rt=new _font_loader.FontFaceObject(I,{isEvalSupported:Y.isEvalSupported,disableFontFace:Y.disableFontFace,ignoreErrors:Y.ignoreErrors,inspectFont:J});this.fontLoader.bind(rt).catch(dt=>s.sendWithPromise("FontFallback",{id:T})).finally(()=>{!Y.fontExtraProperties&&rt.data&&(rt.data=null),this.commonObjs.resolve(T,rt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(T,I);break;default:throw new Error(`Got unknown common object type ${i}`)}}),s.on("obj",([T,i,I,G])=>{var J;if(this.destroyed)return;const Y=b(this,k).get(i);if(!Y.objs.has(T))switch(I){case"Image":if(Y.objs.resolve(T,G),G){let rt;if(G.bitmap){const{width:dt,height:st}=G;rt=dt*st*4}else rt=((J=G.data)==null?void 0:J.length)||0;rt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Y._maybeCleanupAfterRender=!0)}break;case"Pattern":Y.objs.resolve(T,G);break;default:throw new Error(`Got unknown object type ${I}`)}}),s.on("DocProgress",T=>{var i;this.destroyed||(i=h.onProgress)==null||i.call(h,{loaded:T.loaded,total:T.total})}),s.on("FetchBuiltInCMap",T=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(T):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",T=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(T):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s,h;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(h=(s=this._fullReader)==null?void 0:s.filename)!=null?h:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const h=s-1,T=b(this,m).get(h);if(T)return T;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:h}).then(I=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(h,I,this,this._params.pdfBug);return b(this,k).set(h,G),G});return b(this,m).set(h,i),i}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,h){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:h})}getFieldObjects(){return ot(this,f,Ee).call(this,"GetFieldObjects")}hasJSActions(){return ot(this,f,Ee).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const s="GetMetadata",h=b(this,w).get(s);if(h)return h;const T=this.messageHandler.sendWithPromise(s,null).then(i=>{var I,G,Y,J;return{info:i[0],metadata:i[1]?new _metadata.Metadata(i[1]):null,contentDispositionFilename:(G=(I=this._fullReader)==null?void 0:I.filename)!=null?G:null,contentLength:(J=(Y=this._fullReader)==null?void 0:Y.contentLength)!=null?J:null}});return b(this,w).set(s,T),T}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(s=!1){return Wt(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(const h of b(this,k).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),b(this,w).clear(),this.filterFactory.destroy(!0)}})}get loadingParams(){const{disableAutoFetch:s,enableXfa:h}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s,enableXfa:h})}}w=new WeakMap,k=new WeakMap,m=new WeakMap,f=new WeakSet,Ee=function(s,h=null){const T=b(this,w).get(s);if(T)return T;const i=this.messageHandler.sendWithPromise(s,h);return b(this,w).set(s,i),i};class PDFObjects{constructor(){et(this,C);et(this,_,Object.create(null))}get(s,h=null){if(h){const i=ot(this,C,Ce).call(this,s);return i.capability.promise.then(()=>h(i.data)),null}const T=b(this,_)[s];if(!(T!=null&&T.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return T.data}has(s){const h=b(this,_)[s];return(h==null?void 0:h.capability.settled)||!1}resolve(s,h=null){const T=ot(this,C,Ce).call(this,s);T.data=h,T.capability.resolve()}clear(){var s;for(const h in b(this,_)){const{data:T}=b(this,_)[h];(s=T==null?void 0:T.bitmap)==null||s.close()}mt(this,_,Object.create(null))}}_=new WeakMap,C=new WeakSet,Ce=function(s){const h=b(this,_)[s];return h||(b(this,_)[s]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(s){et(this,g,null);mt(this,g,s),this.onContinue=null}get promise(){return b(this,g).capability.promise}cancel(s=0){b(this,g).cancel(null,s)}get separateAnnots(){const{separateAnnots:s}=b(this,g).operatorList;if(!s)return!1;const{annotationCanvasMap:h}=b(this,g);return s.form||s.canvas&&(h==null?void 0:h.size)>0}}g=new WeakMap,exports.RenderTask=RenderTask;const r=class{constructor({callback:s,params:h,objs:T,commonObjs:i,annotationCanvasMap:I,operatorList:G,pageIndex:Y,canvasFactory:J,filterFactory:rt,useRequestAnimationFrame:dt=!1,pdfBug:st=!1,pageColors:ht=null}){this.callback=s,this.params=h,this.objs=T,this.commonObjs=i,this.annotationCanvasMap=I,this.operatorListIdx=null,this.operatorList=G,this._pageIndex=Y,this.canvasFactory=J,this.filterFactory=rt,this._pdfBug=st,this.pageColors=ht,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=dt===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=h.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:h}){var Y,J;if(this.cancelled)return;if(this._canvas){if(b(r,e).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b(r,e).add(this._canvas)}this._pdfBug&&((Y=globalThis.StepperManager)!=null&&Y.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:T,viewport:i,transform:I,background:G}=this.params;this.gfx=new _canvas.CanvasGraphics(T,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:h},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:I,viewport:i,transparency:s,background:G}),this.operatorListIdx=0,this.graphicsReady=!0,(J=this.graphicsReadyCallback)==null||J.call(this)}cancel(s=null,h=0){var T;this.running=!1,this.cancelled=!0,(T=this.gfx)==null||T.endDrawing(),this._canvas&&b(r,e).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",h))}operatorListChanged(){var s;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(s=this.stepper)==null||s.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return Wt(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(this.pageColors),this._canvas&&b(r,e).delete(this._canvas),this.callback())))})}};let InternalRenderTask=r;e=new WeakMap,et(InternalRenderTask,e,new WeakSet);const version="3.6.172";exports.version=version;const build="4d3dfe254";exports.build=build},(ct,p,H)=>{var j,M,S,Ve,w;Object.defineProperty(p,"__esModule",{value:!0}),p.PrintAnnotationStorage=p.AnnotationStorage=void 0;var n=H(1),A=H(4),q=H(8);class V{constructor(){et(this,S);et(this,j,!1);et(this,M,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(m,f){const o=b(this,M).get(m);return o===void 0?f:Object.assign(f,o)}getRawValue(m){return b(this,M).get(m)}remove(m){if(b(this,M).delete(m),b(this,M).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const f of b(this,M).values())if(f instanceof A.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(m,f){const o=b(this,M).get(m);let _=!1;if(o!==void 0)for(const[C,x]of Object.entries(f))o[C]!==x&&(_=!0,o[C]=x);else _=!0,b(this,M).set(m,f);_&&ot(this,S,Ve).call(this),f instanceof A.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(f.constructor._type)}has(m){return b(this,M).has(m)}getAll(){return b(this,M).size>0?(0,n.objectFromMap)(b(this,M)):null}setAll(m){for(const[f,o]of Object.entries(m))this.setValue(f,o)}get size(){return b(this,M).size}resetModified(){b(this,j)&&(mt(this,j,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new z(this)}get serializable(){if(b(this,M).size===0)return null;const m=new Map;for(const[f,o]of b(this,M)){const _=o instanceof A.AnnotationEditor?o.serialize():o;_&&m.set(f,_)}return m}static getHash(m){if(!m)return"";const f=new q.MurmurHash3_64;for(const[o,_]of m)f.update(`${o}:${JSON.stringify(_)}`);return f.hexdigest()}}j=new WeakMap,M=new WeakMap,S=new WeakSet,Ve=function(){b(this,j)||(mt(this,j,!0),typeof this.onSetModified=="function"&&this.onSetModified())},p.AnnotationStorage=V;class z extends V{constructor(f){super();et(this,w,null);mt(this,w,structuredClone(f.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return b(this,w)}}w=new WeakMap,p.PrintAnnotationStorage=z},(ct,p,H)=>{var V,z,j,M,S,U;Object.defineProperty(p,"__esModule",{value:!0}),p.AnnotationEditor=void 0;var n=H(5),A=H(1);const w=class{constructor(m){et(this,V,this.focusin.bind(this));et(this,z,this.focusout.bind(this));et(this,j,!1);et(this,M,!1);et(this,S,!1);jt(this,"_uiManager",null);et(this,U,w._zIndex++);this.constructor===w&&(0,A.unreachable)("Cannot initialize AnnotationEditor."),this.parent=m.parent,this.id=m.id,this.width=this.height=null,this.pageIndex=m.parent.pageIndex,this.name=m.name,this.div=null,this._uiManager=m.uiManager;const{rotation:f,rawDims:{pageWidth:o,pageHeight:_,pageX:C,pageY:x}}=this.parent.viewport;this.rotation=f,this.pageRotation=(360+f-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[o,_],this.pageTranslation=[C,x];const[g,e]=this.parentDimensions;this.x=m.x/g,this.y=m.y/e,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,A.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(m){this._uiManager.addCommands(m)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=b(this,U)}setParent(m){m!==null&&(this.pageIndex=m.pageIndex,this.pageDimensions=m.pageDimensions),this.parent=m}focusin(m){b(this,j)?mt(this,j,!1):this.parent.setSelected(this)}focusout(m){var o;if(!this.isAttachedToDOM)return;const f=m.relatedTarget;f!=null&&f.closest(`#${this.id}`)||(m.preventDefault(),(o=this.parent)!=null&&o.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(m){const f=this.parent.div.getBoundingClientRect();this.startX=m.clientX-f.x,this.startY=m.clientY-f.y,m.dataTransfer.setData("text/plain",this.id),m.dataTransfer.effectAllowed="move"}setAt(m,f,o,_){const[C,x]=this.parentDimensions;[o,_]=this.screenToPageTranslation(o,_),this.x=(m+o)/C,this.y=(f+_)/x,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(m,f){const[o,_]=this.parentDimensions;[m,f]=this.screenToPageTranslation(m,f),this.x+=m/o,this.y+=f/_,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(m,f){switch(this.parentRotation){case 90:return[f,-m];case 180:return[-m,-f];case 270:return[-f,m];default:return[m,f]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:m}=this._uiManager.viewParameters,[f,o]=this.pageDimensions;return[f*m,o*m]}setDims(m,f){const[o,_]=this.parentDimensions;this.div.style.width=`${100*m/o}%`,this.div.style.height=`${100*f/_}%`}fixDims(){const{style:m}=this.div,{height:f,width:o}=m,_=o.endsWith("%"),C=f.endsWith("%");if(_&&C)return;const[x,g]=this.parentDimensions;_||(m.width=`${100*parseFloat(o)/x}%`),C||(m.height=`${100*parseFloat(f)/g}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",b(this,V)),this.div.addEventListener("focusout",b(this,z));const[m,f]=this.getInitialTranslation();return this.translate(m,f),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(m){const{isMac:f}=A.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&f){m.preventDefault();return}m.ctrlKey&&!f||m.shiftKey||m.metaKey&&f?this.parent.toggleSelected(this):this.parent.setSelected(this),mt(this,j,!0)}getRect(m,f){const o=this.parentScale,[_,C]=this.pageDimensions,[x,g]=this.pageTranslation,e=m/o,r=f/o,l=this.x*_,s=this.y*C,h=this.width*_,T=this.height*C;switch(this.rotation){case 0:return[l+e+x,C-s-r-T+g,l+e+h+x,C-s-r+g];case 90:return[l+r+x,C-s+e+g,l+r+T+x,C-s+e+h+g];case 180:return[l-e-h+x,C-s+r+g,l-e+x,C-s+r+T+g];case 270:return[l-r-T+x,C-s-e-h+g,l-r+x,C-s-e+g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(m,f){const[o,_,C,x]=m,g=C-o,e=x-_;switch(this.rotation){case 0:return[o,f-x,g,e];case 90:return[o,f-_,e,g];case 180:return[C,f-_,g,e];case 270:return[C,f-x,e,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){mt(this,S,!0)}disableEditMode(){mt(this,S,!1)}isInEditMode(){return b(this,S)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var m;(m=this.div)==null||m.addEventListener("focusin",b(this,V))}serialize(){(0,A.unreachable)("An editor must be serializable")}static deserialize(m,f,o){const _=new this.prototype.constructor({parent:f,id:f.getNextId(),uiManager:o});_.rotation=m.rotation;const[C,x]=_.pageDimensions,[g,e,r,l]=_.getRectInCurrentCoords(m.rect,x);return _.x=g/C,_.y=e/x,_.width=r/C,_.height=l/x,_}remove(){this.div.removeEventListener("focusin",b(this,V)),this.div.removeEventListener("focusout",b(this,z)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var m;(m=this.div)==null||m.classList.add("selectedEditor")}unselect(){var m;(m=this.div)==null||m.classList.remove("selectedEditor")}updateParams(m,f){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return b(this,M)}set isEditing(m){mt(this,M,m),m?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let q=w;V=new WeakMap,z=new WeakMap,j=new WeakMap,M=new WeakMap,S=new WeakMap,U=new WeakMap,jt(q,"_colorManager",new n.ColorManager),jt(q,"_zIndex",1),p.AnnotationEditor=q},(ct,p,H)=>{var w,k,m,f,o,_,qe,g,e,r,l,s,h,T,i,I,G,Y,J,rt,dt,st,ht,bt,vt,Ct,At,$,c,u,y,$e,R,Te,O,Xe,F,ze,a,Xt,v,ae,B,Ke,X,Ye,it,Pe,nt,oe,ft,we;Object.defineProperty(p,"__esModule",{value:!0}),p.KeyboardManager=p.CommandManager=p.ColorManager=p.AnnotationEditorUIManager=void 0,p.bindEvents=q,p.opacityToHex=V;var n=H(1),A=H(6);function q(Pt,K,pt){for(const yt of pt)K.addEventListener(yt,Pt[yt].bind(Pt))}function V(Pt){return Math.round(Math.min(255,Math.max(1,255*Pt))).toString(16).padStart(2,"0")}class z{constructor(){et(this,w,0)}getId(){return`${n.AnnotationEditorPrefix}${ue(this,w)._++}`}}w=new WeakMap;class j{constructor(K=128){et(this,k,[]);et(this,m,!1);et(this,f,void 0);et(this,o,-1);mt(this,f,K)}add({cmd:K,undo:pt,mustExec:yt,type:Rt=NaN,overwriteIfSameType:ut=!1,keepUndo:P=!1}){if(yt&&K(),b(this,m))return;const D={cmd:K,undo:pt,type:Rt};if(b(this,o)===-1){b(this,k).length>0&&(b(this,k).length=0),mt(this,o,0),b(this,k).push(D);return}if(ut&&b(this,k)[b(this,o)].type===Rt){P&&(D.undo=b(this,k)[b(this,o)].undo),b(this,k)[b(this,o)]=D;return}const at=b(this,o)+1;at===b(this,f)?b(this,k).splice(0,1):(mt(this,o,at),at<b(this,k).length&&b(this,k).splice(at)),b(this,k).push(D)}undo(){b(this,o)!==-1&&(mt(this,m,!0),b(this,k)[b(this,o)].undo(),mt(this,m,!1),mt(this,o,b(this,o)-1))}redo(){b(this,o)<b(this,k).length-1&&(mt(this,o,b(this,o)+1),mt(this,m,!0),b(this,k)[b(this,o)].cmd(),mt(this,m,!1))}hasSomethingToUndo(){return b(this,o)!==-1}hasSomethingToRedo(){return b(this,o)<b(this,k).length-1}destroy(){mt(this,k,null)}}k=new WeakMap,m=new WeakMap,f=new WeakMap,o=new WeakMap,p.CommandManager=j;class M{constructor(K){et(this,_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pt}=n.FeatureTest.platform;for(const[yt,Rt]of K)for(const ut of yt){const P=ut.startsWith("mac+");pt&&P?(this.callbacks.set(ut.slice(4),Rt),this.allKeys.add(ut.split("+").at(-1))):!pt&&!P&&(this.callbacks.set(ut,Rt),this.allKeys.add(ut.split("+").at(-1)))}}exec(K,pt){if(!this.allKeys.has(pt.key))return;const yt=this.callbacks.get(ot(this,_,qe).call(this,pt));yt&&(yt.bind(K)(),pt.stopPropagation(),pt.preventDefault())}}_=new WeakSet,qe=function(K){K.altKey&&this.buffer.push("alt"),K.ctrlKey&&this.buffer.push("ctrl"),K.metaKey&&this.buffer.push("meta"),K.shiftKey&&this.buffer.push("shift"),this.buffer.push(K.key);const pt=this.buffer.join("+");return this.buffer.length=0,pt},p.KeyboardManager=M;const x=class{get _colors(){const K=new Map([["CanvasText",null],["Canvas",null]]);return(0,A.getColorValues)(K),(0,n.shadow)(this,"_colors",K)}convert(K){const pt=(0,A.getRGB)(K);if(!window.matchMedia("(forced-colors: active)").matches)return pt;for(const[yt,Rt]of this._colors)if(Rt.every((ut,P)=>ut===pt[P]))return x._colorsMapping.get(yt);return pt}getHexCode(K){const pt=this._colors.get(K);return pt?n.Util.makeHexColor(...pt):K}};let S=x;jt(S,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),p.ColorManager=S;const _t=class{constructor(K,pt,yt){et(this,y);et(this,R);et(this,O);et(this,F);et(this,a);et(this,v);et(this,B);et(this,X);et(this,it);et(this,nt);et(this,ft);et(this,g,null);et(this,e,new Map);et(this,r,new Map);et(this,l,null);et(this,s,new j);et(this,h,0);et(this,T,null);et(this,i,new Set);et(this,I,null);et(this,G,new z);et(this,Y,!1);et(this,J,n.AnnotationEditorType.NONE);et(this,rt,new Set);et(this,dt,this.copy.bind(this));et(this,st,this.cut.bind(this));et(this,ht,this.paste.bind(this));et(this,bt,this.keydown.bind(this));et(this,vt,this.onEditingAction.bind(this));et(this,Ct,this.onPageChanging.bind(this));et(this,At,this.onScaleChanging.bind(this));et(this,$,this.onRotationChanging.bind(this));et(this,c,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});et(this,u,null);mt(this,u,K),mt(this,I,pt),b(this,I)._on("editingaction",b(this,vt)),b(this,I)._on("pagechanging",b(this,Ct)),b(this,I)._on("scalechanging",b(this,At)),b(this,I)._on("rotationchanging",b(this,$)),mt(this,l,yt),this.viewParameters={realScale:A.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ot(this,R,Te).call(this),b(this,I)._off("editingaction",b(this,vt)),b(this,I)._off("pagechanging",b(this,Ct)),b(this,I)._off("scalechanging",b(this,At)),b(this,I)._off("rotationchanging",b(this,$));for(const K of b(this,r).values())K.destroy();b(this,r).clear(),b(this,e).clear(),b(this,i).clear(),mt(this,g,null),b(this,rt).clear(),b(this,s).destroy()}onPageChanging({pageNumber:K}){mt(this,h,K-1)}focusMainContainer(){b(this,u).focus()}addShouldRescale(K){b(this,i).add(K)}removeShouldRescale(K){b(this,i).delete(K)}onScaleChanging({scale:K}){this.commitOrRemove(),this.viewParameters.realScale=K*A.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pt of b(this,i))pt.onScaleChanging()}onRotationChanging({pagesRotation:K}){this.commitOrRemove(),this.viewParameters.rotation=K}addToAnnotationStorage(K){!K.isEmpty()&&b(this,l)&&!b(this,l).has(K.id)&&b(this,l).setValue(K.id,K)}copy(K){if(K.preventDefault(),b(this,g)&&b(this,g).commitOrRemove(),!this.hasSelection)return;const pt=[];for(const yt of b(this,rt))yt.isEmpty()||pt.push(yt.serialize());pt.length!==0&&K.clipboardData.setData("application/pdfjs",JSON.stringify(pt))}cut(K){this.copy(K),this.delete()}paste(K){K.preventDefault();let pt=K.clipboardData.getData("application/pdfjs");if(!pt)return;try{pt=JSON.parse(pt)}catch(Rt){(0,n.warn)(`paste: "${Rt.message}".`);return}if(!Array.isArray(pt))return;this.unselectAll();const yt=b(this,r).get(b(this,h));try{const Rt=[];for(const D of pt){const at=yt.deserialize(D);if(!at)return;Rt.push(at)}const ut=()=>{for(const D of Rt)ot(this,it,Pe).call(this,D);ot(this,ft,we).call(this,Rt)},P=()=>{for(const D of Rt)D.remove()};this.addCommands({cmd:ut,undo:P,mustExec:!0})}catch(Rt){(0,n.warn)(`paste: "${Rt.message}".`)}}keydown(K){var pt;(pt=this.getActive())!=null&&pt.shouldGetKeyboardEvents()||_t._keyboardManager.exec(this,K)}onEditingAction(K){["undo","redo","delete","selectAll"].includes(K.name)&&this[K.name]()}setEditingState(K){K?(ot(this,y,$e).call(this),ot(this,O,Xe).call(this),ot(this,a,Xt).call(this,{isEditing:b(this,J)!==n.AnnotationEditorType.NONE,isEmpty:ot(this,nt,oe).call(this),hasSomethingToUndo:b(this,s).hasSomethingToUndo(),hasSomethingToRedo:b(this,s).hasSomethingToRedo(),hasSelectedEditor:!1})):(ot(this,R,Te).call(this),ot(this,F,ze).call(this),ot(this,a,Xt).call(this,{isEditing:!1}))}registerEditorTypes(K){if(!b(this,T)){mt(this,T,K);for(const pt of b(this,T))ot(this,v,ae).call(this,pt.defaultPropertiesToUpdate)}}getId(){return b(this,G).getId()}get currentLayer(){return b(this,r).get(b(this,h))}get currentPageIndex(){return b(this,h)}addLayer(K){b(this,r).set(K.pageIndex,K),b(this,Y)?K.enable():K.disable()}removeLayer(K){b(this,r).delete(K.pageIndex)}updateMode(K){if(mt(this,J,K),K===n.AnnotationEditorType.NONE)this.setEditingState(!1),ot(this,X,Ye).call(this);else{this.setEditingState(!0),ot(this,B,Ke).call(this);for(const pt of b(this,r).values())pt.updateMode(K)}}updateToolbar(K){K!==b(this,J)&&b(this,I).dispatch("switchannotationeditormode",{source:this,mode:K})}updateParams(K,pt){if(b(this,T)){for(const yt of b(this,rt))yt.updateParams(K,pt);for(const yt of b(this,T))yt.updateDefaultParams(K,pt)}}getEditors(K){const pt=[];for(const yt of b(this,e).values())yt.pageIndex===K&&pt.push(yt);return pt}getEditor(K){return b(this,e).get(K)}addEditor(K){b(this,e).set(K.id,K)}removeEditor(K){var pt;b(this,e).delete(K.id),this.unselect(K),(pt=b(this,l))==null||pt.remove(K.id)}setActiveEditor(K){b(this,g)!==K&&(mt(this,g,K),K&&ot(this,v,ae).call(this,K.propertiesToUpdate))}toggleSelected(K){if(b(this,rt).has(K)){b(this,rt).delete(K),K.unselect(),ot(this,a,Xt).call(this,{hasSelectedEditor:this.hasSelection});return}b(this,rt).add(K),K.select(),ot(this,v,ae).call(this,K.propertiesToUpdate),ot(this,a,Xt).call(this,{hasSelectedEditor:!0})}setSelected(K){for(const pt of b(this,rt))pt!==K&&pt.unselect();b(this,rt).clear(),b(this,rt).add(K),K.select(),ot(this,v,ae).call(this,K.propertiesToUpdate),ot(this,a,Xt).call(this,{hasSelectedEditor:!0})}isSelected(K){return b(this,rt).has(K)}unselect(K){K.unselect(),b(this,rt).delete(K),ot(this,a,Xt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return b(this,rt).size!==0}undo(){b(this,s).undo(),ot(this,a,Xt).call(this,{hasSomethingToUndo:b(this,s).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ot(this,nt,oe).call(this)})}redo(){b(this,s).redo(),ot(this,a,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:b(this,s).hasSomethingToRedo(),isEmpty:ot(this,nt,oe).call(this)})}addCommands(K){b(this,s).add(K),ot(this,a,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ot(this,nt,oe).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const K=[...b(this,rt)],pt=()=>{for(const Rt of K)Rt.remove()},yt=()=>{for(const Rt of K)ot(this,it,Pe).call(this,Rt)};this.addCommands({cmd:pt,undo:yt,mustExec:!0})}commitOrRemove(){var K;(K=b(this,g))==null||K.commitOrRemove()}selectAll(){for(const K of b(this,rt))K.commit();ot(this,ft,we).call(this,b(this,e).values())}unselectAll(){if(b(this,g)){b(this,g).commitOrRemove();return}if(b(this,rt).size!==0){for(const K of b(this,rt))K.unselect();b(this,rt).clear(),ot(this,a,Xt).call(this,{hasSelectedEditor:!1})}}isActive(K){return b(this,g)===K}getActive(){return b(this,g)}getMode(){return b(this,J)}};let U=_t;g=new WeakMap,e=new WeakMap,r=new WeakMap,l=new WeakMap,s=new WeakMap,h=new WeakMap,T=new WeakMap,i=new WeakMap,I=new WeakMap,G=new WeakMap,Y=new WeakMap,J=new WeakMap,rt=new WeakMap,dt=new WeakMap,st=new WeakMap,ht=new WeakMap,bt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,At=new WeakMap,$=new WeakMap,c=new WeakMap,u=new WeakMap,y=new WeakSet,$e=function(){b(this,u).addEventListener("keydown",b(this,bt))},R=new WeakSet,Te=function(){b(this,u).removeEventListener("keydown",b(this,bt))},O=new WeakSet,Xe=function(){document.addEventListener("copy",b(this,dt)),document.addEventListener("cut",b(this,st)),document.addEventListener("paste",b(this,ht))},F=new WeakSet,ze=function(){document.removeEventListener("copy",b(this,dt)),document.removeEventListener("cut",b(this,st)),document.removeEventListener("paste",b(this,ht))},a=new WeakSet,Xt=function(K){Object.entries(K).some(([yt,Rt])=>b(this,c)[yt]!==Rt)&&b(this,I).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(b(this,c),K)})},v=new WeakSet,ae=function(K){b(this,I).dispatch("annotationeditorparamschanged",{source:this,details:K})},B=new WeakSet,Ke=function(){if(!b(this,Y)){mt(this,Y,!0);for(const K of b(this,r).values())K.enable()}},X=new WeakSet,Ye=function(){if(this.unselectAll(),b(this,Y)){mt(this,Y,!1);for(const K of b(this,r).values())K.disable()}},it=new WeakSet,Pe=function(K){const pt=b(this,r).get(K.pageIndex);pt?pt.addOrRebuild(K):this.addEditor(K)},nt=new WeakSet,oe=function(){if(b(this,e).size===0)return!0;if(b(this,e).size===1)for(const K of b(this,e).values())return K.isEmpty();return!1},ft=new WeakSet,we=function(K){b(this,rt).clear();for(const pt of K)pt.isEmpty()||(b(this,rt).add(pt),pt.select());ot(this,a,Xt).call(this,{hasSelectedEditor:!0})},jt(U,"_keyboardManager",new M([[["ctrl+a","mac+meta+a"],_t.prototype.selectAll],[["ctrl+z","mac+meta+z"],_t.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],_t.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],_t.prototype.delete],[["Escape","mac+Escape"],_t.prototype.unselectAll]])),p.AnnotationEditorUIManager=U},(ct,p,H)=>{var dt,st,ht,bt,vt,Ct,At,$,c,se,y,Yt,R,zt;Object.defineProperty(p,"__esModule",{value:!0}),p.StatTimer=p.RenderingCancelledException=p.PixelsPerInch=p.PageViewport=p.PDFDateString=p.DOMStandardFontDataFactory=p.DOMSVGFactory=p.DOMFilterFactory=p.DOMCanvasFactory=p.DOMCMapReaderFactory=p.AnnotationPrefix=void 0,p.deprecated=l,p.getColorValues=I,p.getCurrentTransform=G,p.getCurrentTransformInverse=Y,p.getFilenameFromUrl=C,p.getPdfFilenameFromUrl=x,p.getRGB=i,p.getXfaPageViewport=T,p.isDataScheme=o,p.isPdfFile=_,p.isValidFetchUrl=e,p.loadScript=r,p.setLayerDimensions=J;var n=H(7),A=H(1);const q="http://www.w3.org/2000/svg",V="pdfjs_internal_id_";p.AnnotationPrefix=V;const rt=class{};let z=rt;jt(z,"CSS",96),jt(z,"PDF",72),jt(z,"PDF_TO_CSS_UNITS",rt.CSS/rt.PDF),p.PixelsPerInch=z;class j extends n.BaseFilterFactory{constructor({docId:F,ownerDocument:t=globalThis.document}={}){super();et(this,c);et(this,y);et(this,R);et(this,dt,void 0);et(this,st,void 0);et(this,ht,void 0);et(this,bt,void 0);et(this,vt,void 0);et(this,Ct,void 0);et(this,At,void 0);et(this,$,0);mt(this,ht,F),mt(this,bt,t)}addFilter(F){if(!F)return"none";let t=b(this,c,se).get(F);if(t)return t;let a,d,v,E;if(F.length===1){const it=F[0],Q=new Array(256);for(let nt=0;nt<256;nt++)Q[nt]=it[nt]/255;E=a=d=v=Q.join(",")}else{const[it,Q,nt]=F,lt=new Array(256),ft=new Array(256),St=new Array(256);for(let _t=0;_t<256;_t++)lt[_t]=it[_t]/255,ft[_t]=Q[_t]/255,St[_t]=nt[_t]/255;a=lt.join(","),d=ft.join(","),v=St.join(","),E=`${a}${d}${v}`}if(t=b(this,c,se).get(E),t)return b(this,c,se).set(F,t),t;const B=`g_${b(this,ht)}_transfer_map_${ue(this,$)._++}`,Z=`url(#${B})`;b(this,c,se).set(F,Z),b(this,c,se).set(E,Z);const X=b(this,bt).createElementNS(q,"filter",q);X.setAttribute("id",B),X.setAttribute("color-interpolation-filters","sRGB");const tt=b(this,bt).createElementNS(q,"feComponentTransfer");return X.append(tt),ot(this,R,zt).call(this,tt,"feFuncR",a),ot(this,R,zt).call(this,tt,"feFuncG",d),ot(this,R,zt).call(this,tt,"feFuncB",v),b(this,y,Yt).append(X),Z}addHCMFilter(F,t){var nt;const a=`${F}-${t}`;if(b(this,Ct)===a)return b(this,At);if(mt(this,Ct,a),mt(this,At,"none"),(nt=b(this,vt))==null||nt.remove(),!F||!t)return b(this,At);b(this,y,Yt).style.color=F,F=getComputedStyle(b(this,y,Yt)).getPropertyValue("color");const d=i(F);F=A.Util.makeHexColor(...d),b(this,y,Yt).style.color=t,t=getComputedStyle(b(this,y,Yt)).getPropertyValue("color");const v=i(t);if(t=A.Util.makeHexColor(...v),b(this,y,Yt).style.color="",F==="#000000"&&t==="#ffffff"||F===t)return b(this,At);const E=new Array(256);for(let lt=0;lt<=255;lt++){const ft=lt/255;E[lt]=ft<=.03928?ft/12.92:Zt((ft+.055)/1.055,2.4)}const B=E.join(","),Z=`g_${b(this,ht)}_hcm_filter`,X=mt(this,vt,b(this,bt).createElementNS(q,"filter",q));X.setAttribute("id",Z),X.setAttribute("color-interpolation-filters","sRGB");let tt=b(this,bt).createElementNS(q,"feComponentTransfer");X.append(tt),ot(this,R,zt).call(this,tt,"feFuncR",B),ot(this,R,zt).call(this,tt,"feFuncG",B),ot(this,R,zt).call(this,tt,"feFuncB",B);const it=b(this,bt).createElementNS(q,"feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),X.append(it),tt=b(this,bt).createElementNS(q,"feComponentTransfer"),X.append(tt);const Q=(lt,ft)=>{const St=d[lt]/255,_t=v[lt]/255,Pt=new Array(ft+1);for(let K=0;K<=ft;K++)Pt[K]=St+K/ft*(_t-St);return Pt.join(",")};return ot(this,R,zt).call(this,tt,"feFuncR",Q(0,5)),ot(this,R,zt).call(this,tt,"feFuncG",Q(1,5)),ot(this,R,zt).call(this,tt,"feFuncB",Q(2,5)),b(this,y,Yt).append(X),mt(this,At,`url(#${Z})`),b(this,At)}destroy(F=!1){F&&b(this,At)||(b(this,st)&&(b(this,st).parentNode.parentNode.remove(),mt(this,st,null)),b(this,dt)&&(b(this,dt).clear(),mt(this,dt,null)),mt(this,$,0))}}dt=new WeakMap,st=new WeakMap,ht=new WeakMap,bt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,At=new WeakMap,$=new WeakMap,c=new WeakSet,se=function(){return b(this,dt)||mt(this,dt,new Map)},y=new WeakSet,Yt=function(){if(!b(this,st)){const F=b(this,bt).createElement("div"),{style:t}=F;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const a=b(this,bt).createElementNS(q,"svg");a.setAttribute("width",0),a.setAttribute("height",0),mt(this,st,b(this,bt).createElementNS(q,"defs")),F.append(a),a.append(b(this,st)),b(this,bt).body.append(F)}return b(this,st)},R=new WeakSet,zt=function(F,t,a){const d=b(this,bt).createElementNS(q,t);d.setAttribute("type","discrete"),d.setAttribute("tableValues",a),F.append(d)},p.DOMFilterFactory=j;class M extends n.BaseCanvasFactory{constructor({ownerDocument:L=globalThis.document}={}){super(),this._document=L}_createCanvas(L,F){const t=this._document.createElement("canvas");return t.width=L,t.height=F,t}}p.DOMCanvasFactory=M;function S(O,L=!1){return Wt(this,null,function*(){if(e(O,document.baseURI)){const F=yield fetch(O);if(!F.ok)throw new Error(F.statusText);return L?new Uint8Array(yield F.arrayBuffer()):(0,A.stringToBytes)(yield F.text())}return new Promise((F,t)=>{const a=new XMLHttpRequest;a.open("GET",O,!0),L&&(a.responseType="arraybuffer"),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){let d;if(L&&a.response?d=new Uint8Array(a.response):!L&&a.responseText&&(d=(0,A.stringToBytes)(a.responseText)),d){F(d);return}}t(new Error(a.statusText))}},a.send(null)})})}class U extends n.BaseCMapReaderFactory{_fetchData(L,F){return S(L,this.isCompressed).then(t=>({cMapData:t,compressionType:F}))}}p.DOMCMapReaderFactory=U;class w extends n.BaseStandardFontDataFactory{_fetchData(L){return S(L,!0)}}p.DOMStandardFontDataFactory=w;class k extends n.BaseSVGFactory{_createSVG(L){return document.createElementNS(q,L)}}p.DOMSVGFactory=k;class m{constructor({viewBox:L,scale:F,rotation:t,offsetX:a=0,offsetY:d=0,dontFlip:v=!1}){this.viewBox=L,this.scale=F,this.rotation=t,this.offsetX=a,this.offsetY=d;const E=(L[2]+L[0])/2,B=(L[3]+L[1])/2;let Z,X,tt,it;switch(t%=360,t<0&&(t+=360),t){case 180:Z=-1,X=0,tt=0,it=1;break;case 90:Z=0,X=1,tt=1,it=0;break;case 270:Z=0,X=-1,tt=-1,it=0;break;case 0:Z=1,X=0,tt=0,it=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}v&&(tt=-tt,it=-it);let Q,nt,lt,ft;Z===0?(Q=Math.abs(B-L[1])*F+a,nt=Math.abs(E-L[0])*F+d,lt=(L[3]-L[1])*F,ft=(L[2]-L[0])*F):(Q=Math.abs(E-L[0])*F+a,nt=Math.abs(B-L[1])*F+d,lt=(L[2]-L[0])*F,ft=(L[3]-L[1])*F),this.transform=[Z*F,X*F,tt*F,it*F,Q-Z*F*E-tt*F*B,nt-X*F*E-it*F*B],this.width=lt,this.height=ft}get rawDims(){const{viewBox:L}=this;return(0,A.shadow)(this,"rawDims",{pageWidth:L[2]-L[0],pageHeight:L[3]-L[1],pageX:L[0],pageY:L[1]})}clone({scale:L=this.scale,rotation:F=this.rotation,offsetX:t=this.offsetX,offsetY:a=this.offsetY,dontFlip:d=!1}={}){return new m({viewBox:this.viewBox.slice(),scale:L,rotation:F,offsetX:t,offsetY:a,dontFlip:d})}convertToViewportPoint(L,F){return A.Util.applyTransform([L,F],this.transform)}convertToViewportRectangle(L){const F=A.Util.applyTransform([L[0],L[1]],this.transform),t=A.Util.applyTransform([L[2],L[3]],this.transform);return[F[0],F[1],t[0],t[1]]}convertToPdfPoint(L,F){return A.Util.applyInverseTransform([L,F],this.transform)}}p.PageViewport=m;class f extends A.BaseException{constructor(L,F,t=0){super(L,"RenderingCancelledException"),this.type=F,this.extraDelay=t}}p.RenderingCancelledException=f;function o(O){const L=O.length;let F=0;for(;F<L&&O[F].trim()==="";)F++;return O.substring(F,F+5).toLowerCase()==="data:"}function _(O){return typeof O=="string"&&/\.pdf$/i.test(O)}function C(O,L=!1){return L||([O]=O.split(/[#?]/,1)),O.substring(O.lastIndexOf("/")+1)}function x(O,L="document.pdf"){if(typeof O!="string")return L;if(o(O))return(0,A.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),L;const F=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,t=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=F.exec(O);let d=t.exec(a[1])||t.exec(a[2])||t.exec(a[3]);if(d&&(d=d[0],d.includes("%")))try{d=t.exec(decodeURIComponent(d))[0]}catch(v){}return d||L}class g{constructor(){jt(this,"started",Object.create(null));jt(this,"times",[])}time(L){L in this.started&&(0,A.warn)(`Timer is already running for ${L}`),this.started[L]=Date.now()}timeEnd(L){L in this.started||(0,A.warn)(`Timer has not been started for ${L}`),this.times.push({name:L,start:this.started[L],end:Date.now()}),delete this.started[L]}toString(){const L=[];let F=0;for(const{name:t}of this.times)F=Math.max(t.length,F);for(const{name:t,start:a,end:d}of this.times)L.push(`${t.padEnd(F)} ${d-a}ms
`);return L.join("")}}p.StatTimer=g;function e(O,L){try{const{protocol:F}=L?new URL(O,L):new URL(O);return F==="http:"||F==="https:"}catch(F){return!1}}function r(O,L=!1){return new Promise((F,t)=>{const a=document.createElement("script");a.src=O,a.onload=function(d){L&&a.remove(),F(d)},a.onerror=function(){t(new Error(`Cannot load script at: ${a.src}`))},(document.head||document.documentElement).append(a)})}function l(O){console.log("Deprecated API usage: "+O)}let s;class h{static toDateObject(L){if(!L||typeof L!="string")return null;s||(s=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const F=s.exec(L);if(!F)return null;const t=parseInt(F[1],10);let a=parseInt(F[2],10);a=a>=1&&a<=12?a-1:0;let d=parseInt(F[3],10);d=d>=1&&d<=31?d:1;let v=parseInt(F[4],10);v=v>=0&&v<=23?v:0;let E=parseInt(F[5],10);E=E>=0&&E<=59?E:0;let B=parseInt(F[6],10);B=B>=0&&B<=59?B:0;const Z=F[7]||"Z";let X=parseInt(F[8],10);X=X>=0&&X<=23?X:0;let tt=parseInt(F[9],10)||0;return tt=tt>=0&&tt<=59?tt:0,Z==="-"?(v+=X,E+=tt):Z==="+"&&(v-=X,E-=tt),new Date(Date.UTC(t,a,d,v,E,B))}}p.PDFDateString=h;function T(O,{scale:L=1,rotation:F=0}){const{width:t,height:a}=O.attributes.style,d=[0,0,parseInt(t),parseInt(a)];return new m({viewBox:d,scale:L,rotation:F})}function i(O){if(O.startsWith("#")){const L=parseInt(O.slice(1),16);return[(L&16711680)>>16,(L&65280)>>8,L&255]}return O.startsWith("rgb(")?O.slice(4,-1).split(",").map(L=>parseInt(L)):O.startsWith("rgba(")?O.slice(5,-1).split(",").map(L=>parseInt(L)).slice(0,3):((0,A.warn)(`Not a valid color format: "${O}"`),[0,0,0])}function I(O){const L=document.createElement("span");L.style.visibility="hidden",document.body.append(L);for(const F of O.keys()){L.style.color=F;const t=window.getComputedStyle(L).color;O.set(F,i(t))}L.remove()}function G(O){const{a:L,b:F,c:t,d:a,e:d,f:v}=O.getTransform();return[L,F,t,a,d,v]}function Y(O){const{a:L,b:F,c:t,d:a,e:d,f:v}=O.getTransform().invertSelf();return[L,F,t,a,d,v]}function J(O,L,F=!1,t=!0){if(L instanceof m){const{pageWidth:a,pageHeight:d}=L.rawDims,{style:v}=O,E=`calc(var(--scale-factor) * ${a}px)`,B=`calc(var(--scale-factor) * ${d}px)`;!F||L.rotation%180===0?(v.width=E,v.height=B):(v.width=B,v.height=E)}t&&O.setAttribute("data-main-rotation",L.rotation)}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.BaseStandardFontDataFactory=p.BaseSVGFactory=p.BaseFilterFactory=p.BaseCanvasFactory=p.BaseCMapReaderFactory=void 0;var n=H(1);class A{constructor(){this.constructor===A&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(S){return"none"}addHCMFilter(S,U){return"none"}destroy(S=!1){}}p.BaseFilterFactory=A;class q{constructor(){this.constructor===q&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(S,U){if(S<=0||U<=0)throw new Error("Invalid canvas size");const w=this._createCanvas(S,U);return{canvas:w,context:w.getContext("2d")}}reset(S,U,w){if(!S.canvas)throw new Error("Canvas is not specified");if(U<=0||w<=0)throw new Error("Invalid canvas size");S.canvas.width=U,S.canvas.height=w}destroy(S){if(!S.canvas)throw new Error("Canvas is not specified");S.canvas.width=0,S.canvas.height=0,S.canvas=null,S.context=null}_createCanvas(S,U){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}p.BaseCanvasFactory=q;class V{constructor({baseUrl:S=null,isCompressed:U=!0}){this.constructor===V&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=S,this.isCompressed=U}fetch(U){return Wt(this,arguments,function*({name:S}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!S)throw new Error("CMap name must be specified.");const w=this.baseUrl+S+(this.isCompressed?".bcmap":""),k=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(w,k).catch(m=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${w}`)})})}_fetchData(S,U){(0,n.unreachable)("Abstract method `_fetchData` called.")}}p.BaseCMapReaderFactory=V;class z{constructor({baseUrl:S=null}){this.constructor===z&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=S}fetch(U){return Wt(this,arguments,function*({filename:S}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!S)throw new Error("Font filename must be specified.");const w=`${this.baseUrl}${S}`;return this._fetchData(w).catch(k=>{throw new Error(`Unable to load font data at: ${w}`)})})}_fetchData(S){(0,n.unreachable)("Abstract method `_fetchData` called.")}}p.BaseStandardFontDataFactory=z;class j{constructor(){this.constructor===j&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(S,U,w=!1){if(S<=0||U<=0)throw new Error("Invalid SVG dimensions");const k=this._createSVG("svg:svg");return k.setAttribute("version","1.1"),w||(k.setAttribute("width",`${S}px`),k.setAttribute("height",`${U}px`)),k.setAttribute("preserveAspectRatio","none"),k.setAttribute("viewBox",`0 0 ${S} ${U}`),k}createElement(S){if(typeof S!="string")throw new Error("Invalid SVG element type");return this._createSVG(S)}_createSVG(S){(0,n.unreachable)("Abstract method `_createSVG` called.")}}p.BaseSVGFactory=j},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.MurmurHash3_64=void 0;var n=H(1);const A=3285377520,q=4294901760,V=65535;class z{constructor(M){this.h1=M?M&4294967295:A,this.h2=M?M&4294967295:A}update(M){let S,U;if(typeof M=="string"){S=new Uint8Array(M.length*2),U=0;for(let l=0,s=M.length;l<s;l++){const h=M.charCodeAt(l);h<=255?S[U++]=h:(S[U++]=h>>>8,S[U++]=h&255)}}else if((0,n.isArrayBuffer)(M))S=M.slice(),U=S.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const w=U>>2,k=U-w*4,m=new Uint32Array(S.buffer,0,w);let f=0,o=0,_=this.h1,C=this.h2;const x=3432918353,g=461845907,e=x&V,r=g&V;for(let l=0;l<w;l++)l&1?(f=m[l],f=f*x&q|f*e&V,f=f<<15|f>>>17,f=f*g&q|f*r&V,_^=f,_=_<<13|_>>>19,_=_*5+3864292196):(o=m[l],o=o*x&q|o*e&V,o=o<<15|o>>>17,o=o*g&q|o*r&V,C^=o,C=C<<13|C>>>19,C=C*5+3864292196);switch(f=0,k){case 3:f^=S[w*4+2]<<16;case 2:f^=S[w*4+1]<<8;case 1:f^=S[w*4],f=f*x&q|f*e&V,f=f<<15|f>>>17,f=f*g&q|f*r&V,w&1?_^=f:C^=f}this.h1=_,this.h2=C}hexdigest(){let M=this.h1,S=this.h2;return M^=S>>>1,M=M*3981806797&q|M*36045&V,S=S*4283543511&q|((S<<16|M>>>16)*2950163797&q)>>>16,M^=S>>>1,M=M*444984403&q|M*60499&V,S=S*3301882366&q|((S<<16|M>>>16)*3120437893&q)>>>16,M^=S>>>1,(M>>>0).toString(16).padStart(8,"0")+(S>>>0).toString(16).padStart(8,"0")}}p.MurmurHash3_64=z},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.FontLoader=p.FontFaceObject=void 0;var n=H(1),A=H(10);class q{constructor({ownerDocument:j=globalThis.document,styleElement:M=null}){this._document=j,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(j){this.nativeFontFaces.push(j),this._document.fonts.add(j)}insertRule(j){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const M=this.styleElement.sheet;M.insertRule(j,M.cssRules.length)}clear(){for(const j of this.nativeFontFaces)this._document.fonts.delete(j);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(j){return Wt(this,null,function*(){if(j.attached||j.missingFile)return;if(j.attached=!0,this.isFontLoadingAPISupported){const S=j.createNativeFontFace();if(S){this.addNativeFontFace(S);try{yield S.loaded}catch(U){throw(0,n.warn)(`Failed to load font '${S.family}': '${U}'.`),j.disableFontFace=!0,U}}return}const M=j.createFontFaceRule();if(M){if(this.insertRule(M),this.isSyncFontLoadingSupported)return;yield new Promise(S=>{const U=this._queueLoadingCallback(S);this._prepareFontLoadEvent(j,U)})}})}get isFontLoadingAPISupported(){var M;const j=!!((M=this._document)!=null&&M.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",j)}get isSyncFontLoadingSupported(){let j=!1;return(A.isNodeJS||typeof navigator!="undefined"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(j=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",j)}_queueLoadingCallback(j){function M(){for((0,n.assert)(!U.done,"completeRequest() cannot be called twice."),U.done=!0;S.length>0&&S[0].done;){const w=S.shift();setTimeout(w.callback,0)}}const{loadingRequests:S}=this,U={done:!1,complete:M,callback:j};return S.push(U),U}get _loadTestFont(){const j=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",j)}_prepareFontLoadEvent(j,M){function S(i,I){return i.charCodeAt(I)<<24|i.charCodeAt(I+1)<<16|i.charCodeAt(I+2)<<8|i.charCodeAt(I+3)&255}function U(i,I,G,Y){const J=i.substring(0,I),rt=i.substring(I+G);return J+Y+rt}let w,k;const m=this._document.createElement("canvas");m.width=1,m.height=1;const f=m.getContext("2d");let o=0;function _(i,I){if(++o>30){(0,n.warn)("Load test font never loaded."),I();return}if(f.font="30px "+i,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(_.bind(null,i,I))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let x=this._loadTestFont;x=U(x,976,C.length,C);const e=16,r=1482184792;let l=S(x,e);for(w=0,k=C.length-3;w<k;w+=4)l=l-r+S(C,w)|0;w<C.length&&(l=l-r+S(C+"XXX",w)|0),x=U(x,e,4,(0,n.string32)(l));const s=`url(data:font/opentype;base64,${btoa(x)});`,h=`@font-face {font-family:"${C}";src:${s}}`;this.insertRule(h);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const i of[j.loadedName,C]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=i,T.append(I)}this._document.body.append(T),_(C,()=>{T.remove(),M.complete()})}}p.FontLoader=q;class V{constructor(j,{isEvalSupported:M=!0,disableFontFace:S=!1,ignoreErrors:U=!1,inspectFont:w=null}){this.compiledGlyphs=Object.create(null);for(const k in j)this[k]=j[k];this.isEvalSupported=M!==!1,this.disableFontFace=S===!0,this.ignoreErrors=U===!0,this._inspectFont=w}createNativeFontFace(){var M;if(!this.data||this.disableFontFace)return null;let j;if(!this.cssFontInfo)j=new FontFace(this.loadedName,this.data,{});else{const S={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(S.style=`oblique ${this.cssFontInfo.italicAngle}deg`),j=new FontFace(this.cssFontInfo.fontFamily,this.data,S)}return(M=this._inspectFont)==null||M.call(this,this),j}createFontFaceRule(){var U;if(!this.data||this.disableFontFace)return null;const j=(0,n.bytesToString)(this.data),M=`url(data:${this.mimetype};base64,${btoa(j)});`;let S;if(!this.cssFontInfo)S=`@font-face {font-family:"${this.loadedName}";src:${M}}`;else{let w=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(w+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),S=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${w}src:${M}}`}return(U=this._inspectFont)==null||U.call(this,this,M),S}getPathGenerator(j,M){if(this.compiledGlyphs[M]!==void 0)return this.compiledGlyphs[M];let S;try{S=j.get(this.loadedName+"_path_"+M)}catch(U){if(!this.ignoreErrors)throw U;return(0,n.warn)(`getPathGenerator - ignoring character: "${U}".`),this.compiledGlyphs[M]=function(w,k){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const U=[];for(const w of S){const k=w.args!==void 0?w.args.join(","):"";U.push("c.",w.cmd,"(",k,`);
`)}return this.compiledGlyphs[M]=new Function("c","size",U.join(""))}return this.compiledGlyphs[M]=function(U,w){for(const k of S)k.cmd==="scale"&&(k.args=[w,-w]),U[k.cmd].apply(U,k.args)}}}p.FontFaceObject=V},(ct,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.isNodeJS=void 0;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");p.isNodeJS=H},(ct,p,H)=>{var ht,xe,vt,Re;Object.defineProperty(p,"__esModule",{value:!0}),p.CanvasGraphics=void 0;var n=H(1),A=H(6),q=H(12),V=H(13),z=H(10);const j=16,M=100,S=4096,U=15,w=10,k=1e3,m=16;function f($,c){if($._removeMirroring)throw new Error("Context is already forwarding operations.");$.__originalSave=$.save,$.__originalRestore=$.restore,$.__originalRotate=$.rotate,$.__originalScale=$.scale,$.__originalTranslate=$.translate,$.__originalTransform=$.transform,$.__originalSetTransform=$.setTransform,$.__originalResetTransform=$.resetTransform,$.__originalClip=$.clip,$.__originalMoveTo=$.moveTo,$.__originalLineTo=$.lineTo,$.__originalBezierCurveTo=$.bezierCurveTo,$.__originalRect=$.rect,$.__originalClosePath=$.closePath,$.__originalBeginPath=$.beginPath,$._removeMirroring=()=>{$.save=$.__originalSave,$.restore=$.__originalRestore,$.rotate=$.__originalRotate,$.scale=$.__originalScale,$.translate=$.__originalTranslate,$.transform=$.__originalTransform,$.setTransform=$.__originalSetTransform,$.resetTransform=$.__originalResetTransform,$.clip=$.__originalClip,$.moveTo=$.__originalMoveTo,$.lineTo=$.__originalLineTo,$.bezierCurveTo=$.__originalBezierCurveTo,$.rect=$.__originalRect,$.closePath=$.__originalClosePath,$.beginPath=$.__originalBeginPath,delete $._removeMirroring},$.save=function(){c.save(),this.__originalSave()},$.restore=function(){c.restore(),this.__originalRestore()},$.translate=function(y,N){c.translate(y,N),this.__originalTranslate(y,N)},$.scale=function(y,N){c.scale(y,N),this.__originalScale(y,N)},$.transform=function(y,N,R,W,O,L){c.transform(y,N,R,W,O,L),this.__originalTransform(y,N,R,W,O,L)},$.setTransform=function(y,N,R,W,O,L){c.setTransform(y,N,R,W,O,L),this.__originalSetTransform(y,N,R,W,O,L)},$.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},$.rotate=function(y){c.rotate(y),this.__originalRotate(y)},$.clip=function(y){c.clip(y),this.__originalClip(y)},$.moveTo=function(u,y){c.moveTo(u,y),this.__originalMoveTo(u,y)},$.lineTo=function(u,y){c.lineTo(u,y),this.__originalLineTo(u,y)},$.bezierCurveTo=function(u,y,N,R,W,O){c.bezierCurveTo(u,y,N,R,W,O),this.__originalBezierCurveTo(u,y,N,R,W,O)},$.rect=function(u,y,N,R){c.rect(u,y,N,R),this.__originalRect(u,y,N,R)},$.closePath=function(){c.closePath(),this.__originalClosePath()},$.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}class o{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,u,y){let N;return this.cache[c]!==void 0?(N=this.cache[c],this.canvasFactory.reset(N,u,y)):(N=this.canvasFactory.create(u,y),this.cache[c]=N),N}delete(c){delete this.cache[c]}clear(){for(const c in this.cache){const u=this.cache[c];this.canvasFactory.destroy(u),delete this.cache[c]}}}function _($,c,u,y,N,R,W,O,L,F){const[t,a,d,v,E,B]=(0,A.getCurrentTransform)($);if(a===0&&d===0){const tt=W*t+E,it=Math.round(tt),Q=O*v+B,nt=Math.round(Q),lt=(W+L)*t+E,ft=Math.abs(Math.round(lt)-it)||1,St=(O+F)*v+B,_t=Math.abs(Math.round(St)-nt)||1;return $.setTransform(Math.sign(t),0,0,Math.sign(v),it,nt),$.drawImage(c,u,y,N,R,0,0,ft,_t),$.setTransform(t,a,d,v,E,B),[ft,_t]}if(t===0&&v===0){const tt=O*d+E,it=Math.round(tt),Q=W*a+B,nt=Math.round(Q),lt=(O+F)*d+E,ft=Math.abs(Math.round(lt)-it)||1,St=(W+L)*a+B,_t=Math.abs(Math.round(St)-nt)||1;return $.setTransform(0,Math.sign(a),Math.sign(d),0,it,nt),$.drawImage(c,u,y,N,R,0,0,_t,ft),$.setTransform(t,a,d,v,E,B),[_t,ft]}$.drawImage(c,u,y,N,R,W,O,L,F);const Z=Math.hypot(t,a),X=Math.hypot(d,v);return[Z*L,X*F]}function C($){const{width:c,height:u}=$;if(c>k||u>k)return null;const y=1e3,N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),R=c+1;let W=new Uint8Array(R*(u+1)),O,L,F;const t=c+7&-8;let a=new Uint8Array(t*u),d=0;for(const X of $.data){let tt=128;for(;tt>0;)a[d++]=X&tt?0:255,tt>>=1}let v=0;for(d=0,a[d]!==0&&(W[0]=1,++v),L=1;L<c;L++)a[d]!==a[d+1]&&(W[L]=a[d]?2:1,++v),d++;for(a[d]!==0&&(W[L]=2,++v),O=1;O<u;O++){d=O*t,F=O*R,a[d-t]!==a[d]&&(W[F]=a[d]?1:8,++v);let X=(a[d]?4:0)+(a[d-t]?8:0);for(L=1;L<c;L++)X=(X>>2)+(a[d+1]?4:0)+(a[d-t+1]?8:0),N[X]&&(W[F+L]=N[X],++v),d++;if(a[d-t]!==a[d]&&(W[F+L]=a[d]?2:4,++v),v>y)return null}for(d=t*(u-1),F=O*R,a[d]!==0&&(W[F]=8,++v),L=1;L<c;L++)a[d]!==a[d+1]&&(W[F+L]=a[d]?4:8,++v),d++;if(a[d]!==0&&(W[F+L]=4,++v),v>y)return null;const E=new Int32Array([0,R,-1,0,-R,0,0,0,1]),B=new Path2D;for(O=0;v&&O<=u;O++){let X=O*R;const tt=X+c;for(;X<tt&&!W[X];)X++;if(X===tt)continue;B.moveTo(X%R,O);const it=X;let Q=W[X];do{const nt=E[Q];do X+=nt;while(!W[X]);const lt=W[X];lt!==5&&lt!==10?(Q=lt,W[X]=0):(Q=lt&51*Q>>4,W[X]&=Q>>2|Q<<2),B.lineTo(X%R,X/R|0),W[X]||--v}while(it!==X);--O}return a=null,W=null,function(X){X.save(),X.scale(1/c,-1/u),X.translate(0,-u),X.fill(B),X.beginPath(),X.restore()}}class x{constructor(c,u){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,c,u])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,u){this.x=c,this.y=u}updatePathMinMax(c,u,y){[u,y]=n.Util.applyTransform([u,y],c),this.minX=Math.min(this.minX,u),this.minY=Math.min(this.minY,y),this.maxX=Math.max(this.maxX,u),this.maxY=Math.max(this.maxY,y)}updateRectMinMax(c,u){const y=n.Util.applyTransform(u,c),N=n.Util.applyTransform(u.slice(2),c);this.minX=Math.min(this.minX,y[0],N[0]),this.minY=Math.min(this.minY,y[1],N[1]),this.maxX=Math.max(this.maxX,y[0],N[0]),this.maxY=Math.max(this.maxY,y[1],N[1])}updateScalingPathMinMax(c,u){n.Util.scaleMinMax(c,u),this.minX=Math.min(this.minX,u[0]),this.maxX=Math.max(this.maxX,u[1]),this.minY=Math.min(this.minY,u[2]),this.maxY=Math.max(this.maxY,u[3])}updateCurvePathMinMax(c,u,y,N,R,W,O,L,F,t){const a=n.Util.bezierBoundingBox(u,y,N,R,W,O,L,F);if(t){t[0]=Math.min(t[0],a[0],a[2]),t[1]=Math.max(t[1],a[0],a[2]),t[2]=Math.min(t[2],a[1],a[3]),t[3]=Math.max(t[3],a[1],a[3]);return}this.updateRectMinMax(c,a)}getPathBoundingBox(c=q.PathType.FILL,u=null){const y=[this.minX,this.minY,this.maxX,this.maxY];if(c===q.PathType.STROKE){u||(0,n.unreachable)("Stroke bounding box must include transform.");const N=n.Util.singularValueDecompose2dScale(u),R=N[0]*this.lineWidth/2,W=N[1]*this.lineWidth/2;y[0]-=R,y[1]-=W,y[2]+=R,y[3]+=W}return y}updateClipFromPath(){const c=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=q.PathType.FILL,u=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(c,u))}}function g($,c){if(typeof ImageData!="undefined"&&c instanceof ImageData){$.putImageData(c,0,0);return}const u=c.height,y=c.width,N=u%m,R=(u-N)/m,W=N===0?R:R+1,O=$.createImageData(y,m);let L=0,F;const t=c.data,a=O.data;let d,v,E,B;if(c.kind===n.ImageKind.GRAYSCALE_1BPP){const Z=t.byteLength,X=new Uint32Array(a.buffer,0,a.byteLength>>2),tt=X.length,it=y+7>>3,Q=4294967295,nt=n.FeatureTest.isLittleEndian?4278190080:255;for(d=0;d<W;d++){for(E=d<R?m:N,F=0,v=0;v<E;v++){const lt=Z-L;let ft=0;const St=lt>it?y:lt*8-7,_t=St&-8;let Pt=0,K=0;for(;ft<_t;ft+=8)K=t[L++],X[F++]=K&128?Q:nt,X[F++]=K&64?Q:nt,X[F++]=K&32?Q:nt,X[F++]=K&16?Q:nt,X[F++]=K&8?Q:nt,X[F++]=K&4?Q:nt,X[F++]=K&2?Q:nt,X[F++]=K&1?Q:nt;for(;ft<St;ft++)Pt===0&&(K=t[L++],Pt=128),X[F++]=K&Pt?Q:nt,Pt>>=1}for(;F<tt;)X[F++]=0;$.putImageData(O,0,d*m)}}else if(c.kind===n.ImageKind.RGBA_32BPP){for(v=0,B=y*m*4,d=0;d<R;d++)a.set(t.subarray(L,L+B)),L+=B,$.putImageData(O,0,v),v+=m;d<W&&(B=y*N*4,a.set(t.subarray(L,L+B)),$.putImageData(O,0,v))}else if(c.kind===n.ImageKind.RGB_24BPP)for(E=m,B=y*E,d=0;d<W;d++){for(d>=R&&(E=N,B=y*E),F=0,v=B;v--;)a[F++]=t[L++],a[F++]=t[L++],a[F++]=t[L++],a[F++]=255;$.putImageData(O,0,d*m)}else throw new Error(`bad image kind: ${c.kind}`)}function e($,c){if(c.bitmap){$.drawImage(c.bitmap,0,0);return}const u=c.height,y=c.width,N=u%m,R=(u-N)/m,W=N===0?R:R+1,O=$.createImageData(y,m);let L=0;const F=c.data,t=O.data;for(let a=0;a<W;a++){const d=a<R?m:N;({srcPos:L}=(0,V.convertBlackAndWhiteToRGBA)({src:F,srcPos:L,dest:t,width:y,height:d,nonBlackColor:0})),$.putImageData(O,0,a*m)}}function r($,c){const u=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const y of u)$[y]!==void 0&&(c[y]=$[y]);$.setLineDash!==void 0&&(c.setLineDash($.getLineDash()),c.lineDashOffset=$.lineDashOffset)}function l($){$.strokeStyle=$.fillStyle="#000000",$.fillRule="nonzero",$.globalAlpha=1,$.lineWidth=1,$.lineCap="butt",$.lineJoin="miter",$.miterLimit=10,$.globalCompositeOperation="source-over",$.font="10px sans-serif",$.setLineDash!==void 0&&($.setLineDash([]),$.lineDashOffset=0),z.isNodeJS||($.filter="none")}function s($,c,u,y){const N=$.length;for(let R=3;R<N;R+=4){const W=$[R];if(W===0)$[R-3]=c,$[R-2]=u,$[R-1]=y;else if(W<255){const O=255-W;$[R-3]=$[R-3]*W+c*O>>8,$[R-2]=$[R-2]*W+u*O>>8,$[R-1]=$[R-1]*W+y*O>>8}}}function h($,c,u){const y=$.length,N=1/255;for(let R=3;R<y;R+=4){const W=u?u[$[R]]:$[R];c[R]=c[R]*W*N|0}}function T($,c,u){const y=$.length;for(let N=3;N<y;N+=4){const R=$[N-3]*77+$[N-2]*152+$[N-1]*28;c[N]=u?c[N]*u[R>>8]>>8:c[N]*R>>16}}function i($,c,u,y,N,R,W,O,L,F,t){const a=!!R,d=a?R[0]:0,v=a?R[1]:0,E=a?R[2]:0;let B;N==="Luminosity"?B=T:B=h;const X=Math.min(y,Math.ceil(1048576/u));for(let tt=0;tt<y;tt+=X){const it=Math.min(X,y-tt),Q=$.getImageData(O-F,tt+(L-t),u,it),nt=c.getImageData(O,tt+L,u,it);a&&s(Q.data,d,v,E),B(Q.data,nt.data,W),c.putImageData(nt,O,tt+L)}}function I($,c,u,y){const N=y[0],R=y[1],W=y[2]-N,O=y[3]-R;W===0||O===0||(i(c.context,u,W,O,c.subtype,c.backdrop,c.transferMap,N,R,c.offsetX,c.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(u.canvas,0,0),$.restore())}function G($,c){const u=n.Util.singularValueDecompose2dScale($);u[0]=Math.fround(u[0]),u[1]=Math.fround(u[1]);const y=Math.fround((globalThis.devicePixelRatio||1)*A.PixelsPerInch.PDF_TO_CSS_UNITS);return c!==void 0?c:u[0]<=y||u[1]<=y}const Y=["butt","round","square"],J=["miter","round","bevel"],rt={},dt={},At=class{constructor(c,u,y,N,R,{optionalContentConfig:W,markedContentStack:O=null},L,F){et(this,ht);et(this,vt);this.ctx=c,this.current=new x(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=u,this.objs=y,this.canvasFactory=N,this.filterFactory=R,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=O||[],this.optionalContentConfig=W,this.cachedCanvases=new o(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=L,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=F,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(c,u=null){return typeof c=="string"?c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c):u}beginDrawing({transform:c,viewport:u,transparency:y=!1,background:N=null}){const R=this.ctx.canvas.width,W=this.ctx.canvas.height,O=this.ctx.fillStyle;if(this.ctx.fillStyle=N||"#ffffff",this.ctx.fillRect(0,0,R,W),this.ctx.fillStyle=O,y){const L=this.cachedCanvases.getCanvas("transparent",R,W);this.compositeCtx=this.ctx,this.transparentCanvas=L.canvas,this.ctx=L.context,this.ctx.save(),this.ctx.transform(...(0,A.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),l(this.ctx),c&&(this.ctx.transform(...c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform(...u.transform),this.viewportScale=u.scale,this.baseTransform=(0,A.getCurrentTransform)(this.ctx)}executeOperatorList(c,u,y,N){const R=c.argsArray,W=c.fnArray;let O=u||0;const L=R.length;if(L===O)return O;const F=L-O>w&&typeof y=="function",t=F?Date.now()+U:0;let a=0;const d=this.commonObjs,v=this.objs;let E;for(;;){if(N!==void 0&&O===N.nextBreakPoint)return N.breakIt(O,y),O;if(E=W[O],E!==n.OPS.dependency)this[E].apply(this,R[O]);else for(const B of R[O]){const Z=B.startsWith("g_")?d:v;if(!Z.has(B))return Z.get(B,y),O}if(O++,O===L)return O;if(F&&++a>w){if(Date.now()>t)return y(),O;a=0}}}endDrawing(){ot(this,ht,xe).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const c of this._cachedBitmapsMap.values()){for(const u of c.values())typeof HTMLCanvasElement!="undefined"&&u instanceof HTMLCanvasElement&&(u.width=u.height=0);c.clear()}this._cachedBitmapsMap.clear(),ot(this,vt,Re).call(this)}_scaleImage(c,u){const y=c.width,N=c.height;let R=Math.max(Math.hypot(u[0],u[1]),1),W=Math.max(Math.hypot(u[2],u[3]),1),O=y,L=N,F="prescale1",t,a;for(;R>2&&O>1||W>2&&L>1;){let d=O,v=L;R>2&&O>1&&(d=O>=16384?Math.floor(O/2)-1||1:Math.ceil(O/2),R/=O/d),W>2&&L>1&&(v=L>=16384?Math.floor(L/2)-1||1:Math.ceil(L)/2,W/=L/v),t=this.cachedCanvases.getCanvas(F,d,v),a=t.context,a.clearRect(0,0,d,v),a.drawImage(c,0,0,O,L,0,0,d,v),c=t.canvas,O=d,L=v,F=F==="prescale1"?"prescale2":"prescale1"}return{img:c,paintWidth:O,paintHeight:L}}_createMaskCanvas(c){const u=this.ctx,{width:y,height:N}=c,R=this.current.fillColor,W=this.current.patternFill,O=(0,A.getCurrentTransform)(u);let L,F,t,a;if((c.bitmap||c.data)&&c.count>1){const ft=c.bitmap||c.data.buffer;F=JSON.stringify(W?O:[O.slice(0,4),R]),L=this._cachedBitmapsMap.get(ft),L||(L=new Map,this._cachedBitmapsMap.set(ft,L));const St=L.get(F);if(St&&!W){const _t=Math.round(Math.min(O[0],O[2])+O[4]),Pt=Math.round(Math.min(O[1],O[3])+O[5]);return{canvas:St,offsetX:_t,offsetY:Pt}}t=St}t||(a=this.cachedCanvases.getCanvas("maskCanvas",y,N),e(a.context,c));let d=n.Util.transform(O,[1/y,0,0,-1/N,0,0]);d=n.Util.transform(d,[1,0,0,1,0,-N]);const v=n.Util.applyTransform([0,0],d),E=n.Util.applyTransform([y,N],d),B=n.Util.normalizeRect([v[0],v[1],E[0],E[1]]),Z=Math.round(B[2]-B[0])||1,X=Math.round(B[3]-B[1])||1,tt=this.cachedCanvases.getCanvas("fillCanvas",Z,X),it=tt.context,Q=Math.min(v[0],E[0]),nt=Math.min(v[1],E[1]);it.translate(-Q,-nt),it.transform(...d),t||(t=this._scaleImage(a.canvas,(0,A.getCurrentTransformInverse)(it)),t=t.img,L&&W&&L.set(F,t)),it.imageSmoothingEnabled=G((0,A.getCurrentTransform)(it),c.interpolate),_(it,t,0,0,t.width,t.height,0,0,y,N),it.globalCompositeOperation="source-in";const lt=n.Util.transform((0,A.getCurrentTransformInverse)(it),[1,0,0,1,-Q,-nt]);return it.fillStyle=W?R.getPattern(u,this,lt,q.PathType.FILL):R,it.fillRect(0,0,y,N),L&&!W&&(this.cachedCanvases.delete("fillCanvas"),L.set(F,tt.canvas)),{canvas:tt.canvas,offsetX:Math.round(Q),offsetY:Math.round(nt)}}setLineWidth(c){c!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=Y[c]}setLineJoin(c){this.ctx.lineJoin=J[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,u){const y=this.ctx;y.setLineDash!==void 0&&(y.setLineDash(c),y.lineDashOffset=u)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(const[u,y]of c)switch(u){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y[0],y[1]);break;case"CA":this.current.strokeAlpha=y;break;case"ca":this.current.fillAlpha=y,this.ctx.globalAlpha=y;break;case"BM":this.ctx.globalCompositeOperation=y;break;case"SMask":this.current.activeSMask=y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(y);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const c=this.ctx.canvas.width,u=this.ctx.canvas.height,y="smaskGroupAt"+this.groupLevel,N=this.cachedCanvases.getCanvas(y,c,u);this.suspendedCtx=this.ctx,this.ctx=N.context;const R=this.ctx;R.setTransform(...(0,A.getCurrentTransform)(this.suspendedCtx)),r(this.suspendedCtx,R),f(R,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),r(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){if(!this.current.activeSMask)return;c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const u=this.current.activeSMask,y=this.suspendedCtx;I(y,u,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(r(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),r(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(c,u,y,N,R,W){this.ctx.transform(c,u,y,N,R,W),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(c,u,y){const N=this.ctx,R=this.current;let W=R.x,O=R.y,L,F;const t=(0,A.getCurrentTransform)(N),a=t[0]===0&&t[3]===0||t[1]===0&&t[2]===0,d=a?y.slice(0):null;for(let v=0,E=0,B=c.length;v<B;v++)switch(c[v]|0){case n.OPS.rectangle:W=u[E++],O=u[E++];const Z=u[E++],X=u[E++],tt=W+Z,it=O+X;N.moveTo(W,O),Z===0||X===0?N.lineTo(tt,it):(N.lineTo(tt,O),N.lineTo(tt,it),N.lineTo(W,it)),a||R.updateRectMinMax(t,[W,O,tt,it]),N.closePath();break;case n.OPS.moveTo:W=u[E++],O=u[E++],N.moveTo(W,O),a||R.updatePathMinMax(t,W,O);break;case n.OPS.lineTo:W=u[E++],O=u[E++],N.lineTo(W,O),a||R.updatePathMinMax(t,W,O);break;case n.OPS.curveTo:L=W,F=O,W=u[E+4],O=u[E+5],N.bezierCurveTo(u[E],u[E+1],u[E+2],u[E+3],W,O),R.updateCurvePathMinMax(t,L,F,u[E],u[E+1],u[E+2],u[E+3],W,O,d),E+=6;break;case n.OPS.curveTo2:L=W,F=O,N.bezierCurveTo(W,O,u[E],u[E+1],u[E+2],u[E+3]),R.updateCurvePathMinMax(t,L,F,W,O,u[E],u[E+1],u[E+2],u[E+3],d),W=u[E+2],O=u[E+3],E+=4;break;case n.OPS.curveTo3:L=W,F=O,W=u[E+2],O=u[E+3],N.bezierCurveTo(u[E],u[E+1],W,O,W,O),R.updateCurvePathMinMax(t,L,F,u[E],u[E+1],W,O,W,O,d),E+=4;break;case n.OPS.closePath:N.closePath();break}a&&R.updateScalingPathMinMax(t,d),R.setCurrentPoint(W,O)}closePath(){this.ctx.closePath()}stroke(c=!0){const u=this.ctx,y=this.current.strokeColor;u.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof y=="object"&&(y!=null&&y.getPattern)?(u.save(),u.strokeStyle=y.getPattern(u,this,(0,A.getCurrentTransformInverse)(u),q.PathType.STROKE),this.rescaleAndStroke(!1),u.restore()):this.rescaleAndStroke(!0)),c&&this.consumePath(this.current.getClippedPathBoundingBox()),u.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c=!0){const u=this.ctx,y=this.current.fillColor,N=this.current.patternFill;let R=!1;N&&(u.save(),u.fillStyle=y.getPattern(u,this,(0,A.getCurrentTransformInverse)(u),q.PathType.FILL),R=!0);const W=this.current.getClippedPathBoundingBox();this.contentVisible&&W!==null&&(this.pendingEOFill?(u.fill("evenodd"),this.pendingEOFill=!1):u.fill()),R&&u.restore(),c&&this.consumePath(W)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=rt}eoClip(){this.pendingClip=dt}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,u=this.ctx;if(c===void 0){u.beginPath();return}u.save(),u.beginPath();for(const y of c)u.setTransform(...y.transform),u.translate(y.x,y.y),y.addToPath(u,y.fontSize);u.restore(),u.clip(),u.beginPath(),delete this.pendingTextPaths}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,u){const y=this.commonObjs.get(c),N=this.current;if(!y)throw new Error(`Can't find font for ${c}`);if(N.fontMatrix=y.fontMatrix||n.FONT_IDENTITY_MATRIX,(N.fontMatrix[0]===0||N.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+c),u<0?(u=-u,N.fontDirection=-1):N.fontDirection=1,this.current.font=y,this.current.fontSize=u,y.isType3Font)return;const R=y.loadedName||"sans-serif";let W="normal";y.black?W="900":y.bold&&(W="bold");const O=y.italic?"italic":"normal",L=`"${R}", ${y.fallbackName}`;let F=u;u<j?F=j:u>M&&(F=M),this.current.fontSizeScale=u/F,this.ctx.font=`${O} ${W} ${F}px ${L}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,u){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=u}setLeadingMoveText(c,u){this.setLeading(-u),this.moveText(c,u)}setTextMatrix(c,u,y,N,R,W){this.current.textMatrix=[c,u,y,N,R,W],this.current.textMatrixScale=Math.hypot(c,u),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,u,y,N){const R=this.ctx,W=this.current,O=W.font,L=W.textRenderingMode,F=W.fontSize/W.fontSizeScale,t=L&n.TextRenderingMode.FILL_STROKE_MASK,a=!!(L&n.TextRenderingMode.ADD_TO_PATH_FLAG),d=W.patternFill&&!O.missingFile;let v;(O.disableFontFace||a||d)&&(v=O.getPathGenerator(this.commonObjs,c)),O.disableFontFace||d?(R.save(),R.translate(u,y),R.beginPath(),v(R,F),N&&R.setTransform(...N),(t===n.TextRenderingMode.FILL||t===n.TextRenderingMode.FILL_STROKE)&&R.fill(),(t===n.TextRenderingMode.STROKE||t===n.TextRenderingMode.FILL_STROKE)&&R.stroke(),R.restore()):((t===n.TextRenderingMode.FILL||t===n.TextRenderingMode.FILL_STROKE)&&R.fillText(c,u,y),(t===n.TextRenderingMode.STROKE||t===n.TextRenderingMode.FILL_STROKE)&&R.strokeText(c,u,y)),a&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,A.getCurrentTransform)(R),x:u,y,fontSize:F,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);c.scale(1.5,1),c.fillText("I",0,10);const u=c.getImageData(0,0,10,10).data;let y=!1;for(let N=3;N<u.length;N+=4)if(u[N]>0&&u[N]<255){y=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",y)}showText(c){const u=this.current,y=u.font;if(y.isType3Font)return this.showType3Text(c);const N=u.fontSize;if(N===0)return;const R=this.ctx,W=u.fontSizeScale,O=u.charSpacing,L=u.wordSpacing,F=u.fontDirection,t=u.textHScale*F,a=c.length,d=y.vertical,v=d?1:-1,E=y.defaultVMetrics,B=N*u.fontMatrix[0],Z=u.textRenderingMode===n.TextRenderingMode.FILL&&!y.disableFontFace&&!u.patternFill;R.save(),R.transform(...u.textMatrix),R.translate(u.x,u.y+u.textRise),F>0?R.scale(t,-1):R.scale(t,1);let X;if(u.patternFill){R.save();const lt=u.fillColor.getPattern(R,this,(0,A.getCurrentTransformInverse)(R),q.PathType.FILL);X=(0,A.getCurrentTransform)(R),R.restore(),R.fillStyle=lt}let tt=u.lineWidth;const it=u.textMatrixScale;if(it===0||tt===0){const lt=u.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(lt===n.TextRenderingMode.STROKE||lt===n.TextRenderingMode.FILL_STROKE)&&(tt=this.getSinglePixelWidth())}else tt/=it;if(W!==1&&(R.scale(W,W),tt/=W),R.lineWidth=tt,y.isInvalidPDFjsFont){const lt=[];let ft=0;for(const St of c)lt.push(St.unicode),ft+=St.width;R.fillText(lt.join(""),0,0),u.x+=ft*B*t,R.restore(),this.compose();return}let Q=0,nt;for(nt=0;nt<a;++nt){const lt=c[nt];if(typeof lt=="number"){Q+=v*lt*N/1e3;continue}let ft=!1;const St=(lt.isSpace?L:0)+O,_t=lt.fontChar,Pt=lt.accent;let K,pt,yt=lt.width;if(d){const ut=lt.vmetric||E,P=-(lt.vmetric?ut[1]:yt*.5)*B,D=ut[2]*B;yt=ut?-ut[0]:yt,K=P/W,pt=(Q+D)/W}else K=Q/W,pt=0;if(y.remeasure&&yt>0){const ut=R.measureText(_t).width*1e3/N*W;if(yt<ut&&this.isFontSubpixelAAEnabled){const P=yt/ut;ft=!0,R.save(),R.scale(P,1),K/=P}else yt!==ut&&(K+=(yt-ut)/2e3*N/W)}if(this.contentVisible&&(lt.isInFont||y.missingFile)){if(Z&&!Pt)R.fillText(_t,K,pt);else if(this.paintChar(_t,K,pt,X),Pt){const ut=K+N*Pt.offset.x/W,P=pt-N*Pt.offset.y/W;this.paintChar(Pt.fontChar,ut,P,X)}}let Rt;d?Rt=yt*B-St*F:Rt=yt*B+St*F,Q+=Rt,ft&&R.restore()}d?u.y-=Q:u.x+=Q*t,R.restore(),this.compose()}showType3Text(c){const u=this.ctx,y=this.current,N=y.font,R=y.fontSize,W=y.fontDirection,O=N.vertical?1:-1,L=y.charSpacing,F=y.wordSpacing,t=y.textHScale*W,a=y.fontMatrix||n.FONT_IDENTITY_MATRIX,d=c.length,v=y.textRenderingMode===n.TextRenderingMode.INVISIBLE;let E,B,Z,X;if(!(v||R===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,u.save(),u.transform(...y.textMatrix),u.translate(y.x,y.y),u.scale(t,W),E=0;E<d;++E){if(B=c[E],typeof B=="number"){X=O*B*R/1e3,this.ctx.translate(X,0),y.x+=X*t;continue}const tt=(B.isSpace?F:0)+L,it=N.charProcOperatorList[B.operatorListId];if(!it){(0,n.warn)(`Type3 character "${B.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=B,this.save(),u.scale(R,R),u.transform(...a),this.executeOperatorList(it),this.restore()),Z=n.Util.applyTransform([B.width,0],a)[0]*R+tt,u.translate(Z,0),y.x+=Z*t}u.restore(),this.processingType3=null}}setCharWidth(c,u){}setCharWidthAndBounds(c,u,y,N,R,W){this.ctx.rect(y,N,R-y,W-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(c){let u;if(c[0]==="TilingPattern"){const y=c[1],N=this.baseTransform||(0,A.getCurrentTransform)(this.ctx),R={createCanvasGraphics:W=>new At(W,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};u=new q.TilingPattern(c,y,this.ctx,R,N)}else u=this._getPattern(c[1],c[2]);return u}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,u,y){const N=n.Util.makeHexColor(c,u,y);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(c,u,y){const N=n.Util.makeHexColor(c,u,y);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(c,u=null){let y;return this.cachedPatterns.has(c)?y=this.cachedPatterns.get(c):(y=(0,q.getShadingPattern)(this.getObject(c)),this.cachedPatterns.set(c,y)),u&&(y.matrix=u),y}shadingFill(c){if(!this.contentVisible)return;const u=this.ctx;this.save();const y=this._getPattern(c);u.fillStyle=y.getPattern(u,this,(0,A.getCurrentTransformInverse)(u),q.PathType.SHADING);const N=(0,A.getCurrentTransformInverse)(u);if(N){const R=u.canvas,W=R.width,O=R.height,L=n.Util.applyTransform([0,0],N),F=n.Util.applyTransform([0,O],N),t=n.Util.applyTransform([W,0],N),a=n.Util.applyTransform([W,O],N),d=Math.min(L[0],F[0],t[0],a[0]),v=Math.min(L[1],F[1],t[1],a[1]),E=Math.max(L[0],F[0],t[0],a[0]),B=Math.max(L[1],F[1],t[1],a[1]);this.ctx.fillRect(d,v,E-d,B-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,u){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&c.length===6&&this.transform(...c),this.baseTransform=(0,A.getCurrentTransform)(this.ctx),u)){const y=u[2]-u[0],N=u[3]-u[1];this.ctx.rect(u[0],u[1],y,N),this.current.updateRectMinMax((0,A.getCurrentTransform)(this.ctx),u),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const u=this.ctx;c.isolated||(0,n.info)("TODO: Support non-isolated groups."),c.knockout&&(0,n.warn)("Knockout groups not supported.");const y=(0,A.getCurrentTransform)(u);if(c.matrix&&u.transform(...c.matrix),!c.bbox)throw new Error("Bounding box is required.");let N=n.Util.getAxialAlignedBoundingBox(c.bbox,(0,A.getCurrentTransform)(u));const R=[0,0,u.canvas.width,u.canvas.height];N=n.Util.intersect(N,R)||[0,0,0,0];const W=Math.floor(N[0]),O=Math.floor(N[1]);let L=Math.max(Math.ceil(N[2])-W,1),F=Math.max(Math.ceil(N[3])-O,1),t=1,a=1;L>S&&(t=L/S,L=S),F>S&&(a=F/S,F=S),this.current.startNewPathAndClipBox([0,0,L,F]);let d="groupAt"+this.groupLevel;c.smask&&(d+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(d,L,F),E=v.context;E.scale(1/t,1/a),E.translate(-W,-O),E.transform(...y),c.smask?this.smaskStack.push({canvas:v.canvas,context:E,offsetX:W,offsetY:O,scaleX:t,scaleY:a,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(u.setTransform(1,0,0,1,0,0),u.translate(W,O),u.scale(t,a),u.save()),r(u,E),this.ctx=E,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(u),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const u=this.ctx,y=this.groupStack.pop();if(this.ctx=y,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=(0,A.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);const R=n.Util.getAxialAlignedBoundingBox([0,0,u.canvas.width,u.canvas.height],N);this.ctx.drawImage(u.canvas,0,0),this.ctx.restore(),this.compose(R)}}beginAnnotation(c,u,y,N,R){if(ot(this,ht,xe).call(this),l(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(u)&&u.length===4){const W=u[2]-u[0],O=u[3]-u[1];if(R&&this.annotationCanvasMap){y=y.slice(),y[4]-=u[0],y[5]-=u[1],u=u.slice(),u[0]=u[1]=0,u[2]=W,u[3]=O;const[L,F]=n.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(this.ctx)),{viewportScale:t}=this,a=Math.ceil(W*this.outputScaleX*t),d=Math.ceil(O*this.outputScaleY*t);this.annotationCanvas=this.canvasFactory.create(a,d);const{canvas:v,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(c,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(L,0,0,-F,0,O*F),l(this.ctx)}else l(this.ctx),this.ctx.rect(u[0],u[1],W,O),this.ctx.clip(),this.endPath()}this.current=new x(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...y),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ot(this,vt,Re).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(c){if(!this.contentVisible)return;const u=c.count;c=this.getObject(c.data,c),c.count=u;const y=this.ctx,N=this.processingType3;if(N&&(N.compiled===void 0&&(N.compiled=C(c)),N.compiled)){N.compiled(y);return}const R=this._createMaskCanvas(c),W=R.canvas;y.save(),y.setTransform(1,0,0,1,0,0),y.drawImage(W,R.offsetX,R.offsetY),y.restore(),this.compose()}paintImageMaskXObjectRepeat(c,u,y=0,N=0,R,W){if(!this.contentVisible)return;c=this.getObject(c.data,c);const O=this.ctx;O.save();const L=(0,A.getCurrentTransform)(O);O.transform(u,y,N,R,0,0);const F=this._createMaskCanvas(c);O.setTransform(1,0,0,1,F.offsetX-L[4],F.offsetY-L[5]);for(let t=0,a=W.length;t<a;t+=2){const d=n.Util.transform(L,[u,y,N,R,W[t],W[t+1]]),[v,E]=n.Util.applyTransform([0,0],d);O.drawImage(F.canvas,v,E)}O.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const u=this.ctx,y=this.current.fillColor,N=this.current.patternFill;for(const R of c){const{data:W,width:O,height:L,transform:F}=R,t=this.cachedCanvases.getCanvas("maskCanvas",O,L),a=t.context;a.save();const d=this.getObject(W,R);e(a,d),a.globalCompositeOperation="source-in",a.fillStyle=N?y.getPattern(a,this,(0,A.getCurrentTransformInverse)(u),q.PathType.FILL):y,a.fillRect(0,0,O,L),a.restore(),u.save(),u.transform(...F),u.scale(1,-1),_(u,t.canvas,0,0,O,L,0,-1,1,1),u.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const u=this.getObject(c);if(!u){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(u)}paintImageXObjectRepeat(c,u,y,N){if(!this.contentVisible)return;const R=this.getObject(c);if(!R){(0,n.warn)("Dependent image isn't ready yet");return}const W=R.width,O=R.height,L=[];for(let F=0,t=N.length;F<t;F+=2)L.push({transform:[u,0,0,y,N[F],N[F+1]],x:0,y:0,w:W,h:O});this.paintInlineImageXObjectGroup(R,L)}applyTransferMapsToCanvas(c){return this.current.transferMaps!=="none"&&(c.filter=this.current.transferMaps,c.drawImage(c.canvas,0,0),c.filter="none"),c.canvas}applyTransferMapsToBitmap(c){if(this.current.transferMaps==="none")return c.bitmap;const{bitmap:u,width:y,height:N}=c,R=this.cachedCanvases.getCanvas("inlineImage",y,N),W=R.context;return W.filter=this.current.transferMaps,W.drawImage(u,0,0),W.filter="none",R.canvas}paintInlineImageXObject(c){if(!this.contentVisible)return;const u=c.width,y=c.height,N=this.ctx;this.save(),z.isNodeJS||(N.filter="none"),N.scale(1/u,-1/y);let R;if(c.bitmap)R=this.applyTransferMapsToBitmap(c);else if(typeof HTMLElement=="function"&&c instanceof HTMLElement||!c.data)R=c;else{const L=this.cachedCanvases.getCanvas("inlineImage",u,y).context;g(L,c),R=this.applyTransferMapsToCanvas(L)}const W=this._scaleImage(R,(0,A.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=G((0,A.getCurrentTransform)(N),c.interpolate),_(N,W.img,0,0,W.paintWidth,W.paintHeight,0,-y,u,y),this.compose(),this.restore()}paintInlineImageXObjectGroup(c,u){if(!this.contentVisible)return;const y=this.ctx;let N;if(c.bitmap)N=c.bitmap;else{const R=c.width,W=c.height,L=this.cachedCanvases.getCanvas("inlineImage",R,W).context;g(L,c),N=this.applyTransferMapsToCanvas(L)}for(const R of u)y.save(),y.transform(...R.transform),y.scale(1,-1),_(y,N,R.x,R.y,R.w,R.h,0,-1,1,1),y.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,u){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,u){c==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(u)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){const u=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const y=this.ctx;this.pendingClip&&(u||(this.pendingClip===dt?y.clip("evenodd"):y.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),y.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const c=(0,A.getCurrentTransform)(this.ctx);if(c[1]===0&&c[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(c[0]),Math.abs(c[3]));else{const u=Math.abs(c[0]*c[3]-c[2]*c[1]),y=Math.hypot(c[0],c[2]),N=Math.hypot(c[1],c[3]);this._cachedGetSinglePixelWidth=Math.max(y,N)/u}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:c}=this.current,u=(0,A.getCurrentTransform)(this.ctx);let y,N;if(u[1]===0&&u[2]===0){const R=Math.abs(u[0]),W=Math.abs(u[3]);if(c===0)y=1/R,N=1/W;else{const O=R*c,L=W*c;y=O<1?1/O:1,N=L<1?1/L:1}}else{const R=Math.abs(u[0]*u[3]-u[2]*u[1]),W=Math.hypot(u[0],u[1]),O=Math.hypot(u[2],u[3]);if(c===0)y=O/R,N=W/R;else{const L=c*R;y=O>L?O/L:1,N=W>L?W/L:1}}this._cachedScaleForStroking=[y,N]}return this._cachedScaleForStroking}rescaleAndStroke(c){const{ctx:u}=this,{lineWidth:y}=this.current,[N,R]=this.getScaleForStroking();if(u.lineWidth=y||1,N===1&&R===1){u.stroke();return}let W,O,L;c&&(W=(0,A.getCurrentTransform)(u),O=u.getLineDash().slice(),L=u.lineDashOffset),u.scale(N,R);const F=Math.max(N,R);u.setLineDash(u.getLineDash().map(t=>t/F)),u.lineDashOffset/=F,u.stroke(),c&&(u.setTransform(...W),u.setLineDash(O),u.lineDashOffset=L)}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}};let st=At;ht=new WeakSet,xe=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},vt=new WeakSet,Re=function(){if(this.pageColors){const c=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(c!=="none"){const u=this.ctx.filter;this.ctx.filter=c,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=u}}},p.CanvasGraphics=st;for(const $ in n.OPS)st.prototype[$]!==void 0&&(st.prototype[n.OPS[$]]=st.prototype[$])},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TilingPattern=p.PathType=void 0,p.getShadingPattern=k;var n=H(1),A=H(6);const q={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};p.PathType=q;function V(_,C){if(!C)return;const x=C[2]-C[0],g=C[3]-C[1],e=new Path2D;e.rect(C[0],C[1],x,g),_.clip(e)}class z{constructor(){this.constructor===z&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class j extends z{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let x;this._type==="axial"?x=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(x=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const g of this._colorStops)x.addColorStop(g[0],g[1]);return x}getPattern(C,x,g,e){let r;if(e===q.STROKE||e===q.FILL){const l=x.current.getClippedPathBoundingBox(e,(0,A.getCurrentTransform)(C))||[0,0,0,0],s=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,T=x.cachedCanvases.getCanvas("pattern",s,h,!0),i=T.context;i.clearRect(0,0,i.canvas.width,i.canvas.height),i.beginPath(),i.rect(0,0,i.canvas.width,i.canvas.height),i.translate(-l[0],-l[1]),g=n.Util.transform(g,[1,0,0,1,l[0],l[1]]),i.transform(...x.baseTransform),this.matrix&&i.transform(...this.matrix),V(i,this._bbox),i.fillStyle=this._createGradient(i),i.fill(),r=C.createPattern(T.canvas,"no-repeat");const I=new DOMMatrix(g);r.setTransform(I)}else V(C,this._bbox),r=this._createGradient(C);return r}}function M(_,C,x,g,e,r,l,s){const h=C.coords,T=C.colors,i=_.data,I=_.width*4;let G;h[x+1]>h[g+1]&&(G=x,x=g,g=G,G=r,r=l,l=G),h[g+1]>h[e+1]&&(G=g,g=e,e=G,G=l,l=s,s=G),h[x+1]>h[g+1]&&(G=x,x=g,g=G,G=r,r=l,l=G);const Y=(h[x]+C.offsetX)*C.scaleX,J=(h[x+1]+C.offsetY)*C.scaleY,rt=(h[g]+C.offsetX)*C.scaleX,dt=(h[g+1]+C.offsetY)*C.scaleY,st=(h[e]+C.offsetX)*C.scaleX,ht=(h[e+1]+C.offsetY)*C.scaleY;if(J>=ht)return;const bt=T[r],vt=T[r+1],Ct=T[r+2],At=T[l],$=T[l+1],c=T[l+2],u=T[s],y=T[s+1],N=T[s+2],R=Math.round(J),W=Math.round(ht);let O,L,F,t,a,d,v,E;for(let B=R;B<=W;B++){if(B<dt){let Q;B<J?Q=0:Q=(J-B)/(J-dt),O=Y-(Y-rt)*Q,L=bt-(bt-At)*Q,F=vt-(vt-$)*Q,t=Ct-(Ct-c)*Q}else{let Q;B>ht?Q=1:dt===ht?Q=0:Q=(dt-B)/(dt-ht),O=rt-(rt-st)*Q,L=At-(At-u)*Q,F=$-($-y)*Q,t=c-(c-N)*Q}let Z;B<J?Z=0:B>ht?Z=1:Z=(J-B)/(J-ht),a=Y-(Y-st)*Z,d=bt-(bt-u)*Z,v=vt-(vt-y)*Z,E=Ct-(Ct-N)*Z;const X=Math.round(Math.min(O,a)),tt=Math.round(Math.max(O,a));let it=I*B+X*4;for(let Q=X;Q<=tt;Q++)Z=(O-Q)/(O-a),Z<0?Z=0:Z>1&&(Z=1),i[it++]=L-(L-d)*Z|0,i[it++]=F-(F-v)*Z|0,i[it++]=t-(t-E)*Z|0,i[it++]=255}}function S(_,C,x){const g=C.coords,e=C.colors;let r,l;switch(C.type){case"lattice":const s=C.verticesPerRow,h=Math.floor(g.length/s)-1,T=s-1;for(r=0;r<h;r++){let i=r*s;for(let I=0;I<T;I++,i++)M(_,x,g[i],g[i+1],g[i+s],e[i],e[i+1],e[i+s]),M(_,x,g[i+s+1],g[i+1],g[i+s],e[i+s+1],e[i+1],e[i+s])}break;case"triangles":for(r=0,l=g.length;r<l;r+=3)M(_,x,g[r],g[r+1],g[r+2],e[r],e[r+1],e[r+2]);break;default:throw new Error("illegal figure")}}class U extends z{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,x,g){const s=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),T=Math.ceil(this._bounds[2])-s,i=Math.ceil(this._bounds[3])-h,I=Math.min(Math.ceil(Math.abs(T*C[0]*1.1)),3e3),G=Math.min(Math.ceil(Math.abs(i*C[1]*1.1)),3e3),Y=T/I,J=i/G,rt={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-h,scaleX:1/Y,scaleY:1/J},dt=I+2*2,st=G+2*2,ht=g.getCanvas("mesh",dt,st,!1),bt=ht.context,vt=bt.createImageData(I,G);if(x){const At=vt.data;for(let $=0,c=At.length;$<c;$+=4)At[$]=x[0],At[$+1]=x[1],At[$+2]=x[2],At[$+3]=255}for(const At of this._figures)S(vt,At,rt);return bt.putImageData(vt,2,2),{canvas:ht.canvas,offsetX:s-2*Y,offsetY:h-2*J,scaleX:Y,scaleY:J}}getPattern(C,x,g,e){V(C,this._bbox);let r;if(e===q.SHADING)r=n.Util.singularValueDecompose2dScale((0,A.getCurrentTransform)(C));else if(r=n.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const s=n.Util.singularValueDecompose2dScale(this.matrix);r=[r[0]*s[0],r[1]*s[1]]}const l=this._createMeshCanvas(r,e===q.SHADING?null:this._background,x.cachedCanvases);return e!==q.SHADING&&(C.setTransform(...x.baseTransform),this.matrix&&C.transform(...this.matrix)),C.translate(l.offsetX,l.offsetY),C.scale(l.scaleX,l.scaleY),C.createPattern(l.canvas,"no-repeat")}}class w extends z{getPattern(){return"hotpink"}}function k(_){switch(_[0]){case"RadialAxial":return new j(_);case"Mesh":return new U(_);case"Dummy":return new w}throw new Error(`Unknown IR type: ${_[0]}`)}const m={COLORED:1,UNCOLORED:2},o=class{constructor(C,x,g,e,r){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=x,this.ctx=g,this.canvasGraphicsFactory=e,this.baseTransform=r}createPatternCanvas(C){const x=this.operatorList,g=this.bbox,e=this.xstep,r=this.ystep,l=this.paintType,s=this.tilingType,h=this.color,T=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+s);const i=g[0],I=g[1],G=g[2],Y=g[3],J=n.Util.singularValueDecompose2dScale(this.matrix),rt=n.Util.singularValueDecompose2dScale(this.baseTransform),dt=[J[0]*rt[0],J[1]*rt[1]],st=this.getSizeAndScale(e,this.ctx.canvas.width,dt[0]),ht=this.getSizeAndScale(r,this.ctx.canvas.height,dt[1]),bt=C.cachedCanvases.getCanvas("pattern",st.size,ht.size,!0),vt=bt.context,Ct=T.createCanvasGraphics(vt);Ct.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(Ct,l,h);let At=i,$=I,c=G,u=Y;return i<0&&(At=0,c+=Math.abs(i)),I<0&&($=0,u+=Math.abs(I)),vt.translate(-(st.scale*At),-(ht.scale*$)),Ct.transform(st.scale,0,0,ht.scale,0,0),vt.save(),this.clipBbox(Ct,At,$,c,u),Ct.baseTransform=(0,A.getCurrentTransform)(Ct.ctx),Ct.executeOperatorList(x),Ct.endDrawing(),{canvas:bt.canvas,scaleX:st.scale,scaleY:ht.scale,offsetX:At,offsetY:$}}getSizeAndScale(C,x,g){C=Math.abs(C);const e=Math.max(o.MAX_PATTERN_SIZE,x);let r=Math.ceil(C*g);return r>=e?r=e:g=r/C,{scale:g,size:r}}clipBbox(C,x,g,e,r){const l=e-x,s=r-g;C.ctx.rect(x,g,l,s),C.current.updateRectMinMax((0,A.getCurrentTransform)(C.ctx),[x,g,e,r]),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,x,g){const e=C.ctx,r=C.current;switch(x){case m.COLORED:const l=this.ctx;e.fillStyle=l.fillStyle,e.strokeStyle=l.strokeStyle,r.fillColor=l.fillStyle,r.strokeColor=l.strokeStyle;break;case m.UNCOLORED:const s=n.Util.makeHexColor(g[0],g[1],g[2]);e.fillStyle=s,e.strokeStyle=s,r.fillColor=s,r.strokeColor=s;break;default:throw new n.FormatError(`Unsupported paint type: ${x}`)}}getPattern(C,x,g,e){let r=g;e!==q.SHADING&&(r=n.Util.transform(r,x.baseTransform),this.matrix&&(r=n.Util.transform(r,this.matrix)));const l=this.createPatternCanvas(x);let s=new DOMMatrix(r);s=s.translate(l.offsetX,l.offsetY),s=s.scale(1/l.scaleX,1/l.scaleY);const h=C.createPattern(l.canvas,"repeat");return h.setTransform(s),h}};let f=o;jt(f,"MAX_PATTERN_SIZE",3e3),p.TilingPattern=f},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.convertBlackAndWhiteToRGBA=q,p.convertToRGBA=A,p.grayToRGBA=z;var n=H(1);function A(j){switch(j.kind){case n.ImageKind.GRAYSCALE_1BPP:return q(j);case n.ImageKind.RGB_24BPP:return V(j)}return null}function q({src:j,srcPos:M=0,dest:S,width:U,height:w,nonBlackColor:k=4294967295,inverseDecode:m=!1}){const f=n.FeatureTest.isLittleEndian?4278190080:255,[o,_]=m?[k,f]:[f,k],C=U>>3,x=U&7,g=j.length;S=new Uint32Array(S.buffer);let e=0;for(let r=0;r<w;r++){for(const s=M+C;M<s;M++){const h=M<g?j[M]:255;S[e++]=h&128?_:o,S[e++]=h&64?_:o,S[e++]=h&32?_:o,S[e++]=h&16?_:o,S[e++]=h&8?_:o,S[e++]=h&4?_:o,S[e++]=h&2?_:o,S[e++]=h&1?_:o}if(x===0)continue;const l=M<g?j[M++]:255;for(let s=0;s<x;s++)S[e++]=l&1<<7-s?_:o}return{srcPos:M,destPos:e}}function V({src:j,srcPos:M=0,dest:S,destPos:U=0,width:w,height:k}){let m=0;const f=j.length>>2,o=new Uint32Array(j.buffer,M,f);if(n.FeatureTest.isLittleEndian){for(;m<f-2;m+=3,U+=4){const _=o[m],C=o[m+1],x=o[m+2];S[U]=_|4278190080,S[U+1]=_>>>24|C<<8|4278190080,S[U+2]=C>>>16|x<<16|4278190080,S[U+3]=x>>>8|4278190080}for(let _=m*4,C=j.length;_<C;_+=3)S[U++]=j[_]|j[_+1]<<8|j[_+2]<<16|4278190080}else{for(;m<f-2;m+=3,U+=4){const _=o[m],C=o[m+1],x=o[m+2];S[U]=_|255,S[U+1]=_<<24|C>>>8|255,S[U+2]=C<<16|x>>>16|255,S[U+3]=x<<8|255}for(let _=m*4,C=j.length;_<C;_+=3)S[U++]=j[_]<<24|j[_+1]<<16|j[_+2]<<8|255}return{srcPos:M,destPos:U}}function z(j,M){if(n.FeatureTest.isLittleEndian)for(let S=0,U=j.length;S<U;S++)M[S]=j[S]*65793|4278190080;else for(let S=0,U=j.length;S<U;S++)M[S]=j[S]*16843008|255}},(ct,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.GlobalWorkerOptions=void 0;const H=Object.create(null);p.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(ct,p,H)=>{var j,Ze,S,Je,w,fe;Object.defineProperty(p,"__esModule",{value:!0}),p.MessageHandler=void 0;var n=H(1);const A={UNKNOWN:0,DATA:1,ERROR:2},q={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function V(m){switch(m instanceof Error||typeof m=="object"&&m!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new n.AbortException(m.message);case"MissingPDFException":return new n.MissingPDFException(m.message);case"PasswordException":return new n.PasswordException(m.message,m.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(m.message,m.status);case"UnknownErrorException":return new n.UnknownErrorException(m.message,m.details);default:return new n.UnknownErrorException(m.message,m.toString())}}class z{constructor(f,o,_){et(this,j);et(this,S);et(this,w);this.sourceName=f,this.targetName=o,this.comObj=_,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=C=>{const x=C.data;if(x.targetName!==this.sourceName)return;if(x.stream){ot(this,S,Je).call(this,x);return}if(x.callback){const e=x.callbackId,r=this.callbackCapabilities[e];if(!r)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],x.callback===A.DATA)r.resolve(x.data);else if(x.callback===A.ERROR)r.reject(V(x.reason));else throw new Error("Unexpected callback case");return}const g=this.actionHandler[x.action];if(!g)throw new Error(`Unknown action from worker: ${x.action}`);if(x.callbackId){const e=this.sourceName,r=x.sourceName;new Promise(function(l){l(g(x.data))}).then(function(l){_.postMessage({sourceName:e,targetName:r,callback:A.DATA,callbackId:x.callbackId,data:l})},function(l){_.postMessage({sourceName:e,targetName:r,callback:A.ERROR,callbackId:x.callbackId,reason:V(l)})});return}if(x.streamId){ot(this,j,Ze).call(this,x);return}g(x.data)},_.addEventListener("message",this._onComObjOnMessage)}on(f,o){const _=this.actionHandler;if(_[f])throw new Error(`There is already an actionName called "${f}"`);_[f]=o}send(f,o,_){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:o},_)}sendWithPromise(f,o,_){const C=this.callbackId++,x=new n.PromiseCapability;this.callbackCapabilities[C]=x;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:C,data:o},_)}catch(g){x.reject(g)}return x.promise}sendWithStream(f,o,_,C){const x=this.streamId++,g=this.sourceName,e=this.targetName,r=this.comObj;return new ReadableStream({start:l=>{const s=new n.PromiseCapability;return this.streamControllers[x]={controller:l,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:g,targetName:e,action:f,streamId:x,data:o,desiredSize:l.desiredSize},C),s.promise},pull:l=>{const s=new n.PromiseCapability;return this.streamControllers[x].pullCall=s,r.postMessage({sourceName:g,targetName:e,stream:q.PULL,streamId:x,desiredSize:l.desiredSize}),s.promise},cancel:l=>{(0,n.assert)(l instanceof Error,"cancel must have a valid reason");const s=new n.PromiseCapability;return this.streamControllers[x].cancelCall=s,this.streamControllers[x].isClosed=!0,r.postMessage({sourceName:g,targetName:e,stream:q.CANCEL,streamId:x,reason:V(l)}),s.promise}},_)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}j=new WeakSet,Ze=function(f){const o=f.streamId,_=this.sourceName,C=f.sourceName,x=this.comObj,g=this,e=this.actionHandler[f.action],r={enqueue(l,s=1,h){if(this.isCancelled)return;const T=this.desiredSize;this.desiredSize-=s,T>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),x.postMessage({sourceName:_,targetName:C,stream:q.ENQUEUE,streamId:o,chunk:l},h)},close(){this.isCancelled||(this.isCancelled=!0,x.postMessage({sourceName:_,targetName:C,stream:q.CLOSE,streamId:o}),delete g.streamSinks[o])},error(l){(0,n.assert)(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,x.postMessage({sourceName:_,targetName:C,stream:q.ERROR,streamId:o,reason:V(l)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[o]=r,new Promise(function(l){l(e(f.data,r))}).then(function(){x.postMessage({sourceName:_,targetName:C,stream:q.START_COMPLETE,streamId:o,success:!0})},function(l){x.postMessage({sourceName:_,targetName:C,stream:q.START_COMPLETE,streamId:o,reason:V(l)})})},S=new WeakSet,Je=function(f){const o=f.streamId,_=this.sourceName,C=f.sourceName,x=this.comObj,g=this.streamControllers[o],e=this.streamSinks[o];switch(f.stream){case q.START_COMPLETE:f.success?g.startCall.resolve():g.startCall.reject(V(f.reason));break;case q.PULL_COMPLETE:f.success?g.pullCall.resolve():g.pullCall.reject(V(f.reason));break;case q.PULL:if(!e){x.postMessage({sourceName:_,targetName:C,stream:q.PULL_COMPLETE,streamId:o,success:!0});break}e.desiredSize<=0&&f.desiredSize>0&&e.sinkCapability.resolve(),e.desiredSize=f.desiredSize,new Promise(function(r){var l;r((l=e.onPull)==null?void 0:l.call(e))}).then(function(){x.postMessage({sourceName:_,targetName:C,stream:q.PULL_COMPLETE,streamId:o,success:!0})},function(r){x.postMessage({sourceName:_,targetName:C,stream:q.PULL_COMPLETE,streamId:o,reason:V(r)})});break;case q.ENQUEUE:if((0,n.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(f.chunk);break;case q.CLOSE:if((0,n.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),ot(this,w,fe).call(this,g,o);break;case q.ERROR:(0,n.assert)(g,"error should have stream controller"),g.controller.error(V(f.reason)),ot(this,w,fe).call(this,g,o);break;case q.CANCEL_COMPLETE:f.success?g.cancelCall.resolve():g.cancelCall.reject(V(f.reason)),ot(this,w,fe).call(this,g,o);break;case q.CANCEL:if(!e)break;new Promise(function(r){var l;r((l=e.onCancel)==null?void 0:l.call(e,V(f.reason)))}).then(function(){x.postMessage({sourceName:_,targetName:C,stream:q.CANCEL_COMPLETE,streamId:o,success:!0})},function(r){x.postMessage({sourceName:_,targetName:C,stream:q.CANCEL_COMPLETE,streamId:o,reason:V(r)})}),e.sinkCapability.reject(V(f.reason)),e.isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}},w=new WeakSet,fe=function(f,o){return Wt(this,null,function*(){var _,C,x;yield Promise.allSettled([(_=f.startCall)==null?void 0:_.promise,(C=f.pullCall)==null?void 0:C.promise,(x=f.cancelCall)==null?void 0:x.promise]),delete this.streamControllers[o]})},p.MessageHandler=z},(ct,p,H)=>{var q,V;Object.defineProperty(p,"__esModule",{value:!0}),p.Metadata=void 0;var n=H(1);class A{constructor({parsedData:j,rawData:M}){et(this,q,void 0);et(this,V,void 0);mt(this,q,j),mt(this,V,M)}getRaw(){return b(this,V)}get(j){var M;return(M=b(this,q).get(j))!=null?M:null}getAll(){return(0,n.objectFromMap)(b(this,q))}has(j){return b(this,q).has(j)}}q=new WeakMap,V=new WeakMap,p.Metadata=A},(ct,p,H)=>{var j,M,S,U,w,k,ke;Object.defineProperty(p,"__esModule",{value:!0}),p.OptionalContentConfig=void 0;var n=H(1),A=H(8);const q=Symbol("INTERNAL");class V{constructor(o,_){et(this,j,!0);this.name=o,this.intent=_}get visible(){return b(this,j)}_setVisible(o,_){o!==q&&(0,n.unreachable)("Internal method `_setVisible` called."),mt(this,j,_)}}j=new WeakMap;class z{constructor(o){et(this,k);et(this,M,null);et(this,S,new Map);et(this,U,null);et(this,w,null);if(this.name=null,this.creator=null,o!==null){this.name=o.name,this.creator=o.creator,mt(this,w,o.order);for(const _ of o.groups)b(this,S).set(_.id,new V(_.name,_.intent));if(o.baseState==="OFF")for(const _ of b(this,S).values())_._setVisible(q,!1);for(const _ of o.on)b(this,S).get(_)._setVisible(q,!0);for(const _ of o.off)b(this,S).get(_)._setVisible(q,!1);mt(this,U,this.getHash())}}isVisible(o){if(b(this,S).size===0)return!0;if(!o)return(0,n.warn)("Optional content group not defined."),!0;if(o.type==="OCG")return b(this,S).has(o.id)?b(this,S).get(o.id).visible:((0,n.warn)(`Optional content group not found: ${o.id}`),!0);if(o.type==="OCMD"){if(o.expression)return ot(this,k,ke).call(this,o.expression);if(!o.policy||o.policy==="AnyOn"){for(const _ of o.ids){if(!b(this,S).has(_))return(0,n.warn)(`Optional content group not found: ${_}`),!0;if(b(this,S).get(_).visible)return!0}return!1}else if(o.policy==="AllOn"){for(const _ of o.ids){if(!b(this,S).has(_))return(0,n.warn)(`Optional content group not found: ${_}`),!0;if(!b(this,S).get(_).visible)return!1}return!0}else if(o.policy==="AnyOff"){for(const _ of o.ids){if(!b(this,S).has(_))return(0,n.warn)(`Optional content group not found: ${_}`),!0;if(!b(this,S).get(_).visible)return!0}return!1}else if(o.policy==="AllOff"){for(const _ of o.ids){if(!b(this,S).has(_))return(0,n.warn)(`Optional content group not found: ${_}`),!0;if(b(this,S).get(_).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${o.policy}.`),!0}return(0,n.warn)(`Unknown group type ${o.type}.`),!0}setVisibility(o,_=!0){if(!b(this,S).has(o)){(0,n.warn)(`Optional content group not found: ${o}`);return}b(this,S).get(o)._setVisible(q,!!_),mt(this,M,null)}get hasInitialVisibility(){return this.getHash()===b(this,U)}getOrder(){return b(this,S).size?b(this,w)?b(this,w).slice():[...b(this,S).keys()]:null}getGroups(){return b(this,S).size>0?(0,n.objectFromMap)(b(this,S)):null}getGroup(o){return b(this,S).get(o)||null}getHash(){if(b(this,M)!==null)return b(this,M);const o=new A.MurmurHash3_64;for(const[_,C]of b(this,S))o.update(`${_}:${C.visible}`);return mt(this,M,o.hexdigest())}}M=new WeakMap,S=new WeakMap,U=new WeakMap,w=new WeakMap,k=new WeakSet,ke=function(o){const _=o.length;if(_<2)return!0;const C=o[0];for(let x=1;x<_;x++){const g=o[x];let e;if(Array.isArray(g))e=ot(this,k,ke).call(this,g);else if(b(this,S).has(g))e=b(this,S).get(g).visible;else return(0,n.warn)(`Optional content group not found: ${g}`),!0;switch(C){case"And":if(!e)return!1;break;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return C==="And"},p.OptionalContentConfig=z},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFDataTransportStream=void 0;var n=H(1),A=H(6);class q{constructor({length:M,initialData:S,progressiveDone:U=!1,contentDispositionFilename:w=null,disableRange:k=!1,disableStream:m=!1},f){if((0,n.assert)(f,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U,this._contentDispositionFilename=w,(S==null?void 0:S.length)>0){const o=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=f,this._isStreamingSupported=!m,this._isRangeSupported=!k,this._contentLength=M,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((o,_)=>{this._onReceiveData({begin:o,chunk:_})}),this._pdfDataRangeTransport.addProgressListener((o,_)=>{this._onProgress({loaded:o,total:_})}),this._pdfDataRangeTransport.addProgressiveReadListener(o=>{this._onReceiveData({chunk:o})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:M,chunk:S}){const U=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;if(M===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(U):this._queuedChunks.push(U);else{const w=this._rangeReaders.some(function(k){return k._begin!==M?!1:(k._enqueue(U),!0)});(0,n.assert)(w,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var M,S;return(S=(M=this._fullRequestReader)==null?void 0:M._loaded)!=null?S:0}_onProgress(M){var S,U,w,k;M.total===void 0?(U=(S=this._rangeReaders[0])==null?void 0:S.onProgress)==null||U.call(S,{loaded:M.loaded}):(k=(w=this._fullRequestReader)==null?void 0:w.onProgress)==null||k.call(w,{loaded:M.loaded,total:M.total})}_onProgressiveDone(){var M;(M=this._fullRequestReader)==null||M.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(M){const S=this._rangeReaders.indexOf(M);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const M=this._queuedChunks;return this._queuedChunks=null,new V(this,M,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(M,S){if(S<=this._progressiveDataLength)return null;const U=new z(this,M,S);return this._pdfDataRangeTransport.requestDataRange(M,S),this._rangeReaders.push(U),U}cancelAllRequests(M){var S;(S=this._fullRequestReader)==null||S.cancel(M);for(const U of this._rangeReaders.slice(0))U.cancel(M);this._pdfDataRangeTransport.abort()}}p.PDFDataTransportStream=q;class V{constructor(M,S,U=!1,w=null){this._stream=M,this._done=U||!1,this._filename=(0,A.isPdfFile)(w)?w:null,this._queuedChunks=S||[],this._loaded=0;for(const k of this._queuedChunks)this._loaded+=k.byteLength;this._requests=[],this._headersReady=Promise.resolve(),M._fullRequestReader=this,this.onProgress=null}_enqueue(M){this._done||(this._requests.length>0?this._requests.shift().resolve({value:M,done:!1}):this._queuedChunks.push(M),this._loaded+=M.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return Wt(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const M=new n.PromiseCapability;return this._requests.push(M),M.promise})}cancel(M){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class z{constructor(M,S,U){this._stream=M,this._begin=S,this._end=U,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(M){if(!this._done){if(this._requests.length===0)this._queuedChunk=M;else{this._requests.shift().resolve({value:M,done:!1});for(const U of this._requests)U.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return Wt(this,null,function*(){if(this._queuedChunk){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const M=new n.PromiseCapability;return this._requests.push(M),M.promise})}cancel(M){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ct,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.XfaText=void 0;class H{static textContent(A){const q=[],V={items:q,styles:Object.create(null)};function z(j){var U;if(!j)return;let M=null;const S=j.name;if(S==="#text")M=j.value;else if(H.shouldBuildText(S))(U=j==null?void 0:j.attributes)!=null&&U.textContent?M=j.attributes.textContent:j.value&&(M=j.value);else return;if(M!==null&&q.push({str:M}),!!j.children)for(const w of j.children)z(w)}return z(A),V}static shouldBuildText(A){return!(A==="textarea"||A==="input"||A==="option"||A==="select")}}p.XfaText=H},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.NodeStandardFontDataFactory=p.NodeFilterFactory=p.NodeCanvasFactory=p.NodeCMapReaderFactory=void 0;var n=H(7);const A=function(M){return new Promise((S,U)=>{__webpack_require__(77274).readFile(M,(k,m)=>{if(k||!m){U(new Error(k));return}S(new Uint8Array(m))})})};class q extends n.BaseFilterFactory{}p.NodeFilterFactory=q;class V extends n.BaseCanvasFactory{_createCanvas(S,U){return __webpack_require__(86301).createCanvas(S,U)}}p.NodeCanvasFactory=V;class z extends n.BaseCMapReaderFactory{_fetchData(S,U){return A(S).then(w=>({cMapData:w,compressionType:U}))}}p.NodeCMapReaderFactory=z;class j extends n.BaseStandardFontDataFactory{_fetchData(S){return A(S)}}p.NodeStandardFontDataFactory=j},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFNodeStream=void 0;var n=H(1),A=H(22);const q=__webpack_require__(77274),V=__webpack_require__(2454),z=__webpack_require__(26812),j=__webpack_require__(30535),M=/^file:\/\/\/[a-zA-Z]:\//;function S(x){const g=j.parse(x);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(x)?j.parse(`file:///${x}`):(g.host||(g.protocol="file:"),g)}class U{constructor(g){this.source=g,this.url=S(g.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g,e;return(e=(g=this._fullRequestReader)==null?void 0:g._loaded)!=null?e:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new f(this),this._fullRequestReader}getRangeReader(g,e){if(e<=this._progressiveDataLength)return null;const r=this.isFsUrl?new C(this,g,e):new o(this,g,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(g){var e;(e=this._fullRequestReader)==null||e.cancel(g);for(const r of this._rangeRequestReaders.slice(0))r.cancel(g)}}p.PDFNodeStream=U;class w{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=g.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Wt(this,null,function*(){var r;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=g.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const e=g.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return Wt(this,null,function*(){var r;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=g.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(g).buffer,done:!1})})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(x,g){return{protocol:x.protocol,auth:x.auth,host:x.hostname,port:x.port,path:x.path,method:"GET",headers:g}}class f extends w{constructor(g){super(g);const e=r=>{if(r.statusCode===404){const T=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=T,this._headersCapability.reject(T);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=T=>this._readableStream.headers[T.toLowerCase()],{allowRangeRequests:s,suggestedLength:h}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:l,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=h||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(l)};this._request=null,this._url.protocol==="http:"?this._request=V.request(m(this._url,g.httpHeaders),e):this._request=z.request(m(this._url,g.httpHeaders),e),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class o extends k{constructor(g,e,r){super(g),this._httpHeaders={};for(const s in g.httpHeaders){const h=g.httpHeaders[s];h!==void 0&&(this._httpHeaders[s]=h)}this._httpHeaders.Range=`bytes=${e}-${r-1}`;const l=s=>{if(s.statusCode===404){const h=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(s)};this._request=null,this._url.protocol==="http:"?this._request=V.request(m(this._url,this._httpHeaders),l):this._request=z.request(m(this._url,this._httpHeaders),l),this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class _ extends w{constructor(g){super(g);let e=decodeURIComponent(this._url.path);M.test(this._url.href)&&(e=e.replace(/^\//,"")),q.lstat(e,(r,l)=>{if(r){r.code==="ENOENT"&&(r=new n.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=r,this._headersCapability.reject(r);return}this._contentLength=l.size,this._setReadableStream(q.createReadStream(e)),this._headersCapability.resolve()})}}class C extends k{constructor(g,e,r){super(g);let l=decodeURIComponent(this._url.path);M.test(this._url.href)&&(l=l.replace(/^\//,"")),this._setReadableStream(q.createReadStream(l,{start:e,end:r-1}))}}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.createResponseStatusError=j,p.extractFilenameFromHeader=z,p.validateRangeRequestCapabilities=V,p.validateResponseStatus=M;var n=H(1),A=H(23),q=H(6);function V({getResponseHeader:S,isHttp:U,rangeChunkSize:w,disableRange:k}){const m={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(S("Content-Length"),10);return!Number.isInteger(f)||(m.suggestedLength=f,f<=2*w)||k||!U||S("Accept-Ranges")!=="bytes"||(S("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function z(S){const U=S("Content-Disposition");if(U){let w=(0,A.getFilenameFromContentDispositionHeader)(U);if(w.includes("%"))try{w=decodeURIComponent(w)}catch(k){}if((0,q.isPdfFile)(w))return w}return null}function j(S,U){return S===404||S===0&&U.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+U+'".'):new n.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${U}".`,S)}function M(S){return S===200||S===206}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.getFilenameFromContentDispositionHeader=A;var n=H(1);function A(q){let V=!0,z=j("filename\\*","i").exec(q);if(z){z=z[1];let f=w(z);return f=unescape(f),f=k(f),f=m(f),S(f)}if(z=U(q),z){const f=m(z);return S(f)}if(z=j("filename","i").exec(q),z){z=z[1];let f=w(z);return f=m(f),S(f)}function j(f,o){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',o)}function M(f,o){if(f){if(!/^[\x00-\xFF]+$/.test(o))return o;try{const _=new TextDecoder(f,{fatal:!0}),C=(0,n.stringToBytes)(o);o=_.decode(C),V=!1}catch(_){}}return o}function S(f){return V&&/[\x80-\xff]/.test(f)&&(f=M("utf-8",f),V&&(f=M("iso-8859-1",f))),f}function U(f){const o=[];let _;const C=j("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_=C.exec(f))!==null;){let[,g,e,r]=_;if(g=parseInt(g,10),g in o){if(g===0)break;continue}o[g]=[e,r]}const x=[];for(let g=0;g<o.length&&g in o;++g){let[e,r]=o[g];r=w(r),e&&(r=unescape(r),g===0&&(r=k(r))),x.push(r)}return x.join("")}function w(f){if(f.startsWith('"')){const o=f.slice(1).split('\\"');for(let _=0;_<o.length;++_){const C=o[_].indexOf('"');C!==-1&&(o[_]=o[_].slice(0,C),o.length=_+1),o[_]=o[_].replaceAll(/\\(.)/g,"$1")}f=o.join('"')}return f}function k(f){const o=f.indexOf("'");if(o===-1)return f;const _=f.slice(0,o),x=f.slice(o+1).replace(/^[^']*'/,"");return M(_,x)}function m(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(o,_,C,x){if(C==="q"||C==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,e){return String.fromCharCode(parseInt(e,16))}),M(_,x);try{x=atob(x)}catch(g){}return M(_,x)})}return""}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFNetworkStream=void 0;var n=H(1),A=H(22);const q=200,V=206;function z(w){const k=w.response;return typeof k!="string"?k:(0,n.stringToBytes)(k).buffer}class j{constructor(k,m={}){this.url=k,this.isHttp=/^https?:/i.test(k),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(k,m,f){const o={begin:k,end:m};for(const _ in f)o[_]=f[_];return this.request(o)}requestFull(k){return this.request(k)}request(k){const m=new XMLHttpRequest,f=this.currXhrId++,o=this.pendingRequests[f]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const _ in this.httpHeaders){const C=this.httpHeaders[_];C!==void 0&&m.setRequestHeader(_,C)}return this.isHttp&&"begin"in k&&"end"in k?(m.setRequestHeader("Range",`bytes=${k.begin}-${k.end-1}`),o.expectedStatus=V):o.expectedStatus=q,m.responseType="arraybuffer",k.onError&&(m.onerror=function(_){k.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,f),m.onprogress=this.onProgress.bind(this,f),o.onHeadersReceived=k.onHeadersReceived,o.onDone=k.onDone,o.onError=k.onError,o.onProgress=k.onProgress,m.send(null),f}onProgress(k,m){var o;const f=this.pendingRequests[k];f&&((o=f.onProgress)==null||o.call(f,m))}onStateChange(k,m){var g,e,r;const f=this.pendingRequests[k];if(!f)return;const o=f.xhr;if(o.readyState>=2&&f.onHeadersReceived&&(f.onHeadersReceived(),delete f.onHeadersReceived),o.readyState!==4||!(k in this.pendingRequests))return;if(delete this.pendingRequests[k],o.status===0&&this.isHttp){(g=f.onError)==null||g.call(f,o.status);return}const _=o.status||q;if(!(_===q&&f.expectedStatus===V)&&_!==f.expectedStatus){(e=f.onError)==null||e.call(f,o.status);return}const x=z(o);if(_===V){const l=o.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);f.onDone({begin:parseInt(s[1],10),chunk:x})}else x?f.onDone({begin:0,chunk:x}):(r=f.onError)==null||r.call(f,o.status)}getRequestXhr(k){return this.pendingRequests[k].xhr}isPendingRequest(k){return k in this.pendingRequests}abortRequest(k){const m=this.pendingRequests[k].xhr;delete this.pendingRequests[k],m.abort()}}class M{constructor(k){this._source=k,this._manager=new j(k.url,{httpHeaders:k.httpHeaders,withCredentials:k.withCredentials}),this._rangeChunkSize=k.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(k){const m=this._rangeRequestReaders.indexOf(k);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(k,m){const f=new U(this._manager,k,m);return f.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(f),f}cancelAllRequests(k){var m;(m=this._fullRequestReader)==null||m.cancel(k);for(const f of this._rangeRequestReaders.slice(0))f.cancel(k)}}p.PDFNetworkStream=M;class S{constructor(k,m){this._manager=k;const f={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=k.requestFull(f),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const k=this._fullRequestId,m=this._manager.getRequestXhr(k),f=C=>m.getResponseHeader(C),{allowRangeRequests:o,suggestedLength:_}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=_||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(f),this._isRangeSupported&&this._manager.abortRequest(k),this._headersReceivedCapability.resolve()}_onDone(k){if(k&&(this._requests.length>0?this._requests.shift().resolve({value:k.chunk,done:!1}):this._cachedChunks.push(k.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(k){this._storedError=(0,A.createResponseStatusError)(k,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(k){var m;(m=this.onProgress)==null||m.call(this,{loaded:k.loaded,total:k.lengthComputable?k.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return Wt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=new n.PromiseCapability;return this._requests.push(k),k.promise})}cancel(k){this._done=!0,this._headersReceivedCapability.reject(k);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class U{constructor(k,m,f){this._manager=k;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._requestId=k.requestRange(m,f,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var k;(k=this.onClosed)==null||k.call(this,this)}_onDone(k){const m=k.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(k){this._storedError=(0,A.createResponseStatusError)(k,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(k){var m;this.isStreamingSupported||(m=this.onProgress)==null||m.call(this,{loaded:k.loaded})}get isStreamingSupported(){return!1}read(){return Wt(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const k=new n.PromiseCapability;return this._requests.push(k),k.promise})}cancel(k){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.PDFFetchStream=void 0;var n=H(1),A=H(22);function q(U,w,k){return{method:"GET",headers:U,signal:k.signal,mode:"cors",credentials:w?"include":"same-origin",redirect:"follow"}}function V(U){const w=new Headers;for(const k in U){const m=U[k];m!==void 0&&w.append(k,m)}return w}function z(U){return U instanceof Uint8Array?U.buffer:U instanceof ArrayBuffer?U:((0,n.warn)(`getArrayBuffer - unexpected data format: ${U}`),new Uint8Array(U).buffer)}class j{constructor(w){this.source=w,this.isHttp=/^https?:/i.test(w.url),this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var w,k;return(k=(w=this._fullRequestReader)==null?void 0:w._loaded)!=null?k:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new M(this),this._fullRequestReader}getRangeReader(w,k){if(k<=this._progressiveDataLength)return null;const m=new S(this,w,k);return this._rangeRequestReaders.push(m),m}cancelAllRequests(w){var k;(k=this._fullRequestReader)==null||k.cancel(w);for(const m of this._rangeRequestReaders.slice(0))m.cancel(w)}}p.PDFFetchStream=j;class M{constructor(w){this._stream=w,this._reader=null,this._loaded=0,this._filename=null;const k=w.source;this._withCredentials=k.withCredentials||!1,this._contentLength=k.length,this._headersCapability=new n.PromiseCapability,this._disableRange=k.disableRange||!1,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!k.disableStream,this._isRangeSupported=!k.disableRange,this._headers=V(this._stream.httpHeaders);const m=k.url;fetch(m,q(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,A.validateResponseStatus)(f.status))throw(0,A.createResponseStatusError)(f.status,m);this._reader=f.body.getReader(),this._headersCapability.resolve();const o=x=>f.headers.get(x),{allowRangeRequests:_,suggestedLength:C}=(0,A.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=C||this._contentLength,this._filename=(0,A.extractFilenameFromHeader)(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Wt(this,null,function*(){var m;yield this._headersCapability.promise;const{value:w,done:k}=yield this._reader.read();return k?{value:w,done:k}:(this._loaded+=w.byteLength,(m=this.onProgress)==null||m.call(this,{loaded:this._loaded,total:this._contentLength}),{value:z(w),done:!1})})}cancel(w){var k;(k=this._reader)==null||k.cancel(w),this._abortController.abort()}}class S{constructor(w,k,m){this._stream=w,this._reader=null,this._loaded=0;const f=w.source;this._withCredentials=f.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=V(this._stream.httpHeaders),this._headers.append("Range",`bytes=${k}-${m-1}`);const o=f.url;fetch(o,q(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,A.validateResponseStatus)(_.status))throw(0,A.createResponseStatusError)(_.status,o);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return Wt(this,null,function*(){var m;yield this._readCapability.promise;const{value:w,done:k}=yield this._reader.read();return k?{value:w,done:k}:(this._loaded+=w.byteLength,(m=this.onProgress)==null||m.call(this,{loaded:this._loaded}),{value:z(w),done:!1})})}cancel(w){var k;(k=this._reader)==null||k.cancel(w),this._abortController.abort()}}},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.TextLayerRenderTask=void 0,p.renderTextLayer=f,p.updateTextLayer=o;var n=H(1),A=H(6);const q=1e5,V=30,z=.8,j=new Map;function M(_,C){let x;if(C&&n.FeatureTest.isOffscreenCanvasSupported)x=new OffscreenCanvas(_,_).getContext("2d",{alpha:!1});else{const g=document.createElement("canvas");g.width=g.height=_,x=g.getContext("2d",{alpha:!1})}return x}function S(_,C){const x=j.get(_);if(x)return x;const g=M(V,C);g.font=`${V}px ${_}`;const e=g.measureText("");let r=e.fontBoundingBoxAscent,l=Math.abs(e.fontBoundingBoxDescent);if(r){const h=r/(r+l);return j.set(_,h),g.canvas.width=g.canvas.height=0,h}g.strokeStyle="red",g.clearRect(0,0,V,V),g.strokeText("g",0,0);let s=g.getImageData(0,0,V,V).data;l=0;for(let h=s.length-1-3;h>=0;h-=4)if(s[h]>0){l=Math.ceil(h/4/V);break}g.clearRect(0,0,V,V),g.strokeText("A",0,V),s=g.getImageData(0,0,V,V).data,r=0;for(let h=0,T=s.length;h<T;h+=4)if(s[h]>0){r=V-Math.floor(h/4/V);break}if(g.canvas.width=g.canvas.height=0,r){const h=r/(r+l);return j.set(_,h),h}return j.set(_,z),z}function U(_,C,x){const g=document.createElement("span"),e={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};_._textDivs.push(g);const r=n.Util.transform(_._transform,C.transform);let l=Math.atan2(r[1],r[0]);const s=x[C.fontName];s.vertical&&(l+=Math.PI/2);const h=Math.hypot(r[2],r[3]),T=h*S(s.fontFamily,_._isOffscreenCanvasSupported);let i,I;l===0?(i=r[4],I=r[5]-T):(i=r[4]+T*Math.sin(l),I=r[5]-T*Math.cos(l));const G="calc(var(--scale-factor)*",Y=g.style;_._container===_._rootContainer?(Y.left=`${(100*i/_._pageWidth).toFixed(2)}%`,Y.top=`${(100*I/_._pageHeight).toFixed(2)}%`):(Y.left=`${G}${i.toFixed(2)}px)`,Y.top=`${G}${I.toFixed(2)}px)`),Y.fontSize=`${G}${h.toFixed(2)}px)`,Y.fontFamily=s.fontFamily,e.fontSize=h,g.setAttribute("role","presentation"),g.textContent=C.str,g.dir=C.dir,_._fontInspectorEnabled&&(g.dataset.fontName=C.fontName),l!==0&&(e.angle=l*(180/Math.PI));let J=!1;if(C.str.length>1)J=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const rt=Math.abs(C.transform[0]),dt=Math.abs(C.transform[3]);rt!==dt&&Math.max(rt,dt)/Math.min(rt,dt)>1.5&&(J=!0)}J&&(e.canvasWidth=s.vertical?C.height:C.width),_._textDivProperties.set(g,e),_._isReadableStream&&_._layoutText(g)}function w(_){const{div:C,scale:x,properties:g,ctx:e,prevFontSize:r,prevFontFamily:l}=_,{style:s}=C;let h="";if(g.canvasWidth!==0&&g.hasText){const{fontFamily:T}=s,{canvasWidth:i,fontSize:I}=g;(r!==I||l!==T)&&(e.font=`${I*x}px ${T}`,_.prevFontSize=I,_.prevFontFamily=T);const{width:G}=e.measureText(C.textContent);G>0&&(h=`scaleX(${i*x/G})`)}g.angle!==0&&(h=`rotate(${g.angle}deg) ${h}`),h.length>0&&(s.transform=h)}function k(_){if(_._canceled)return;const C=_._textDivs,x=_._capability;if(C.length>q){x.resolve();return}if(!_._isReadableStream)for(const e of C)_._layoutText(e);x.resolve()}class m{constructor({textContentSource:C,container:x,viewport:g,textDivs:e,textDivProperties:r,textContentItemsStr:l,isOffscreenCanvasSupported:s}){var G;this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=x,this._textDivs=e||[],this._textContentItemsStr=l||[],this._isOffscreenCanvasSupported=s,this._fontInspectorEnabled=!!((G=globalThis.FontInspector)!=null&&G.enabled),this._reader=null,this._textDivProperties=r||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:g.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:M(0,s)};const{pageWidth:h,pageHeight:T,pageX:i,pageY:I}=g.rawDims;this._transform=[1,0,0,-1,-i,I+T],this._pageWidth=h,this._pageHeight=T,(0,A.setLayerDimensions)(x,g),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(C,x){for(const g of C){if(g.str===void 0){if(g.type==="beginMarkedContentProps"||g.type==="beginMarkedContent"){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),g.id!==null&&this._container.setAttribute("id",`${g.id}`),e.append(this._container)}else g.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(g.str),U(this,g,x)}}_layoutText(C){const x=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,w(this._layoutTextParams),x.hasText&&this._container.append(C),x.hasEOL){const g=document.createElement("br");g.setAttribute("role","presentation"),this._container.append(g)}}_render(){const C=new n.PromiseCapability;let x=Object.create(null);if(this._isReadableStream){const g=()=>{this._reader.read().then(({value:e,done:r})=>{if(r){C.resolve();return}Object.assign(x,e.styles),this._processItems(e.items,x),g()},C.reject)};this._reader=this._textContentSource.getReader(),g()}else if(this._textContentSource){const{items:g,styles:e}=this._textContentSource;this._processItems(g,e),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{x=null,k(this)},this._capability.reject)}}p.TextLayerRenderTask=m;function f(_){!_.textContentSource&&(_.textContent||_.textContentStream)&&((0,A.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),_.textContentSource=_.textContent||_.textContentStream);const{container:C,viewport:x}=_,g=getComputedStyle(C),e=g.getPropertyValue("visibility"),r=parseFloat(g.getPropertyValue("--scale-factor"));e==="visible"&&(!r||Math.abs(r-x.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const l=new m(_);return l._render(),l}function o({container:_,viewport:C,textDivs:x,textDivProperties:g,isOffscreenCanvasSupported:e,mustRotate:r=!0,mustRescale:l=!0}){if(r&&(0,A.setLayerDimensions)(_,{rotation:C.rotation}),l){const s=M(0,e),T={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:s};for(const i of x)T.properties=g.get(i),T.div=i,w(T)}}},(ct,p,H)=>{var M,S,U,w,k,m,f,o,_,Fe,x,Qe,e,Me,l,Oe;Object.defineProperty(p,"__esModule",{value:!0}),p.AnnotationEditorLayer=void 0;var n=H(1),A=H(5),q=H(28),V=H(29),z=H(6);const h=class{constructor(i){et(this,_);et(this,x);et(this,e);et(this,l);et(this,M,void 0);et(this,S,!1);et(this,U,this.pointerup.bind(this));et(this,w,this.pointerdown.bind(this));et(this,k,new Map);et(this,m,!1);et(this,f,!1);et(this,o,void 0);h._initialized||(h._initialized=!0,q.FreeTextEditor.initialize(i.l10n),V.InkEditor.initialize(i.l10n)),i.uiManager.registerEditorTypes([q.FreeTextEditor,V.InkEditor]),mt(this,o,i.uiManager),this.pageIndex=i.pageIndex,this.div=i.div,mt(this,M,i.accessibilityManager),b(this,o).addLayer(this)}get isEmpty(){return b(this,k).size===0}updateToolbar(i){b(this,o).updateToolbar(i)}updateMode(i=b(this,o).getMode()){ot(this,l,Oe).call(this),i===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),b(this,o).unselectAll(),i!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",i===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",i===n.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(i){if(!i&&b(this,o).getMode()!==n.AnnotationEditorType.INK)return;if(!i){for(const G of b(this,k).values())if(G.isEmpty()){G.setInBackground();return}}ot(this,e,Me).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(i){b(this,o).setEditingState(i)}addCommands(i){b(this,o).addCommands(i)}enable(){this.div.style.pointerEvents="auto";for(const i of b(this,k).values())i.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const i of b(this,k).values())i.disableEditing();ot(this,l,Oe).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(i){b(this,o).getActive()!==i&&b(this,o).setActiveEditor(i)}enableClick(){this.div.addEventListener("pointerdown",b(this,w)),this.div.addEventListener("pointerup",b(this,U))}disableClick(){this.div.removeEventListener("pointerdown",b(this,w)),this.div.removeEventListener("pointerup",b(this,U))}attach(i){b(this,k).set(i.id,i)}detach(i){var I;b(this,k).delete(i.id),(I=b(this,M))==null||I.removePointerInTextLayer(i.contentDiv)}remove(i){b(this,o).removeEditor(i),this.detach(i),i.div.style.display="none",setTimeout(()=>{i.div.style.display="",i.div.remove(),i.isAttachedToDOM=!1,document.activeElement===document.body&&b(this,o).focusMainContainer()},0),b(this,f)||this.addInkEditorIfNeeded(!1)}add(i){if(ot(this,_,Fe).call(this,i),b(this,o).addEditor(i),this.attach(i),!i.isAttachedToDOM){const I=i.render();this.div.append(I),i.isAttachedToDOM=!0}this.moveEditorInDOM(i),i.onceAdded(),b(this,o).addToAnnotationStorage(i)}moveEditorInDOM(i){var I;(I=b(this,M))==null||I.moveElementInDOM(this.div,i.div,i.contentDiv,!0)}addOrRebuild(i){i.needsToBeRebuilt()?i.rebuild():this.add(i)}addANewEditor(i){const I=()=>{this.addOrRebuild(i)},G=()=>{i.remove()};this.addCommands({cmd:I,undo:G,mustExec:!0})}addUndoableEditor(i){const I=()=>{this.addOrRebuild(i)},G=()=>{i.remove()};this.addCommands({cmd:I,undo:G,mustExec:!1})}getNextId(){return b(this,o).getId()}deserialize(i){switch(i.annotationType){case n.AnnotationEditorType.FREETEXT:return q.FreeTextEditor.deserialize(i,this,b(this,o));case n.AnnotationEditorType.INK:return V.InkEditor.deserialize(i,this,b(this,o))}return null}setSelected(i){b(this,o).setSelected(i)}toggleSelected(i){b(this,o).toggleSelected(i)}isSelected(i){return b(this,o).isSelected(i)}unselect(i){b(this,o).unselect(i)}pointerup(i){const{isMac:I}=n.FeatureTest.platform;if(!(i.button!==0||i.ctrlKey&&I)&&i.target===this.div&&b(this,m)){if(mt(this,m,!1),!b(this,S)){mt(this,S,!0);return}ot(this,e,Me).call(this,i)}}pointerdown(i){const{isMac:I}=n.FeatureTest.platform;if(i.button!==0||i.ctrlKey&&I||i.target!==this.div)return;mt(this,m,!0);const G=b(this,o).getActive();mt(this,S,!G||G.isEmpty())}drop(i){const I=i.dataTransfer.getData("text/plain"),G=b(this,o).getEditor(I);if(!G)return;i.preventDefault(),i.dataTransfer.dropEffect="move",ot(this,_,Fe).call(this,G);const Y=this.div.getBoundingClientRect(),J=i.clientX-Y.x,rt=i.clientY-Y.y;G.translate(J-G.startX,rt-G.startY),this.moveEditorInDOM(G),G.div.focus()}dragover(i){i.preventDefault()}destroy(){var i,I;((i=b(this,o).getActive())==null?void 0:i.parent)===this&&b(this,o).setActiveEditor(null);for(const G of b(this,k).values())(I=b(this,M))==null||I.removePointerInTextLayer(G.contentDiv),G.setParent(null),G.isAttachedToDOM=!1,G.div.remove();this.div=null,b(this,k).clear(),b(this,o).removeLayer(this)}render({viewport:i}){this.viewport=i,(0,z.setLayerDimensions)(this.div,i),(0,A.bindEvents)(this,this.div,["dragover","drop"]);for(const I of b(this,o).getEditors(this.pageIndex))this.add(I);this.updateMode()}update({viewport:i}){b(this,o).commitOrRemove(),this.viewport=i,(0,z.setLayerDimensions)(this.div,{rotation:i.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:i,pageHeight:I}=this.viewport.rawDims;return[i,I]}};let j=h;M=new WeakMap,S=new WeakMap,U=new WeakMap,w=new WeakMap,k=new WeakMap,m=new WeakMap,f=new WeakMap,o=new WeakMap,_=new WeakSet,Fe=function(i){var I;i.parent!==this&&(this.attach(i),(I=i.parent)==null||I.detach(i),i.setParent(this),i.div&&i.isAttachedToDOM&&(i.div.remove(),this.div.append(i.div)))},x=new WeakSet,Qe=function(i){switch(b(this,o).getMode()){case n.AnnotationEditorType.FREETEXT:return new q.FreeTextEditor(i);case n.AnnotationEditorType.INK:return new V.InkEditor(i)}return null},e=new WeakSet,Me=function(i){const I=this.getNextId(),G=ot(this,x,Qe).call(this,{parent:this,id:I,x:i.offsetX,y:i.offsetY,uiManager:b(this,o)});return G&&this.add(G),G},l=new WeakSet,Oe=function(){mt(this,f,!0);for(const i of b(this,k).values())i.isEmpty()&&i.remove();mt(this,f,!1)},jt(j,"_initialized",!1),p.AnnotationEditorLayer=j},(ct,p,H)=>{var z,j,M,S,U,w,k,m,f,o,tn,C,en,g,nn,r,De;Object.defineProperty(p,"__esModule",{value:!0}),p.FreeTextEditor=void 0;var n=H(1),A=H(5),q=H(4);const s=class extends q.AnnotationEditor{constructor(i){super(ve(ye({},i),{name:"freeTextEditor"}));et(this,o);et(this,C);et(this,g);et(this,r);et(this,z,this.editorDivBlur.bind(this));et(this,j,this.editorDivFocus.bind(this));et(this,M,this.editorDivInput.bind(this));et(this,S,this.editorDivKeydown.bind(this));et(this,U,void 0);et(this,w,"");et(this,k,`${this.id}-editor`);et(this,m,!1);et(this,f,void 0);mt(this,U,i.color||s._defaultColor||q.AnnotationEditor._defaultLineColor),mt(this,f,i.fontSize||s._defaultFontSize)}static initialize(i){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(G=>[G,i.get(G)]));const I=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(I.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,I){switch(i){case n.AnnotationEditorParamsType.FREETEXT_SIZE:s._defaultFontSize=I;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:s._defaultColor=I;break}}updateParams(i,I){switch(i){case n.AnnotationEditorParamsType.FREETEXT_SIZE:ot(this,o,tn).call(this,I);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:ot(this,C,en).call(this,I);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,s._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,s._defaultColor||q.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,b(this,f)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,b(this,U)]]}getInitialTranslation(){const i=this.parentScale;return[-s._internalPadding*i,-(s._internalPadding+b(this,f))*i]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",b(this,S)),this.editorDiv.addEventListener("focus",b(this,j)),this.editorDiv.addEventListener("blur",b(this,z)),this.editorDiv.addEventListener("input",b(this,M)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",b(this,k)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",b(this,S)),this.editorDiv.removeEventListener("focus",b(this,j)),this.editorDiv.removeEventListener("blur",b(this,z)),this.editorDiv.removeEventListener("input",b(this,M)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(i){super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),b(this,m)||(mt(this,m,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),mt(this,w,ot(this,g,nn).call(this).trimEnd()),ot(this,r,De).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(i){this.enableEditMode(),this.editorDiv.focus()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(i){s._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,I;this.width&&(i=this.x,I=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",b(this,k)),this.enableEditing(),s._l10nPromise.get("editor_free_text2_aria_label").then(Y=>{var J;return(J=this.editorDiv)==null?void 0:J.setAttribute("aria-label",Y)}),s._l10nPromise.get("free_text2_default_content").then(Y=>{var J;return(J=this.editorDiv)==null?void 0:J.setAttribute("default-content",Y)}),this.editorDiv.contentEditable=!0;const{style:G}=this.editorDiv;if(G.fontSize=`calc(${b(this,f)}px * var(--scale-factor))`,G.color=b(this,U),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,A.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Y,J]=this.parentDimensions;this.setAt(i*Y,I*J,this.width*Y,this.height*J);for(const rt of b(this,w).split(`
`)){const dt=document.createElement("div");dt.append(rt?document.createTextNode(rt):document.createElement("br")),this.editorDiv.append(dt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(i,I,G){const Y=super.deserialize(i,I,G);return mt(Y,f,i.fontSize),mt(Y,U,n.Util.makeHexColor(...i.color)),mt(Y,w,i.value),Y}serialize(){if(this.isEmpty())return null;const i=s._internalPadding*this.parentScale,I=this.getRect(i,i),G=q.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:b(this,U));return{annotationType:n.AnnotationEditorType.FREETEXT,color:G,fontSize:b(this,f),value:b(this,w),pageIndex:this.pageIndex,rect:I,rotation:this.rotation}}};let V=s;z=new WeakMap,j=new WeakMap,M=new WeakMap,S=new WeakMap,U=new WeakMap,w=new WeakMap,k=new WeakMap,m=new WeakMap,f=new WeakMap,o=new WeakSet,tn=function(i){const I=Y=>{this.editorDiv.style.fontSize=`calc(${Y}px * var(--scale-factor))`,this.translate(0,-(Y-b(this,f))*this.parentScale),mt(this,f,Y),ot(this,r,De).call(this)},G=b(this,f);this.addCommands({cmd:()=>{I(i)},undo:()=>{I(G)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},C=new WeakSet,en=function(i){const I=b(this,U);this.addCommands({cmd:()=>{mt(this,U,this.editorDiv.style.color=i)},undo:()=>{mt(this,U,this.editorDiv.style.color=I)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},g=new WeakSet,nn=function(){const i=this.editorDiv.getElementsByTagName("div");if(i.length===0)return this.editorDiv.innerText;const I=[];for(const G of i)I.push(G.innerText.replace(/\r\n?|\n/,""));return I.join(`
`)},r=new WeakSet,De=function(){const[i,I]=this.parentDimensions;let G;if(this.isAttachedToDOM)G=this.div.getBoundingClientRect();else{const{currentLayer:Y,div:J}=this,rt=J.style.display;J.style.display="hidden",Y.div.append(this.div),G=J.getBoundingClientRect(),J.remove(),J.style.display=rt}this.width=G.width/i,this.height=G.height/I},jt(V,"_freeTextDefaultContent",""),jt(V,"_l10nPromise"),jt(V,"_internalPadding",0),jt(V,"_defaultColor",null),jt(V,"_defaultFontSize",10),jt(V,"_keyboardManager",new A.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],s.prototype.commitOrRemove]])),jt(V,"_type","freetext"),p.FreeTextEditor=V},(ct,p,H)=>{var M,S,U,w,k,m,f,o,_,C,x,g,e,r,l,sn,h,rn,i,an,G,on,J,Le,dt,ln,ht,cn,vt,hn,At,Kt,c,Ie,y,pe,R,ge,O,ie,F,Ne,a,me,v,je,B,un,X,dn,it,fn,nt,Be,ft,be,_t,re,K,Ue;Object.defineProperty(p,"__esModule",{value:!0}),p.InkEditor=void 0,Object.defineProperty(p,"fitCurve",{enumerable:!0,get:function(){return q.fitCurve}});var n=H(1),A=H(4),q=H(30),V=H(5);const z=16,yt=class extends A.AnnotationEditor{constructor(P){super(ve(ye({},P),{name:"inkEditor"}));et(this,l);et(this,h);et(this,i);et(this,G);et(this,J);et(this,dt);et(this,ht);et(this,vt);et(this,At);et(this,c);et(this,y);et(this,R);et(this,O);et(this,F);et(this,a);et(this,B);et(this,X);et(this,it);et(this,nt);et(this,ft);et(this,_t);et(this,K);et(this,M,0);et(this,S,0);et(this,U,0);et(this,w,this.canvasPointermove.bind(this));et(this,k,this.canvasPointerleave.bind(this));et(this,m,this.canvasPointerup.bind(this));et(this,f,this.canvasPointerdown.bind(this));et(this,o,!1);et(this,_,!1);et(this,C,null);et(this,x,null);et(this,g,0);et(this,e,0);et(this,r,null);this.color=P.color||null,this.thickness=P.thickness||null,this.opacity=P.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(P){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(D=>[D,P.get(D)]))}static updateDefaultParams(P,D){switch(P){case n.AnnotationEditorParamsType.INK_THICKNESS:yt._defaultThickness=D;break;case n.AnnotationEditorParamsType.INK_COLOR:yt._defaultColor=D;break;case n.AnnotationEditorParamsType.INK_OPACITY:yt._defaultOpacity=D/100;break}}updateParams(P,D){switch(P){case n.AnnotationEditorParamsType.INK_THICKNESS:ot(this,l,sn).call(this,D);break;case n.AnnotationEditorParamsType.INK_COLOR:ot(this,h,rn).call(this,D);break;case n.AnnotationEditorParamsType.INK_OPACITY:ot(this,i,an).call(this,D);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,yt._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,yt._defaultColor||A.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(yt._defaultOpacity*100)]]}get propertiesToUpdate(){var P;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||yt._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||yt._defaultColor||A.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((P=this.opacity)!=null?P:yt._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ot(this,y,pe).call(this),ot(this,R,ge).call(this)),this.isAttachedToDOM||(this.parent.add(this),ot(this,O,ie).call(this)),ot(this,_t,re).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,b(this,x).disconnect(),mt(this,x,null),super.remove())}setParent(P){!this.parent&&P?this._uiManager.removeShouldRescale(this):this.parent&&P===null&&this._uiManager.addShouldRescale(this),super.setParent(P)}onScaleChanging(){const[P,D]=this.parentDimensions,at=this.width*P,gt=this.height*D;this.setDimensions(at,gt)}enableEditMode(){b(this,o)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",b(this,f)),this.canvas.addEventListener("pointerup",b(this,m)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",b(this,f)),this.canvas.removeEventListener("pointerup",b(this,m)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){b(this,o)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),mt(this,o,!0),this.div.classList.add("disabled"),ot(this,_t,re).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(P){super.focusin(P),this.enableEditMode()}canvasPointerdown(P){P.button!==0||!this.isInEditMode()||b(this,o)||(this.setInForeground(),P.type!=="mouse"&&this.div.focus(),P.stopPropagation(),this.canvas.addEventListener("pointerleave",b(this,k)),this.canvas.addEventListener("pointermove",b(this,w)),ot(this,dt,ln).call(this,P.offsetX,P.offsetY))}canvasPointermove(P){P.stopPropagation(),ot(this,ht,cn).call(this,P.offsetX,P.offsetY)}canvasPointerup(P){P.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(P.stopPropagation(),ot(this,c,Ie).call(this,P),this.setInBackground())}canvasPointerleave(P){ot(this,c,Ie).call(this,P),this.setInBackground()}render(){if(this.div)return this.div;let P,D;this.width&&(P=this.x,D=this.y),super.render(),yt._l10nPromise.get("editor_ink2_aria_label").then(wt=>{var xt;return(xt=this.div)==null?void 0:xt.setAttribute("aria-label",wt)});const[at,gt,Et,Tt]=ot(this,G,on).call(this);if(this.setAt(at,gt,0,0),this.setDims(Et,Tt),ot(this,y,pe).call(this),this.width){const[wt,xt]=this.parentDimensions;this.setAt(P*wt,D*xt,this.width*wt,this.height*xt),mt(this,_,!0),ot(this,O,ie).call(this),this.setDims(this.width*wt,this.height*xt),ot(this,At,Kt).call(this),ot(this,K,Ue).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ot(this,R,ge).call(this),this.div}setDimensions(P,D){const at=Math.round(P),gt=Math.round(D);if(b(this,g)===at&&b(this,e)===gt)return;mt(this,g,at),mt(this,e,gt),this.canvas.style.visibility="hidden",b(this,M)&&Math.abs(b(this,M)-P/D)>.01&&(D=Math.ceil(P/b(this,M)),this.setDims(P,D));const[Et,Tt]=this.parentDimensions;this.width=P/Et,this.height=D/Tt,b(this,o)&&ot(this,F,Ne).call(this,P,D),ot(this,O,ie).call(this),ot(this,At,Kt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(P,D,at){var Dt,It;const gt=super.deserialize(P,D,at);gt.thickness=P.thickness,gt.color=n.Util.makeHexColor(...P.color),gt.opacity=P.opacity;const[Et,Tt]=gt.pageDimensions,wt=gt.width*Et,xt=gt.height*Tt,Ft=gt.parentScale,kt=P.thickness/2;mt(gt,M,wt/xt),mt(gt,o,!0),mt(gt,g,Math.round(wt)),mt(gt,e,Math.round(xt));for(const{bezier:Mt}of P.paths){const Gt=[];gt.paths.push(Gt);let Ut=Ft*(Mt[0]-kt),Ot=Ft*(xt-Mt[1]-kt);for(let Bt=2,Lt=Mt.length;Bt<Lt;Bt+=6){const Ht=Ft*(Mt[Bt]-kt),Vt=Ft*(xt-Mt[Bt+1]-kt),qt=Ft*(Mt[Bt+2]-kt),Qt=Ft*(xt-Mt[Bt+3]-kt),le=Ft*(Mt[Bt+4]-kt),ce=Ft*(xt-Mt[Bt+5]-kt);Gt.push([[Ut,Ot],[Ht,Vt],[qt,Qt],[le,ce]]),Ut=le,Ot=ce}const $t=ot(this,v,je).call(this,Gt);gt.bezierPath2D.push($t)}const Nt=ot(Dt=gt,nt,Be).call(Dt);return mt(gt,U,Math.max(z,Nt[2]-Nt[0])),mt(gt,S,Math.max(z,Nt[3]-Nt[1])),ot(It=gt,F,Ne).call(It,wt,xt),gt}serialize(){if(this.isEmpty())return null;const P=this.getRect(0,0),D=this.rotation%180===0?P[3]-P[1]:P[2]-P[0],at=A.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:at,thickness:this.thickness,opacity:this.opacity,paths:ot(this,B,un).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,D),pageIndex:this.pageIndex,rect:P,rotation:this.rotation}}};let j=yt;M=new WeakMap,S=new WeakMap,U=new WeakMap,w=new WeakMap,k=new WeakMap,m=new WeakMap,f=new WeakMap,o=new WeakMap,_=new WeakMap,C=new WeakMap,x=new WeakMap,g=new WeakMap,e=new WeakMap,r=new WeakMap,l=new WeakSet,sn=function(P){const D=this.thickness;this.addCommands({cmd:()=>{this.thickness=P,ot(this,_t,re).call(this)},undo:()=>{this.thickness=D,ot(this,_t,re).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},h=new WeakSet,rn=function(P){const D=this.color;this.addCommands({cmd:()=>{this.color=P,ot(this,At,Kt).call(this)},undo:()=>{this.color=D,ot(this,At,Kt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,an=function(P){P/=100;const D=this.opacity;this.addCommands({cmd:()=>{this.opacity=P,ot(this,At,Kt).call(this)},undo:()=>{this.opacity=D,ot(this,At,Kt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},G=new WeakSet,on=function(){const{parentRotation:P,parentDimensions:[D,at]}=this;switch(P){case 90:return[0,at,at,D];case 180:return[D,at,D,at];case 270:return[D,0,at,D];default:return[0,0,D,at]}},J=new WeakSet,Le=function(){const{ctx:P,color:D,opacity:at,thickness:gt,parentScale:Et,scaleFactor:Tt}=this;P.lineWidth=gt*Et/Tt,P.lineCap="round",P.lineJoin="round",P.miterLimit=10,P.strokeStyle=`${D}${(0,V.opacityToHex)(at)}`},dt=new WeakSet,ln=function(P,D){var at;this.isEditing=!0,b(this,_)||(mt(this,_,!0),ot(this,O,ie).call(this),this.thickness||(this.thickness=yt._defaultThickness),this.color||(this.color=yt._defaultColor||A.AnnotationEditor._defaultLineColor),(at=this.opacity)!=null||(this.opacity=yt._defaultOpacity)),this.currentPath.push([P,D]),mt(this,C,null),ot(this,J,Le).call(this),this.ctx.beginPath(),this.ctx.moveTo(P,D),mt(this,r,()=>{b(this,r)&&(b(this,C)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ot(this,At,Kt).call(this),this.ctx.lineTo(...b(this,C)),mt(this,C,null),this.ctx.stroke()),window.requestAnimationFrame(b(this,r)))}),window.requestAnimationFrame(b(this,r))},ht=new WeakSet,cn=function(P,D){const[at,gt]=this.currentPath.at(-1);P===at&&D===gt||(this.currentPath.push([P,D]),mt(this,C,[P,D]))},vt=new WeakSet,hn=function(P,D){var Ft;this.ctx.closePath(),mt(this,r,null),P=Math.min(Math.max(P,0),this.canvas.width),D=Math.min(Math.max(D,0),this.canvas.height);const[at,gt]=this.currentPath.at(-1);(P!==at||D!==gt)&&this.currentPath.push([P,D]);let Et;if(this.currentPath.length!==1)Et=(0,q.fitCurve)(this.currentPath,30,null);else{const kt=[P,D];Et=[[kt,kt.slice(),kt.slice(),kt]]}const Tt=ot(Ft=yt,v,je).call(Ft,Et);this.currentPath.length=0;const wt=()=>{this.paths.push(Et),this.bezierPath2D.push(Tt),this.rebuild()},xt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ot(this,y,pe).call(this),ot(this,R,ge).call(this)),ot(this,_t,re).call(this))};this.addCommands({cmd:wt,undo:xt,mustExec:!0})},At=new WeakSet,Kt=function(){if(this.isEmpty()){ot(this,a,me).call(this);return}ot(this,J,Le).call(this);const{canvas:P,ctx:D}=this;D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,P.width,P.height),ot(this,a,me).call(this);for(const at of this.bezierPath2D)D.stroke(at)},c=new WeakSet,Ie=function(P){ot(this,vt,hn).call(this,P.offsetX,P.offsetY),this.canvas.removeEventListener("pointerleave",b(this,k)),this.canvas.removeEventListener("pointermove",b(this,w)),this.addToAnnotationStorage()},y=new WeakSet,pe=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",yt._l10nPromise.get("editor_ink_canvas_aria_label").then(P=>{var D;return(D=this.canvas)==null?void 0:D.setAttribute("aria-label",P)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},R=new WeakSet,ge=function(){mt(this,x,new ResizeObserver(P=>{const D=P[0].contentRect;D.width&&D.height&&this.setDimensions(D.width,D.height)})),b(this,x).observe(this.div)},O=new WeakSet,ie=function(){if(!b(this,_))return;const[P,D]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*P),this.canvas.height=Math.ceil(this.height*D),ot(this,a,me).call(this)},F=new WeakSet,Ne=function(P,D){const at=ot(this,ft,be).call(this),gt=(P-at)/b(this,U),Et=(D-at)/b(this,S);this.scaleFactor=Math.min(gt,Et)},a=new WeakSet,me=function(){const P=ot(this,ft,be).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+P,this.translationY*this.scaleFactor+P)},v=new WeakSet,je=function(P){const D=new Path2D;for(let at=0,gt=P.length;at<gt;at++){const[Et,Tt,wt,xt]=P[at];at===0&&D.moveTo(...Et),D.bezierCurveTo(Tt[0],Tt[1],wt[0],wt[1],xt[0],xt[1])}return D},B=new WeakSet,un=function(P,D,at,gt){const Tt=[],wt=this.thickness/2;let xt,Ft;for(const kt of this.paths){xt=[],Ft=[];for(let Nt=0,Dt=kt.length;Nt<Dt;Nt++){const[It,Mt,Gt,Ut]=kt[Nt],Ot=P*(It[0]+D)+wt,$t=gt-P*(It[1]+at)-wt,Bt=P*(Mt[0]+D)+wt,Lt=gt-P*(Mt[1]+at)-wt,Ht=P*(Gt[0]+D)+wt,Vt=gt-P*(Gt[1]+at)-wt,qt=P*(Ut[0]+D)+wt,Qt=gt-P*(Ut[1]+at)-wt;Nt===0&&(xt.push(Ot,$t),Ft.push(Ot,$t)),xt.push(Bt,Lt,Ht,Vt,qt,Qt),ot(this,X,dn).call(this,Ot,$t,Bt,Lt,Ht,Vt,qt,Qt,4,Ft)}Tt.push({bezier:xt,points:Ft})}return Tt},X=new WeakSet,dn=function(P,D,at,gt,Et,Tt,wt,xt,Ft,kt){if(ot(this,it,fn).call(this,P,D,at,gt,Et,Tt,wt,xt)){kt.push(wt,xt);return}for(let Nt=1;Nt<Ft-1;Nt++){const Dt=Nt/Ft,It=1-Dt;let Mt=Dt*P+It*at,Gt=Dt*D+It*gt,Ut=Dt*at+It*Et,Ot=Dt*gt+It*Tt;const $t=Dt*Et+It*wt,Bt=Dt*Tt+It*xt;Mt=Dt*Mt+It*Ut,Gt=Dt*Gt+It*Ot,Ut=Dt*Ut+It*$t,Ot=Dt*Ot+It*Bt,Mt=Dt*Mt+It*Ut,Gt=Dt*Gt+It*Ot,kt.push(Mt,Gt)}kt.push(wt,xt)},it=new WeakSet,fn=function(P,D,at,gt,Et,Tt,wt,xt){const kt=Zt(3*at-2*P-wt,2),Nt=Zt(3*gt-2*D-xt,2),Dt=Zt(3*Et-P-2*wt,2),It=Zt(3*Tt-D-2*xt,2);return Math.max(kt,Dt)+Math.max(Nt,It)<=10},nt=new WeakSet,Be=function(){let P=1/0,D=-1/0,at=1/0,gt=-1/0;for(const Et of this.paths)for(const[Tt,wt,xt,Ft]of Et){const kt=n.Util.bezierBoundingBox(...Tt,...wt,...xt,...Ft);P=Math.min(P,kt[0]),at=Math.min(at,kt[1]),D=Math.max(D,kt[2]),gt=Math.max(gt,kt[3])}return[P,at,D,gt]},ft=new WeakSet,be=function(){return b(this,o)?Math.ceil(this.thickness*this.parentScale):0},_t=new WeakSet,re=function(P=!1){if(this.isEmpty())return;if(!b(this,o)){ot(this,At,Kt).call(this);return}const D=ot(this,nt,Be).call(this),at=ot(this,ft,be).call(this);mt(this,U,Math.max(z,D[2]-D[0])),mt(this,S,Math.max(z,D[3]-D[1]));const gt=Math.ceil(at+b(this,U)*this.scaleFactor),Et=Math.ceil(at+b(this,S)*this.scaleFactor),[Tt,wt]=this.parentDimensions;this.width=gt/Tt,this.height=Et/wt,mt(this,M,gt/Et),ot(this,K,Ue).call(this);const xt=this.translationX,Ft=this.translationY;this.translationX=-D[0],this.translationY=-D[1],ot(this,O,ie).call(this),ot(this,At,Kt).call(this),mt(this,g,gt),mt(this,e,Et),this.setDims(gt,Et);const kt=P?at/this.scaleFactor/2:0;this.translate(xt-this.translationX-kt,Ft-this.translationY-kt)},K=new WeakSet,Ue=function(){const{style:P}=this.div;b(this,M)>=1?(P.minHeight=`${z}px`,P.minWidth=`${Math.round(b(this,M)*z)}px`):(P.minWidth=`${z}px`,P.minHeight=`${Math.round(z/b(this,M))}px`)},et(j,v),jt(j,"_defaultColor",null),jt(j,"_defaultOpacity",1),jt(j,"_defaultThickness",1),jt(j,"_l10nPromise"),jt(j,"_type","ink"),p.InkEditor=j},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.fitCurve=void 0;const n=H(31);p.fitCurve=n},ct=>{function p(m,f,o){if(!Array.isArray(m))throw new TypeError("First argument should be an array");if(m.forEach(g=>{if(!Array.isArray(g)||g.some(e=>typeof e!="number")||g.length!==m[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),m=m.filter((g,e)=>e===0||!g.every((r,l)=>r===m[e-1][l])),m.length<2)return[];const _=m.length,C=U(m[1],m[0]),x=U(m[_-2],m[_-1]);return H(m,C,x,f,o)}function H(m,f,o,_,C){var g,e,r,l,s,h,T,i,I,G,Y,J,rt;if(m.length===2)return J=w.vectorLen(w.subtract(m[0],m[1]))/3,g=[m[0],w.addArrays(m[0],w.mulItems(f,J)),w.addArrays(m[1],w.mulItems(o,J)),m[1]],[g];if(e=z(m),[g,l,h]=n(m,e,e,f,o,C),l===0||l<_)return[g];if(l<_*_)for(r=e,s=l,T=h,rt=0;rt<20;rt++){if(r=q(g,m,r),[g,l,h]=n(m,e,r,f,o,C),l<_)return[g];if(h===T){let dt=l/s;if(dt>.9999&&dt<1.0001)break}s=l,T=h}return Y=[],i=w.subtract(m[h-1],m[h+1]),i.every(dt=>dt===0)&&(i=w.subtract(m[h-1],m[h]),[i[0],i[1]]=[-i[1],i[0]]),I=w.normalize(i),G=w.mulItems(I,-1),Y=Y.concat(H(m.slice(0,h+1),f,I,_,C)),Y=Y.concat(H(m.slice(h),G,o,_,C)),Y}function n(m,f,o,_,C,x){var g,e,r;return g=A(m,o,_,C,x),[e,r]=j(m,g,f),x&&x({bez:g,points:m,params:f,maxErr:e,maxPoint:r}),[g,e,r]}function A(m,f,o,_){var C,x,g,e,r,l,s,h,T,i,I,G,Y,J,rt,dt,st,ht=m[0],bt=m[m.length-1];for(C=[ht,null,null,bt],x=w.zeros_Xx2x2(f.length),Y=0,J=f.length;Y<J;Y++)dt=f[Y],st=1-dt,g=x[Y],g[0]=w.mulItems(o,3*dt*(st*st)),g[1]=w.mulItems(_,3*st*(dt*dt));for(e=[[0,0],[0,0]],r=[0,0],Y=0,J=m.length;Y<J;Y++)dt=f[Y],g=x[Y],e[0][0]+=w.dot(g[0],g[0]),e[0][1]+=w.dot(g[0],g[1]),e[1][0]+=w.dot(g[0],g[1]),e[1][1]+=w.dot(g[1],g[1]),rt=w.subtract(m[Y],k.q([ht,ht,bt,bt],dt)),r[0]+=w.dot(g[0],rt),r[1]+=w.dot(g[1],rt);return l=e[0][0]*e[1][1]-e[1][0]*e[0][1],s=e[0][0]*r[1]-e[1][0]*r[0],h=r[0]*e[1][1]-r[1]*e[0][1],T=l===0?0:h/l,i=l===0?0:s/l,G=w.vectorLen(w.subtract(ht,bt)),I=1e-6*G,T<I||i<I?(C[1]=w.addArrays(ht,w.mulItems(o,G/3)),C[2]=w.addArrays(bt,w.mulItems(_,G/3))):(C[1]=w.addArrays(ht,w.mulItems(o,T)),C[2]=w.addArrays(bt,w.mulItems(_,i))),C}function q(m,f,o){return o.map((_,C)=>V(m,f[C],_))}function V(m,f,o){var _=w.subtract(k.q(m,o),f),C=k.qprime(m,o),x=w.mulMatrix(_,C),g=w.sum(w.squareItems(C))+2*w.mulMatrix(_,k.qprimeprime(m,o));return g===0?o:o-x/g}function z(m){var f=[],o,_,C;return m.forEach((x,g)=>{o=g?_+w.vectorLen(w.subtract(x,C)):0,f.push(o),_=o,C=x}),f=f.map(x=>x/_),f}function j(m,f,o){var _,C,x,g,e,r,l,s;C=0,x=Math.floor(m.length/2);const h=M(f,10);for(e=0,r=m.length;e<r;e++)l=m[e],s=S(f,o[e],h,10),g=w.subtract(k.q(f,s),l),_=g[0]*g[0]+g[1]*g[1],_>C&&(C=_,x=e);return[C,x]}var M=function(m,f){for(var o,_=[0],C=m[0],x=0,g=1;g<=f;g++)o=k.q(m,g/f),x+=w.vectorLen(w.subtract(o,C)),_.push(x),C=o;return _=_.map(e=>e/x),_};function S(m,f,o,_){if(f<0)return 0;if(f>1)return 1;for(var C,x,g,e,r,l=1;l<=_;l++)if(f<=o[l]){e=(l-1)/_,g=l/_,x=o[l-1],C=o[l],r=(f-x)/(C-x)*(g-e)+e;break}return r}function U(m,f){return w.normalize(w.subtract(m,f))}class w{static zeros_Xx2x2(f){for(var o=[];f--;)o.push([0,0]);return o}static mulItems(f,o){return f.map(_=>_*o)}static mulMatrix(f,o){return f.reduce((_,C,x)=>_+C*o[x],0)}static subtract(f,o){return f.map((_,C)=>_-o[C])}static addArrays(f,o){return f.map((_,C)=>_+o[C])}static addItems(f,o){return f.map(_=>_+o)}static sum(f){return f.reduce((o,_)=>o+_)}static dot(f,o){return w.mulMatrix(f,o)}static vectorLen(f){return Math.hypot(...f)}static divItems(f,o){return f.map(_=>_/o)}static squareItems(f){return f.map(o=>o*o)}static normalize(f){return this.divItems(f,this.vectorLen(f))}}class k{static q(f,o){var _=1-o,C=w.mulItems(f[0],_*_*_),x=w.mulItems(f[1],3*_*_*o),g=w.mulItems(f[2],3*_*o*o),e=w.mulItems(f[3],o*o*o);return w.addArrays(w.addArrays(C,x),w.addArrays(g,e))}static qprime(f,o){var _=1-o,C=w.mulItems(w.subtract(f[1],f[0]),3*_*_),x=w.mulItems(w.subtract(f[2],f[1]),6*_*o),g=w.mulItems(w.subtract(f[3],f[2]),3*o*o);return w.addArrays(w.addArrays(C,x),g)}static qprimeprime(f,o){return w.addArrays(w.mulItems(w.addArrays(w.subtract(f[2],w.mulItems(f[1],2)),f[0]),6*(1-o)),w.mulItems(w.addArrays(w.subtract(f[3],w.mulItems(f[2],2)),f[1]),6*o))}}ct.exports=p,ct.exports.fitCubic=H,ct.exports.createTangent=U},(ct,p,H)=>{var At,Jt,c,pn,N,We,W,Ge;Object.defineProperty(p,"__esModule",{value:!0}),p.AnnotationLayer=void 0;var n=H(1),A=H(6),q=H(3),V=H(33),z=H(34);const j=1e3,M=9,S=new WeakSet;function U(F){return{width:F[2]-F[0],height:F[3]-F[1]}}class w{static create(t){switch(t.data.annotationType){case n.AnnotationType.LINK:return new m(t);case n.AnnotationType.TEXT:return new f(t);case n.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new _(t);case"Btn":return t.data.radioButton?new x(t):t.data.checkBox?new C(t):new g(t);case"Ch":return new e(t)}return new o(t);case n.AnnotationType.POPUP:return new r(t);case n.AnnotationType.FREETEXT:return new s(t);case n.AnnotationType.LINE:return new h(t);case n.AnnotationType.SQUARE:return new T(t);case n.AnnotationType.CIRCLE:return new i(t);case n.AnnotationType.POLYLINE:return new I(t);case n.AnnotationType.CARET:return new Y(t);case n.AnnotationType.INK:return new J(t);case n.AnnotationType.POLYGON:return new G(t);case n.AnnotationType.HIGHLIGHT:return new rt(t);case n.AnnotationType.UNDERLINE:return new dt(t);case n.AnnotationType.SQUIGGLY:return new st(t);case n.AnnotationType.STRIKEOUT:return new ht(t);case n.AnnotationType.STAMP:return new bt(t);case n.AnnotationType.FILEATTACHMENT:return new vt(t);default:return new k(t)}}}class k{constructor(t,{isRenderable:a=!1,ignoreBorder:d=!1,createQuadrilaterals:v=!1}={}){this.isRenderable=a,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,a&&(this.container=this._createContainer(d)),v&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(t=!1){const{data:a,page:d,viewport:v}=this,E=document.createElement("section");E.setAttribute("data-annotation-id",a.id),a.noRotate&&E.classList.add("norotate");const{pageWidth:B,pageHeight:Z,pageX:X,pageY:tt}=v.rawDims,{width:it,height:Q}=U(a.rect),nt=n.Util.normalizeRect([a.rect[0],d.view[3]-a.rect[1]+d.view[1],a.rect[2],d.view[3]-a.rect[3]+d.view[1]]);if(!t&&a.borderStyle.width>0){E.style.borderWidth=`${a.borderStyle.width}px`;const ft=a.borderStyle.horizontalCornerRadius,St=a.borderStyle.verticalCornerRadius;if(ft>0||St>0){const Pt=`calc(${ft}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;E.style.borderRadius=Pt}else if(this instanceof x){const Pt=`calc(${it}px * var(--scale-factor)) / calc(${Q}px * var(--scale-factor))`;E.style.borderRadius=Pt}switch(a.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:E.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:E.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:E.style.borderBottomStyle="solid";break;default:break}const _t=a.borderColor||null;_t?E.style.borderColor=n.Util.makeHexColor(_t[0]|0,_t[1]|0,_t[2]|0):E.style.borderWidth=0}E.style.left=`${100*(nt[0]-X)/B}%`,E.style.top=`${100*(nt[1]-tt)/Z}%`;const{rotation:lt}=a;return a.hasOwnCanvas||lt===0?(E.style.width=`${100*it/B}%`,E.style.height=`${100*Q/Z}%`):this.setRotation(lt,E),E}setRotation(t,a=this.container){const{pageWidth:d,pageHeight:v}=this.viewport.rawDims,{width:E,height:B}=U(this.data.rect);let Z,X;t%180===0?(Z=100*E/d,X=100*B/v):(Z=100*B/d,X=100*E/v),a.style.width=`${Z}%`,a.style.height=`${X}%`,a.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(a,d,v)=>{const E=v.detail[a];v.target.style[d]=V.ColorConverters[`${E[0]}_HTML`](E.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:a=>{const d=a.detail.display%2===1;this.container.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:a.detail.display===0||a.detail.display===3})},print:a=>{this.annotationStorage.setValue(this.data.id,{print:a.detail.print})},hidden:a=>{this.container.style.visibility=a.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:a.detail.hidden})},focus:a=>{setTimeout(()=>a.target.focus({preventScroll:!1}),0)},userName:a=>{a.target.title=a.detail.userName},readonly:a=>{a.detail.readonly?a.target.setAttribute("readonly",""):a.target.removeAttribute("readonly")},required:a=>{this._setRequired(a.target,a.detail.required)},bgColor:a=>{t("bgColor","backgroundColor",a)},fillColor:a=>{t("fillColor","backgroundColor",a)},fgColor:a=>{t("fgColor","color",a)},textColor:a=>{t("textColor","color",a)},borderColor:a=>{t("borderColor","borderColor",a)},strokeColor:a=>{t("strokeColor","borderColor",a)},rotation:a=>{const d=a.detail.rotation;this.setRotation(d),this.annotationStorage.setValue(this.data.id,{rotation:d})}})}_dispatchEventFromSandbox(t,a){const d=this._commonActions;for(const v of Object.keys(a.detail)){const E=t[v]||d[v];E==null||E(a)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const a=this.annotationStorage.getRawValue(this.data.id);if(!a)return;const d=this._commonActions;for(const[v,E]of Object.entries(a)){const B=d[v];if(B){const Z={detail:{[v]:E},target:t};B(Z),delete a[v]}}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const a=[],d=this.data.rect;for(const v of this.data.quadPoints)this.data.rect=[v[2].x,v[2].y,v[1].x,v[1].y],a.push(this._createContainer(t));return this.data.rect=d,a}_createPopup(t,a){let d=this.container;this.quadrilaterals&&(t||(t=this.quadrilaterals),d=this.quadrilaterals[0]),t||(t=document.createElement("div"),t.classList.add("popupTriggerArea"),d.append(t));const E=new l({container:d,trigger:t,color:a.color,titleObj:a.titleObj,modificationDate:a.modificationDate,contentsObj:a.contentsObj,richText:a.richText,hideWrapper:!0}).render();E.style.left="100%",d.append(E)}_renderQuadrilaterals(t){for(const a of this.quadrilaterals)a.classList.add(t);return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,a=null){const d=[];if(this._fieldObjects){const v=this._fieldObjects[t];if(v)for(const{page:E,id:B,exportValues:Z}of v){if(E===-1||B===a)continue;const X=typeof Z=="string"?Z:null,tt=document.querySelector(`[data-element-id="${B}"]`);if(tt&&!S.has(tt)){(0,n.warn)(`_getElementsByName - element not allowed: ${B}`);continue}d.push({id:B,exportValue:X,domElement:tt})}return d}for(const v of document.getElementsByName(t)){const{exportValue:E}=v,B=v.getAttribute("data-element-id");B!==a&&S.has(v)&&d.push({id:B,exportValue:E,domElement:v})}return d}}class m extends k{constructor(a,d=null){super(a,{isRenderable:!0,ignoreBorder:!!(d!=null&&d.ignoreBorder),createQuadrilaterals:!0});et(this,At);et(this,c);this.isTooltipOnly=a.data.isTooltipOnly}render(){const{data:a,linkService:d}=this,v=document.createElement("a");v.setAttribute("data-element-id",a.id);let E=!1;return a.url?(d.addLinkAttributes(v,a.url,a.newWindow),E=!0):a.action?(this._bindNamedAction(v,a.action),E=!0):a.attachment?(this._bindAttachment(v,a.attachment),E=!0):a.setOCGState?(ot(this,c,pn).call(this,v,a.setOCGState),E=!0):a.dest?(this._bindLink(v,a.dest),E=!0):(a.actions&&(a.actions.Action||a.actions["Mouse Up"]||a.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(v,a),E=!0),a.resetForm?(this._bindResetFormAction(v,a.resetForm),E=!0):this.isTooltipOnly&&!E&&(this._bindLink(v,""),E=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((B,Z)=>{const X=Z===0?v:v.cloneNode();return B.append(X),B}):(this.container.classList.add("linkAnnotation"),E&&this.container.append(v),this.container)}_bindLink(a,d){a.href=this.linkService.getDestinationHash(d),a.onclick=()=>(d&&this.linkService.goToDestination(d),!1),(d||d==="")&&ot(this,At,Jt).call(this)}_bindNamedAction(a,d){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeNamedAction(d),!1),ot(this,At,Jt).call(this)}_bindAttachment(a,d){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>{var v;return(v=this.downloadManager)==null||v.openOrDownloadData(this.container,d.content,d.filename),!1},ot(this,At,Jt).call(this)}_bindJSAction(a,d){a.href=this.linkService.getAnchorUrl("");const v=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const E of Object.keys(d.actions)){const B=v.get(E);B&&(a[B]=()=>{var Z;return(Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d.id,name:E}}),!1})}a.onclick||(a.onclick=()=>!1),ot(this,At,Jt).call(this)}_bindResetFormAction(a,d){const v=a.onclick;if(v||(a.href=this.linkService.getAnchorUrl("")),ot(this,At,Jt).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),v||(a.onclick=()=>!1);return}a.onclick=()=>{var Q;v==null||v();const{fields:E,refs:B,include:Z}=d,X=[];if(E.length!==0||B.length!==0){const nt=new Set(B);for(const lt of E){const ft=this._fieldObjects[lt]||[];for(const{id:St}of ft)nt.add(St)}for(const lt of Object.values(this._fieldObjects))for(const ft of lt)nt.has(ft.id)===Z&&X.push(ft)}else for(const nt of Object.values(this._fieldObjects))X.push(...nt);const tt=this.annotationStorage,it=[];for(const nt of X){const{id:lt}=nt;switch(it.push(lt),nt.type){case"text":{const St=nt.defaultValue||"";tt.setValue(lt,{value:St});break}case"checkbox":case"radiobutton":{const St=nt.defaultValue===nt.exportValues;tt.setValue(lt,{value:St});break}case"combobox":case"listbox":{const St=nt.defaultValue||"";tt.setValue(lt,{value:St});break}default:continue}const ft=document.querySelector(`[data-element-id="${lt}"]`);if(ft){if(!S.has(ft)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${lt}`);continue}}else continue;ft.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Q=this.linkService.eventBus)==null||Q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:it,name:"ResetForm"}})),!1}}}At=new WeakSet,Jt=function(){this.container.setAttribute("data-internal-link","")},c=new WeakSet,pn=function(a,d){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeSetOCGState(d),!1),ot(this,At,Jt).call(this)};class f extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class o extends k{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(t){var a;this.data.hasOwnCanvas&&(((a=t.previousSibling)==null?void 0:a.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){const{isWin:a,isMac:d}=n.FeatureTest.platform;return a&&t.ctrlKey||d&&t.metaKey}_setEventListener(t,a,d,v){a.includes("mouse")?t.addEventListener(a,E=>{var B;(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:v(E),shift:E.shiftKey,modifier:this._getKeyModifier(E)}})}):t.addEventListener(a,E=>{var B;(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:v(E)}})})}_setEventListeners(t,a,d){var v;for(const[E,B]of a)(B==="Action"||(v=this.data.actions)!=null&&v[B])&&this._setEventListener(t,E,B,d)}_setBackgroundColor(t){const a=this.data.backgroundColor||null;t.style.backgroundColor=a===null?"transparent":n.Util.makeHexColor(a[0],a[1],a[2])}_setTextStyle(t){const a=["left","center","right"],{fontColor:d}=this.data.defaultAppearanceData,v=this.data.defaultAppearanceData.fontSize||M,E=t.style;let B;const Z=2,X=tt=>Math.round(10*tt)/10;if(this.data.multiLine){const tt=Math.abs(this.data.rect[3]-this.data.rect[1]-Z),it=Math.round(tt/(n.LINE_FACTOR*v))||1,Q=tt/it;B=Math.min(v,X(Q/n.LINE_FACTOR))}else{const tt=Math.abs(this.data.rect[3]-this.data.rect[1]-Z);B=Math.min(v,X(tt/n.LINE_FACTOR))}E.fontSize=`calc(${B}px * var(--scale-factor))`,E.color=n.Util.makeHexColor(d[0],d[1],d[2]),this.data.textAlignment!==null&&(E.textAlign=a[this.data.textAlignment])}_setRequired(t,a){a?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",a)}}class _ extends o{constructor(t){const a=t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:a})}setPropertyOnSiblings(t,a,d,v){const E=this.annotationStorage;for(const B of this._getElementsByName(t.name,t.id))B.domElement&&(B.domElement[a]=d),E.setValue(B.id,{[v]:d})}render(){var v;const t=this.annotationStorage,a=this.data.id;this.container.classList.add("textWidgetAnnotation");let d=null;if(this.renderForms){const E=t.getValue(a,{value:this.data.fieldValue});let B=E.formattedValue||E.value||"";const Z=t.getValue(a,{charLimit:this.data.maxLen}).charLimit;Z&&B.length>Z&&(B=B.slice(0,Z));const X={userValue:B,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=B,this.data.doNotScroll&&(d.style.overflowY="hidden")):(d=document.createElement("input"),d.type="text",d.setAttribute("value",B),this.data.doNotScroll&&(d.style.overflowX="hidden")),this.data.hasOwnCanvas&&(d.hidden=!0),S.add(d),d.setAttribute("data-element-id",a),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=j,this._setRequired(d,this.data.required),Z&&(d.maxLength=Z),d.addEventListener("input",it=>{t.setValue(a,{value:it.target.value}),this.setPropertyOnSiblings(d,"value",it.target.value,"value")}),d.addEventListener("resetform",it=>{var nt;const Q=(nt=this.data.defaultFieldValue)!=null?nt:"";d.value=X.userValue=Q,X.formattedValue=null});let tt=it=>{const{formattedValue:Q}=X;Q!=null&&(it.target.value=Q),it.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",Q=>{const{target:nt}=Q;X.userValue&&(nt.value=X.userValue),X.lastCommittedValue=nt.value,X.commitKey=1}),d.addEventListener("updatefromsandbox",Q=>{this.showElementAndHideCanvas(Q.target);const nt={value(lt){var ft;X.userValue=(ft=lt.detail.value)!=null?ft:"",t.setValue(a,{value:X.userValue.toString()}),lt.target.value=X.userValue},formattedValue(lt){const{formattedValue:ft}=lt.detail;X.formattedValue=ft,ft!=null&&lt.target!==document.activeElement&&(lt.target.value=ft),t.setValue(a,{formattedValue:ft})},selRange(lt){lt.target.setSelectionRange(...lt.detail.selRange)},charLimit:lt=>{var Pt;const{charLimit:ft}=lt.detail,{target:St}=lt;if(ft===0){St.removeAttribute("maxLength");return}St.setAttribute("maxLength",ft);let _t=X.userValue;!_t||_t.length<=ft||(_t=_t.slice(0,ft),St.value=X.userValue=_t,t.setValue(a,{value:_t}),(Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:_t,willCommit:!0,commitKey:1,selStart:St.selectionStart,selEnd:St.selectionEnd}}))}};this._dispatchEventFromSandbox(nt,Q)}),d.addEventListener("keydown",Q=>{var ft;X.commitKey=1;let nt=-1;if(Q.key==="Escape"?nt=0:Q.key==="Enter"&&!this.data.multiLine?nt=2:Q.key==="Tab"&&(X.commitKey=3),nt===-1)return;const{value:lt}=Q.target;X.lastCommittedValue!==lt&&(X.lastCommittedValue=lt,X.userValue=lt,(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:lt,willCommit:!0,commitKey:nt,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}}))});const it=tt;tt=null,d.addEventListener("blur",Q=>{var lt;if(!Q.relatedTarget)return;const{value:nt}=Q.target;X.userValue=nt,X.lastCommittedValue!==nt&&((lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:nt,willCommit:!0,commitKey:X.commitKey,selStart:Q.target.selectionStart,selEnd:Q.target.selectionEnd}})),it(Q)}),(v=this.data.actions)!=null&&v.Keystroke&&d.addEventListener("beforeinput",Q=>{var pt;X.lastCommittedValue=null;const{data:nt,target:lt}=Q,{value:ft,selectionStart:St,selectionEnd:_t}=lt;let Pt=St,K=_t;switch(Q.inputType){case"deleteWordBackward":{const yt=ft.substring(0,St).match(/\w*[^\w]*$/);yt&&(Pt-=yt[0].length);break}case"deleteWordForward":{const yt=ft.substring(St).match(/^[^\w]*\w*/);yt&&(K+=yt[0].length);break}case"deleteContentBackward":St===_t&&(Pt-=1);break;case"deleteContentForward":St===_t&&(K+=1);break}Q.preventDefault(),(pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:ft,change:nt||"",willCommit:!1,selStart:Pt,selEnd:K}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Q=>Q.target.value)}if(tt&&d.addEventListener("blur",tt),this.data.comb){const Q=(this.data.rect[2]-this.data.rect[0])/Z;d.classList.add("comb"),d.style.letterSpacing=`calc(${Q}px * var(--scale-factor) - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class C extends o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,a=this.data,d=a.id;let v=t.getValue(d,{value:a.exportValue===a.fieldValue}).value;typeof v=="string"&&(v=v!=="Off",t.setValue(d,{value:v})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const E=document.createElement("input");return S.add(E),E.setAttribute("data-element-id",d),E.disabled=a.readOnly,this._setRequired(E,this.data.required),E.type="checkbox",E.name=a.fieldName,v&&E.setAttribute("checked",!0),E.setAttribute("exportValue",a.exportValue),E.tabIndex=j,E.addEventListener("change",B=>{const{name:Z,checked:X}=B.target;for(const tt of this._getElementsByName(Z,d)){const it=X&&tt.exportValue===a.exportValue;tt.domElement&&(tt.domElement.checked=it),t.setValue(tt.id,{value:it})}t.setValue(d,{value:X})}),E.addEventListener("resetform",B=>{const Z=a.defaultFieldValue||"Off";B.target.checked=Z===a.exportValue}),this.enableScripting&&this.hasJSActions&&(E.addEventListener("updatefromsandbox",B=>{const Z={value(X){X.target.checked=X.detail.value!=="Off",t.setValue(d,{value:X.target.checked})}};this._dispatchEventFromSandbox(Z,B)}),this._setEventListeners(E,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.append(E),this.container}}class x extends o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,a=this.data,d=a.id;let v=t.getValue(d,{value:a.fieldValue===a.buttonValue}).value;typeof v=="string"&&(v=v!==a.buttonValue,t.setValue(d,{value:v}));const E=document.createElement("input");if(S.add(E),E.setAttribute("data-element-id",d),E.disabled=a.readOnly,this._setRequired(E,this.data.required),E.type="radio",E.name=a.fieldName,v&&E.setAttribute("checked",!0),E.tabIndex=j,E.addEventListener("change",B=>{const{name:Z,checked:X}=B.target;for(const tt of this._getElementsByName(Z,d))t.setValue(tt.id,{value:!1});t.setValue(d,{value:X})}),E.addEventListener("resetform",B=>{const Z=a.defaultFieldValue;B.target.checked=Z!=null&&Z===a.buttonValue}),this.enableScripting&&this.hasJSActions){const B=a.buttonValue;E.addEventListener("updatefromsandbox",Z=>{const X={value:tt=>{const it=B===tt.detail.value;for(const Q of this._getElementsByName(tt.target.name)){const nt=it&&Q.id===d;Q.domElement&&(Q.domElement.checked=nt),t.setValue(Q.id,{value:nt})}}};this._dispatchEventFromSandbox(X,Z)}),this._setEventListeners(E,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.append(E),this.container}}class g extends m{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(t.title=this.data.alternativeText);const a=t.lastChild;return this.enableScripting&&this.hasJSActions&&a&&(this._setDefaultPropertiesFromJS(a),a.addEventListener("updatefromsandbox",d=>{this._dispatchEventFromSandbox({},d)})),t}}class e extends o{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,a=this.data.id,d=t.getValue(a,{value:this.data.fieldValue}),v=document.createElement("select");S.add(v),v.setAttribute("data-element-id",a),v.disabled=this.data.readOnly,this._setRequired(v,this.data.required),v.name=this.data.fieldName,v.tabIndex=j;let E=this.data.combo&&this.data.options.length>0;this.data.combo||(v.size=this.data.options.length,this.data.multiSelect&&(v.multiple=!0)),v.addEventListener("resetform",it=>{const Q=this.data.defaultFieldValue;for(const nt of v.options)nt.selected=nt.value===Q});for(const it of this.data.options){const Q=document.createElement("option");Q.textContent=it.displayValue,Q.value=it.exportValue,d.value.includes(it.exportValue)&&(Q.setAttribute("selected",!0),E=!1),v.append(Q)}let B=null;if(E){const it=document.createElement("option");it.value=" ",it.setAttribute("hidden",!0),it.setAttribute("selected",!0),v.prepend(it),B=()=>{it.remove(),v.removeEventListener("input",B),B=null},v.addEventListener("input",B)}const Z=it=>{const Q=it?"value":"textContent",{options:nt,multiple:lt}=v;return lt?Array.prototype.filter.call(nt,ft=>ft.selected).map(ft=>ft[Q]):nt.selectedIndex===-1?null:nt[nt.selectedIndex][Q]};let X=Z(!1);const tt=it=>{const Q=it.target.options;return Array.prototype.map.call(Q,nt=>({displayValue:nt.textContent,exportValue:nt.value}))};return this.enableScripting&&this.hasJSActions?(v.addEventListener("updatefromsandbox",it=>{const Q={value(nt){B==null||B();const lt=nt.detail.value,ft=new Set(Array.isArray(lt)?lt:[lt]);for(const St of v.options)St.selected=ft.has(St.value);t.setValue(a,{value:Z(!0)}),X=Z(!1)},multipleSelection(nt){v.multiple=!0},remove(nt){const lt=v.options,ft=nt.detail.remove;lt[ft].selected=!1,v.remove(ft),lt.length>0&&Array.prototype.findIndex.call(lt,_t=>_t.selected)===-1&&(lt[0].selected=!0),t.setValue(a,{value:Z(!0),items:tt(nt)}),X=Z(!1)},clear(nt){for(;v.length!==0;)v.remove(0);t.setValue(a,{value:null,items:[]}),X=Z(!1)},insert(nt){const{index:lt,displayValue:ft,exportValue:St}=nt.detail.insert,_t=v.children[lt],Pt=document.createElement("option");Pt.textContent=ft,Pt.value=St,_t?_t.before(Pt):v.append(Pt),t.setValue(a,{value:Z(!0),items:tt(nt)}),X=Z(!1)},items(nt){const{items:lt}=nt.detail;for(;v.length!==0;)v.remove(0);for(const ft of lt){const{displayValue:St,exportValue:_t}=ft,Pt=document.createElement("option");Pt.textContent=St,Pt.value=_t,v.append(Pt)}v.options.length>0&&(v.options[0].selected=!0),t.setValue(a,{value:Z(!0),items:tt(nt)}),X=Z(!1)},indices(nt){const lt=new Set(nt.detail.indices);for(const ft of nt.target.options)ft.selected=lt.has(ft.index);t.setValue(a,{value:Z(!0)}),X=Z(!1)},editable(nt){nt.target.disabled=!nt.detail.editable}};this._dispatchEventFromSandbox(Q,it)}),v.addEventListener("input",it=>{var nt;const Q=Z(!0);t.setValue(a,{value:Q}),it.preventDefault(),(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a,name:"Keystroke",value:X,changeEx:Q,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],it=>it.target.value)):v.addEventListener("input",function(it){t.setValue(a,{value:Z(!0)})}),this.data.combo&&this._setTextStyle(v),this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.append(v),this.container}}const y=class extends k{constructor(t){var v,E,B;const{data:a}=t,d=!y.IGNORE_TYPES.has(a.parentType)&&!!((v=a.titleObj)!=null&&v.str||(E=a.contentsObj)!=null&&E.str||(B=a.richText)!=null&&B.str);super(t,{isRenderable:d})}render(){this.container.classList.add("popupAnnotation");const t=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(t.length===0)return this.container;const a=new l({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),d=this.page,v=n.Util.normalizeRect([this.data.parentRect[0],d.view[3]-this.data.parentRect[1]+d.view[1],this.data.parentRect[2],d.view[3]-this.data.parentRect[3]+d.view[1]]),E=v[0]+this.data.parentRect[2]-this.data.parentRect[0],B=v[1],{pageWidth:Z,pageHeight:X,pageX:tt,pageY:it}=this.viewport.rawDims;return this.container.style.left=`${100*(E-tt)/Z}%`,this.container.style.top=`${100*(B-it)/X}%`,this.container.append(a.render()),this.container}};let r=y;jt(r,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class l{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var Z,X;const a=document.createElement("div");a.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?a:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.classList.add("popup");const v=this.color;if(v){const tt=.7*(255-v[0])+v[0],it=.7*(255-v[1])+v[1],Q=.7*(255-v[2])+v[2];d.style.backgroundColor=n.Util.makeHexColor(tt|0,it|0,Q|0)}const E=document.createElement("h1");E.dir=this.titleObj.dir,E.textContent=this.titleObj.str,d.append(E);const B=A.PDFDateString.toDateObject(this.modificationDate);if(B){const tt=document.createElement("span");tt.classList.add("popupDate"),tt.textContent="{{date}}, {{time}}",tt.dataset.l10nId="annotation_date_string",tt.dataset.l10nArgs=JSON.stringify({date:B.toLocaleDateString(),time:B.toLocaleTimeString()}),d.append(tt)}if((Z=this.richText)!=null&&Z.str&&(!((X=this.contentsObj)!=null&&X.str)||this.contentsObj.str===this.richText.str))z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.classList.add("richText","popupContent");else{const tt=this._formatContents(this.contentsObj);d.append(tt)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const tt of this.trigger)tt.addEventListener("click",this._toggle.bind(this)),tt.addEventListener("mouseover",this._show.bind(this,!1)),tt.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),a.append(d),a}_formatContents({str:t,dir:a}){const d=document.createElement("p");d.classList.add("popupContent"),d.dir=a;const v=t.split(/(?:\r\n?|\n)/);for(let E=0,B=v.length;E<B;++E){const Z=v[E];d.append(document.createTextNode(Z)),E<B-1&&d.append(document.createElement("br"))}return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class s extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const a of this.textContent){const d=document.createElement("span");d.textContent=a,t.append(d)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class h extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:a,height:d}=U(t.rect),v=this.svgFactory.create(a,d,!0),E=this.svgFactory.createElement("svg:line");return E.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),E.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),E.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),E.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),E.setAttribute("stroke-width",t.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),v.append(E),this.container.append(v),this._createPopup(E,t),this.container}}class T extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:a,height:d}=U(t.rect),v=this.svgFactory.create(a,d,!0),E=t.borderStyle.width,B=this.svgFactory.createElement("svg:rect");return B.setAttribute("x",E/2),B.setAttribute("y",E/2),B.setAttribute("width",a-E),B.setAttribute("height",d-E),B.setAttribute("stroke-width",E||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),v.append(B),this.container.append(v),this._createPopup(B,t),this.container}}class i extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:a,height:d}=U(t.rect),v=this.svgFactory.create(a,d,!0),E=t.borderStyle.width,B=this.svgFactory.createElement("svg:ellipse");return B.setAttribute("cx",a/2),B.setAttribute("cy",d/2),B.setAttribute("rx",a/2-E/2),B.setAttribute("ry",d/2-E/2),B.setAttribute("stroke-width",E||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),v.append(B),this.container.append(v),this._createPopup(B,t),this.container}}class I extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:a,height:d}=U(t.rect),v=this.svgFactory.create(a,d,!0);let E=[];for(const Z of t.vertices){const X=Z.x-t.rect[0],tt=t.rect[3]-Z.y;E.push(X+","+tt)}E=E.join(" ");const B=this.svgFactory.createElement(this.svgElementName);return B.setAttribute("points",E),B.setAttribute("stroke-width",t.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),v.append(B),this.container.append(v),this._createPopup(B,t),this.container}}class G extends I{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Y extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class J extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:a,height:d}=U(t.rect),v=this.svgFactory.create(a,d,!0);for(const E of t.inkLists){let B=[];for(const X of E){const tt=X.x-t.rect[0],it=t.rect[3]-X.y;B.push(`${tt},${it}`)}B=B.join(" ");const Z=this.svgFactory.createElement(this.svgElementName);Z.setAttribute("points",B),Z.setAttribute("stroke-width",t.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),this._createPopup(Z,t),v.append(Z)}return this.container.append(v),this.container}}class rt extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class dt extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class st extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class ht extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class bt extends k{constructor(t){var d,v,E;const a=!!(t.data.hasPopup||(d=t.data.titleObj)!=null&&d.str||(v=t.data.contentsObj)!=null&&v.str||(E=t.data.richText)!=null&&E.str);super(t,{isRenderable:a,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class vt extends k{constructor(t){var v;super(t,{isRenderable:!0});const{filename:a,content:d}=this.data.file;this.filename=(0,A.getFilenameFromUrl)(a,!0),this.content=d,(v=this.linkService.eventBus)==null||v.dispatch("fileattachmentannotation",{source:this,filename:a,content:d})}render(){var a,d;this.container.classList.add("fileAttachmentAnnotation");let t;return this.data.hasAppearance?t=document.createElement("div"):(t=document.createElement("img"),t.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),t.classList.add("popupTriggerArea"),t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((a=this.data.titleObj)!=null&&a.str||(d=this.data.contentsObj)!=null&&d.str||this.data.richText)&&this._createPopup(t,this.data),this.container.append(t),this.container}_download(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.container,this.content,this.filename)}}const L=class{static render(t){var X,tt;const{annotations:a,div:d,viewport:v,accessibilityManager:E}=t;(0,A.setLayerDimensions)(d,v);const B={data:null,layer:d,page:t.page,viewport:v,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new A.DOMSVGFactory,annotationStorage:t.annotationStorage||new q.AnnotationStorage,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects};let Z=0;for(const it of a){if(it.noHTML)continue;if(it.annotationType!==n.AnnotationType.POPUP){const{width:lt,height:ft}=U(it.rect);if(lt<=0||ft<=0)continue}B.data=it;const Q=w.create(B);if(!Q.isRenderable)continue;const nt=Q.render();if(it.hidden&&(nt.style.visibility="hidden"),Array.isArray(nt))for(const lt of nt)lt.style.zIndex=Z++,ot(X=L,N,We).call(X,lt,it.id,d,E);else nt.style.zIndex=Z++,Q instanceof r?d.prepend(nt):ot(tt=L,N,We).call(tt,nt,it.id,d,E)}ot(this,W,Ge).call(this,d,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:a,div:d,viewport:v}=t;(0,A.setLayerDimensions)(d,{rotation:v.rotation}),ot(this,W,Ge).call(this,d,a),d.hidden=!1}};let Ct=L;N=new WeakSet,We=function(t,a,d,v){const E=t.firstChild||t;E.id=`${A.AnnotationPrefix}${a}`,d.append(t),v==null||v.moveElementInDOM(d,t,E,!1)},W=new WeakSet,Ge=function(t,a){if(a){for(const[d,v]of a){const E=t.querySelector(`[data-annotation-id="${d}"]`);if(!E)continue;const{firstChild:B}=E;B?B.nodeName==="CANVAS"?B.replaceWith(v):B.before(v):E.append(v)}a.clear()}},et(Ct,N),et(Ct,W),p.AnnotationLayer=Ct},(ct,p)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.ColorConverters=void 0;function H(A){return Math.floor(Math.max(0,Math.min(1,A))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([q,V,z,j]){return["G",1-Math.min(1,.3*q+.59*z+.11*V+j)]}static G_CMYK([q]){return["CMYK",0,0,0,1-q]}static G_RGB([q]){return["RGB",q,q,q]}static G_HTML([q]){const V=H(q);return`#${V}${V}${V}`}static RGB_G([q,V,z]){return["G",.3*q+.59*V+.11*z]}static RGB_HTML([q,V,z]){const j=H(q),M=H(V),S=H(z);return`#${j}${M}${S}`}static T_HTML(){return"#00000000"}static CMYK_RGB([q,V,z,j]){return["RGB",1-Math.min(1,q+j),1-Math.min(1,z+j),1-Math.min(1,V+j)]}static CMYK_HTML(q){const V=this.CMYK_RGB(q).slice(1);return this.RGB_HTML(V)}static RGB_CMYK([q,V,z]){const j=1-q,M=1-V,S=1-z,U=Math.min(j,M,S);return["CMYK",j,M,S,U]}}p.ColorConverters=n},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.XfaLayer=void 0;var n=H(19);class A{static setupStorage(V,z,j,M,S){const U=M.getValue(z,{value:null});switch(j.name){case"textarea":if(U.value!==null&&(V.textContent=U.value),S==="print")break;V.addEventListener("input",w=>{M.setValue(z,{value:w.target.value})});break;case"input":if(j.attributes.type==="radio"||j.attributes.type==="checkbox"){if(U.value===j.attributes.xfaOn?V.setAttribute("checked",!0):U.value===j.attributes.xfaOff&&V.removeAttribute("checked"),S==="print")break;V.addEventListener("change",w=>{M.setValue(z,{value:w.target.checked?w.target.getAttribute("xfaOn"):w.target.getAttribute("xfaOff")})})}else{if(U.value!==null&&V.setAttribute("value",U.value),S==="print")break;V.addEventListener("input",w=>{M.setValue(z,{value:w.target.value})})}break;case"select":if(U.value!==null)for(const w of j.children)w.attributes.value===U.value&&(w.attributes.selected=!0);V.addEventListener("input",w=>{const k=w.target.options,m=k.selectedIndex===-1?"":k[k.selectedIndex].value;M.setValue(z,{value:m})});break}}static setAttributes({html:V,element:z,storage:j=null,intent:M,linkService:S}){const{attributes:U}=z,w=V instanceof HTMLAnchorElement;U.type==="radio"&&(U.name=`${U.name}-${M}`);for(const[k,m]of Object.entries(U))if(m!=null)switch(k){case"class":m.length&&V.setAttribute(k,m.join(" "));break;case"dataId":break;case"id":V.setAttribute("data-element-id",m);break;case"style":Object.assign(V.style,m);break;case"textContent":V.textContent=m;break;default:(!w||k!=="href"&&k!=="newWindow")&&V.setAttribute(k,m)}w&&S.addLinkAttributes(V,U.href,U.newWindow),j&&U.dataId&&this.setupStorage(V,U.dataId,z,j)}static render(V){var f;const z=V.annotationStorage,j=V.linkService,M=V.xfaHtml,S=V.intent||"display",U=document.createElement(M.name);M.attributes&&this.setAttributes({html:U,element:M,intent:S,linkService:j});const w=[[M,-1,U]],k=V.div;if(k.append(U),V.viewport){const o=`matrix(${V.viewport.transform.join(",")})`;k.style.transform=o}S!=="richText"&&k.setAttribute("class","xfaLayer xfaFont");const m=[];for(;w.length>0;){const[o,_,C]=w.at(-1);if(_+1===o.children.length){w.pop();continue}const x=o.children[++w.at(-1)[1]];if(x===null)continue;const{name:g}=x;if(g==="#text"){const r=document.createTextNode(x.value);m.push(r),C.append(r);continue}let e;if((f=x==null?void 0:x.attributes)!=null&&f.xmlns?e=document.createElementNS(x.attributes.xmlns,g):e=document.createElement(g),C.append(e),x.attributes&&this.setAttributes({html:e,element:x,storage:z,intent:S,linkService:j}),x.children&&x.children.length>0)w.push([x,-1,e]);else if(x.value){const r=document.createTextNode(x.value);n.XfaText.shouldBuildText(g)&&m.push(r),e.append(r)}}for(const o of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))o.setAttribute("readOnly",!0);return{textDivs:m}}static update(V){const z=`matrix(${V.viewport.transform.join(",")})`;V.div.style.transform=z,V.div.hidden=!1}}p.XfaLayer=A},(ct,p,H)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.SVGGraphics=void 0;var n=H(6),A=H(1),q=H(10);let V=class{constructor(){(0,A.unreachable)("Not implemented: SVGGraphics")}};p.SVGGraphics=V;{let f=function(e){let r=[];const l=[];for(const s of e){if(s.fn==="save"){r.push({fnId:92,fn:"group",items:[]}),l.push(r),r=r.at(-1).items;continue}s.fn==="restore"?r=l.pop():r.push(s)}return r},o=function(e){if(Number.isInteger(e))return e.toString();const r=e.toFixed(10);let l=r.length-1;if(r[l]!=="0")return r;do l--;while(r[l]==="0");return r.substring(0,r[l]==="."?l:l+1)},_=function(e){if(e[4]===0&&e[5]===0){if(e[1]===0&&e[2]===0)return e[0]===1&&e[3]===1?"":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const r=Math.acos(e[0])*180/Math.PI;return`rotate(${o(r)})`}}else if(e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1)return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} ${o(e[5])})`};const z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},j="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/1999/xlink",S=["butt","round","square"],U=["miter","round","bevel"],w=function(e,r="",l=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!l)return URL.createObjectURL(new Blob([e],{type:r}));const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let h=`data:${r};base64,`;for(let T=0,i=e.length;T<i;T+=3){const I=e[T]&255,G=e[T+1]&255,Y=e[T+2]&255,J=I>>2,rt=(I&3)<<4|G>>4,dt=T+1<i?(G&15)<<2|Y>>6:64,st=T+2<i?Y&63:64;h+=s[J]+s[rt]+s[dt]+s[st]}return h},k=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),r=12,l=new Int32Array(256);for(let Y=0;Y<256;Y++){let J=Y;for(let rt=0;rt<8;rt++)J&1?J=3988292384^J>>1&2147483647:J=J>>1&2147483647;l[Y]=J}function s(Y,J,rt){let dt=-1;for(let st=J;st<rt;st++){const ht=(dt^Y[st])&255,bt=l[ht];dt=dt>>>8^bt}return dt^-1}function h(Y,J,rt,dt){let st=dt;const ht=J.length;rt[st]=ht>>24&255,rt[st+1]=ht>>16&255,rt[st+2]=ht>>8&255,rt[st+3]=ht&255,st+=4,rt[st]=Y.charCodeAt(0)&255,rt[st+1]=Y.charCodeAt(1)&255,rt[st+2]=Y.charCodeAt(2)&255,rt[st+3]=Y.charCodeAt(3)&255,st+=4,rt.set(J,st),st+=J.length;const bt=s(rt,dt+4,st);rt[st]=bt>>24&255,rt[st+1]=bt>>16&255,rt[st+2]=bt>>8&255,rt[st+3]=bt&255}function T(Y,J,rt){let dt=1,st=0;for(let ht=J;ht<rt;++ht)dt=(dt+(Y[ht]&255))%65521,st=(st+dt)%65521;return st<<16|dt}function i(Y){if(!q.isNodeJS)return I(Y);try{let J;parseInt(process.versions.node)>=8?J=Y:J=Buffer.from(Y);const rt=__webpack_require__(51797).deflateSync(J,{level:9});return rt instanceof Uint8Array?rt:new Uint8Array(rt)}catch(J){(0,A.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+J)}return I(Y)}function I(Y){let J=Y.length;const rt=65535,dt=Math.ceil(J/rt),st=new Uint8Array(2+J+dt*5+4);let ht=0;st[ht++]=120,st[ht++]=156;let bt=0;for(;J>rt;)st[ht++]=0,st[ht++]=255,st[ht++]=255,st[ht++]=0,st[ht++]=0,st.set(Y.subarray(bt,bt+rt),ht),ht+=rt,bt+=rt,J-=rt;st[ht++]=1,st[ht++]=J&255,st[ht++]=J>>8&255,st[ht++]=~J&65535&255,st[ht++]=(~J&65535)>>8&255,st.set(Y.subarray(bt),ht),ht+=Y.length-bt;const vt=T(Y,0,Y.length);return st[ht++]=vt>>24&255,st[ht++]=vt>>16&255,st[ht++]=vt>>8&255,st[ht++]=vt&255,st}function G(Y,J,rt,dt){const st=Y.width,ht=Y.height;let bt,vt,Ct;const At=Y.data;switch(J){case A.ImageKind.GRAYSCALE_1BPP:vt=0,bt=1,Ct=st+7>>3;break;case A.ImageKind.RGB_24BPP:vt=2,bt=8,Ct=st*3;break;case A.ImageKind.RGBA_32BPP:vt=6,bt=8,Ct=st*4;break;default:throw new Error("invalid format")}const $=new Uint8Array((1+Ct)*ht);let c=0,u=0;for(let L=0;L<ht;++L)$[c++]=0,$.set(At.subarray(u,u+Ct),c),u+=Ct,c+=Ct;if(J===A.ImageKind.GRAYSCALE_1BPP&&dt){c=0;for(let L=0;L<ht;L++){c++;for(let F=0;F<Ct;F++)$[c++]^=255}}const y=new Uint8Array([st>>24&255,st>>16&255,st>>8&255,st&255,ht>>24&255,ht>>16&255,ht>>8&255,ht&255,bt,vt,0,0,0]),N=i($),R=e.length+r*3+y.length+N.length,W=new Uint8Array(R);let O=0;return W.set(e,O),O+=e.length,h("IHDR",y,W,O),O+=r+y.length,h("IDATA",N,W,O),O+=r+N.length,h("IEND",new Uint8Array(0),W,O),w(W,"image/png",rt)}return function(J,rt,dt){const st=J.kind===void 0?A.ImageKind.GRAYSCALE_1BPP:J.kind;return G(J,st,rt,dt)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=z.fontWeight,this.fontSize=0,this.textMatrix=A.IDENTITY_MATRIX,this.fontMatrix=A.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=A.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,l){this.x=r,this.y=l}}let C=0,x=0,g=0;p.SVGGraphics=V=class{constructor(e,r,l=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new m,this.transformMatrix=A.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!l,this._operatorIdMapping=[];for(const s in A.OPS)this._operatorIdMapping[A.OPS[s]]=s}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const r=e.fnArray,l=e.argsArray;for(let s=0,h=r.length;s<h;s++)if(r[s]===A.OPS.dependency)for(const T of l[s]){const i=T.startsWith("g_")?this.commonObjs:this.objs,I=new Promise(G=>{i.get(T,G)});this.current.dependencies.push(I)}return Promise.all(this.current.dependencies)}transform(e,r,l,s,h,T){const i=[e,r,l,s,h,T];this.transformMatrix=A.Util.transform(this.transformMatrix,i),this.tgrp=null}getSVG(e,r){this.viewport=r;const l=this._initialize(r);return this.loadDependencies(e).then(()=>(this.transformMatrix=A.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),l))}convertOpList(e){const r=this._operatorIdMapping,l=e.argsArray,s=e.fnArray,h=[];for(let T=0,i=s.length;T<i;T++){const I=s[T];h.push({fnId:I,fn:r[I],args:l[T]})}return f(h)}executeOpTree(e){for(const r of e){const l=r.fn,s=r.fnId,h=r.args;switch(s|0){case A.OPS.beginText:this.beginText();break;case A.OPS.dependency:break;case A.OPS.setLeading:this.setLeading(h);break;case A.OPS.setLeadingMoveText:this.setLeadingMoveText(h[0],h[1]);break;case A.OPS.setFont:this.setFont(h);break;case A.OPS.showText:this.showText(h[0]);break;case A.OPS.showSpacedText:this.showText(h[0]);break;case A.OPS.endText:this.endText();break;case A.OPS.moveText:this.moveText(h[0],h[1]);break;case A.OPS.setCharSpacing:this.setCharSpacing(h[0]);break;case A.OPS.setWordSpacing:this.setWordSpacing(h[0]);break;case A.OPS.setHScale:this.setHScale(h[0]);break;case A.OPS.setTextMatrix:this.setTextMatrix(h[0],h[1],h[2],h[3],h[4],h[5]);break;case A.OPS.setTextRise:this.setTextRise(h[0]);break;case A.OPS.setTextRenderingMode:this.setTextRenderingMode(h[0]);break;case A.OPS.setLineWidth:this.setLineWidth(h[0]);break;case A.OPS.setLineJoin:this.setLineJoin(h[0]);break;case A.OPS.setLineCap:this.setLineCap(h[0]);break;case A.OPS.setMiterLimit:this.setMiterLimit(h[0]);break;case A.OPS.setFillRGBColor:this.setFillRGBColor(h[0],h[1],h[2]);break;case A.OPS.setStrokeRGBColor:this.setStrokeRGBColor(h[0],h[1],h[2]);break;case A.OPS.setStrokeColorN:this.setStrokeColorN(h);break;case A.OPS.setFillColorN:this.setFillColorN(h);break;case A.OPS.shadingFill:this.shadingFill(h[0]);break;case A.OPS.setDash:this.setDash(h[0],h[1]);break;case A.OPS.setRenderingIntent:this.setRenderingIntent(h[0]);break;case A.OPS.setFlatness:this.setFlatness(h[0]);break;case A.OPS.setGState:this.setGState(h[0]);break;case A.OPS.fill:this.fill();break;case A.OPS.eoFill:this.eoFill();break;case A.OPS.stroke:this.stroke();break;case A.OPS.fillStroke:this.fillStroke();break;case A.OPS.eoFillStroke:this.eoFillStroke();break;case A.OPS.clip:this.clip("nonzero");break;case A.OPS.eoClip:this.clip("evenodd");break;case A.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case A.OPS.paintImageXObject:this.paintImageXObject(h[0]);break;case A.OPS.paintInlineImageXObject:this.paintInlineImageXObject(h[0]);break;case A.OPS.paintImageMaskXObject:this.paintImageMaskXObject(h[0]);break;case A.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(h[0],h[1]);break;case A.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case A.OPS.closePath:this.closePath();break;case A.OPS.closeStroke:this.closeStroke();break;case A.OPS.closeFillStroke:this.closeFillStroke();break;case A.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case A.OPS.nextLine:this.nextLine();break;case A.OPS.transform:this.transform(h[0],h[1],h[2],h[3],h[4],h[5]);break;case A.OPS.constructPath:this.constructPath(h[0],h[1]);break;case A.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,A.warn)(`Unimplemented operator ${l}`);break}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,r,l,s,h,T){const i=this.current;i.textMatrix=i.lineMatrix=[e,r,l,s,h,T],i.textMatrixScale=Math.hypot(e,r),i.x=i.lineX=0,i.y=i.lineY=0,i.xcoords=[],i.ycoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",`${o(i.fontSize)}px`),i.tspan.setAttributeNS(null,"y",o(-i.y)),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtElement.append(i.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=A.IDENTITY_MATRIX,e.lineMatrix=A.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,r){const l=this.current;l.x=l.lineX+=e,l.y=l.lineY+=r,l.xcoords=[],l.ycoords=[],l.tspan=this.svgFactory.createElement("svg:tspan"),l.tspan.setAttributeNS(null,"font-family",l.fontFamily),l.tspan.setAttributeNS(null,"font-size",`${o(l.fontSize)}px`),l.tspan.setAttributeNS(null,"y",o(-l.y))}showText(e){const r=this.current,l=r.font,s=r.fontSize;if(s===0)return;const h=r.fontSizeScale,T=r.charSpacing,i=r.wordSpacing,I=r.fontDirection,G=r.textHScale*I,Y=l.vertical,J=Y?1:-1,rt=l.defaultVMetrics,dt=s*r.fontMatrix[0];let st=0;for(const vt of e){if(vt===null){st+=I*i;continue}else if(typeof vt=="number"){st+=J*vt*s/1e3;continue}const Ct=(vt.isSpace?i:0)+T,At=vt.fontChar;let $,c,u=vt.width;if(Y){let N;const R=vt.vmetric||rt;N=vt.vmetric?R[1]:u*.5,N=-N*dt;const W=R[2]*dt;u=R?-R[0]:u,$=N/h,c=(st+W)/h}else $=st/h,c=0;(vt.isInFont||l.missingFile)&&(r.xcoords.push(r.x+$),Y&&r.ycoords.push(-r.y+c),r.tspan.textContent+=At);let y;Y?y=u*dt-Ct*I:y=u*dt+Ct*I,st+=y}r.tspan.setAttributeNS(null,"x",r.xcoords.map(o).join(" ")),Y?r.tspan.setAttributeNS(null,"y",r.ycoords.map(o).join(" ")):r.tspan.setAttributeNS(null,"y",o(-r.y)),Y?r.y-=st:r.x+=st*G,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${o(r.fontSize)}px`),r.fontStyle!==z.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==z.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const ht=r.textRenderingMode&A.TextRenderingMode.FILL_STROKE_MASK;if(ht===A.TextRenderingMode.FILL||ht===A.TextRenderingMode.FILL_STROKE?(r.fillColor!==z.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.textRenderingMode===A.TextRenderingMode.ADD_TO_PATH?r.tspan.setAttributeNS(null,"fill","transparent"):r.tspan.setAttributeNS(null,"fill","none"),ht===A.TextRenderingMode.STROKE||ht===A.TextRenderingMode.FILL_STROKE){const vt=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,vt)}let bt=r.textMatrix;r.textRise!==0&&(bt=bt.slice(),bt[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${_(bt)} scale(${o(G)}, -1)`),r.txtElement.setAttributeNS(j,"xml:space","preserve"),r.txtElement.append(r.tspan),r.txtgrp.append(r.txtElement),this._ensureTransformGroup().append(r.txtElement)}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const r=w(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${r}); }
`}setFont(e){const r=this.current,l=this.commonObjs.get(e[0]);let s=e[1];r.font=l,this.embedFonts&&!l.missingFile&&!this.embeddedFonts[l.loadedName]&&(this.addFontStyle(l),this.embeddedFonts[l.loadedName]=l),r.fontMatrix=l.fontMatrix||A.FONT_IDENTITY_MATRIX;let h="normal";l.black?h="900":l.bold&&(h="bold");const T=l.italic?"italic":"normal";s<0?(s=-s,r.fontDirection=-1):r.fontDirection=1,r.fontSize=s,r.fontFamily=l.loadedName,r.fontWeight=h,r.fontStyle=T,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",o(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){var r;const e=this.current;e.textRenderingMode&A.TextRenderingMode.ADD_TO_PATH_FLAG&&((r=e.txtElement)!=null&&r.hasChildNodes())&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=S[e]}setLineJoin(e){this.current.lineJoin=U[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,r,l){this.current.strokeColor=A.Util.makeHexColor(e,r,l)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,r,l){this.current.fillColor=A.Util.makeHexColor(e,r,l),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const r=this.viewport.width,l=this.viewport.height,s=A.Util.inverseTransform(this.transformMatrix),h=A.Util.applyTransform([0,0],s),T=A.Util.applyTransform([0,l],s),i=A.Util.applyTransform([r,0],s),I=A.Util.applyTransform([r,l],s),G=Math.min(h[0],T[0],i[0],I[0]),Y=Math.min(h[1],T[1],i[1],I[1]),J=Math.max(h[0],T[0],i[0],I[0]),rt=Math.max(h[1],T[1],i[1],I[1]),dt=this.svgFactory.createElement("svg:rect");dt.setAttributeNS(null,"x",G),dt.setAttributeNS(null,"y",Y),dt.setAttributeNS(null,"width",J-G),dt.setAttributeNS(null,"height",rt-Y),dt.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(dt)}_makeColorN_Pattern(e){return e[0]==="TilingPattern"?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const r=e[1],l=e[2],s=e[3]||A.IDENTITY_MATRIX,[h,T,i,I]=e[4],G=e[5],Y=e[6],J=e[7],rt=`shading${g++}`,[dt,st,ht,bt]=A.Util.normalizeRect([...A.Util.applyTransform([h,T],s),...A.Util.applyTransform([i,I],s)]),[vt,Ct]=A.Util.singularValueDecompose2dScale(s),At=G*vt,$=Y*Ct,c=this.svgFactory.createElement("svg:pattern");c.setAttributeNS(null,"id",rt),c.setAttributeNS(null,"patternUnits","userSpaceOnUse"),c.setAttributeNS(null,"width",At),c.setAttributeNS(null,"height",$),c.setAttributeNS(null,"x",`${dt}`),c.setAttributeNS(null,"y",`${st}`);const u=this.svg,y=this.transformMatrix,N=this.current.fillColor,R=this.current.strokeColor,W=this.svgFactory.create(ht-dt,bt-st);if(this.svg=W,this.transformMatrix=s,J===2){const O=A.Util.makeHexColor(...r);this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(l)),this.svg=u,this.transformMatrix=y,this.current.fillColor=N,this.current.strokeColor=R,c.append(W.childNodes[0]),this.defs.append(c),`url(#${rt})`}_makeShadingPattern(e){switch(typeof e=="string"&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const r=`shading${g++}`,l=e[3];let s;switch(e[1]){case"axial":const h=e[4],T=e[5];s=this.svgFactory.createElement("svg:linearGradient"),s.setAttributeNS(null,"id",r),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"x1",h[0]),s.setAttributeNS(null,"y1",h[1]),s.setAttributeNS(null,"x2",T[0]),s.setAttributeNS(null,"y2",T[1]);break;case"radial":const i=e[4],I=e[5],G=e[6],Y=e[7];s=this.svgFactory.createElement("svg:radialGradient"),s.setAttributeNS(null,"id",r),s.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),s.setAttributeNS(null,"cx",I[0]),s.setAttributeNS(null,"cy",I[1]),s.setAttributeNS(null,"r",Y),s.setAttributeNS(null,"fx",i[0]),s.setAttributeNS(null,"fy",i[1]),s.setAttributeNS(null,"fr",G);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const h of l){const T=this.svgFactory.createElement("svg:stop");T.setAttributeNS(null,"offset",h[0]),T.setAttributeNS(null,"stop-color",h[1]),s.append(T)}return this.defs.append(s),`url(#${r})`;case"Mesh":return(0,A.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,r){this.current.dashArray=e,this.current.dashPhase=r}constructPath(e,r){const l=this.current;let s=l.x,h=l.y,T=[],i=0;for(const I of e)switch(I|0){case A.OPS.rectangle:s=r[i++],h=r[i++];const G=r[i++],Y=r[i++],J=s+G,rt=h+Y;T.push("M",o(s),o(h),"L",o(J),o(h),"L",o(J),o(rt),"L",o(s),o(rt),"Z");break;case A.OPS.moveTo:s=r[i++],h=r[i++],T.push("M",o(s),o(h));break;case A.OPS.lineTo:s=r[i++],h=r[i++],T.push("L",o(s),o(h));break;case A.OPS.curveTo:s=r[i+4],h=r[i+5],T.push("C",o(r[i]),o(r[i+1]),o(r[i+2]),o(r[i+3]),o(s),o(h)),i+=6;break;case A.OPS.curveTo2:T.push("C",o(s),o(h),o(r[i]),o(r[i+1]),o(r[i+2]),o(r[i+3])),s=r[i+2],h=r[i+3],i+=4;break;case A.OPS.curveTo3:s=r[i+2],h=r[i+3],T.push("C",o(r[i]),o(r[i+1]),o(s),o(h),o(s),o(h)),i+=4;break;case A.OPS.closePath:T.push("Z");break}T=T.join(" "),l.path&&e.length>0&&e[0]!==A.OPS.rectangle&&e[0]!==A.OPS.moveTo?T=l.path.getAttributeNS(null,"d")+T:(l.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(l.path)),l.path.setAttributeNS(null,"d",T),l.path.setAttributeNS(null,"fill","none"),l.element=l.path,l.setCurrentPoint(s,h)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element){this.pendingClip=null;return}const r=`clippath${C++}`,l=this.svgFactory.createElement("svg:clipPath");l.setAttributeNS(null,"id",r),l.setAttributeNS(null,"transform",_(this.transformMatrix));const s=e.element.cloneNode(!0);if(this.pendingClip==="evenodd"?s.setAttributeNS(null,"clip-rule","evenodd"):s.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,l.append(s),this.defs.append(l),e.activeClipUrl){e.clipGroup=null;for(const h of this.extraStack)h.clipGroup=null;l.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const r=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",r)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,l]of e)switch(r){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l);break;case"CA":this.setStrokeAlpha(l);break;case"ca":this.setFillAlpha(l);break;default:(0,A.warn)(`Unimplemented graphic state operator ${r}`);break}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,r=1){const l=this.current;let s=l.dashArray;r!==1&&s.length>0&&(s=s.map(function(h){return r*h})),e.setAttributeNS(null,"stroke",l.strokeColor),e.setAttributeNS(null,"stroke-opacity",l.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",o(l.miterLimit)),e.setAttributeNS(null,"stroke-linecap",l.lineCap),e.setAttributeNS(null,"stroke-linejoin",l.lineJoin),e.setAttributeNS(null,"stroke-width",o(r*l.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",s.map(o).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",o(r*l.dashPhase)+"px")}eoFill(){var e;(e=this.current.element)==null||e.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var e;(e=this.current.element)==null||e.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const r=this.getObject(e);if(!r){(0,A.warn)(`Dependent image with object ID ${e} is not ready yet`);return}this.paintInlineImageXObject(r)}paintInlineImageXObject(e,r){const l=e.width,s=e.height,h=k(e,this.forceDataSchema,!!r),T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width",o(l)),T.setAttributeNS(null,"height",o(s)),this.current.element=T,this.clip("nonzero");const i=this.svgFactory.createElement("svg:image");i.setAttributeNS(M,"xlink:href",h),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",o(-s)),i.setAttributeNS(null,"width",o(l)+"px"),i.setAttributeNS(null,"height",o(s)+"px"),i.setAttributeNS(null,"transform",`scale(${o(1/l)} ${o(-1/s)})`),r?r.append(i):this._ensureTransformGroup().append(i)}paintImageMaskXObject(e){const r=this.getObject(e.data,e);if(r.bitmap){(0,A.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const l=this.current,s=r.width,h=r.height,T=l.fillColor;l.maskId=`mask${x++}`;const i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",l.maskId);const I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x","0"),I.setAttributeNS(null,"y","0"),I.setAttributeNS(null,"width",o(s)),I.setAttributeNS(null,"height",o(h)),I.setAttributeNS(null,"fill",T),I.setAttributeNS(null,"mask",`url(#${l.maskId})`),this.defs.append(i),this._ensureTransformGroup().append(I),this.paintInlineImageXObject(r,i)}paintFormXObjectBegin(e,r){if(Array.isArray(e)&&e.length===6&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),r){const l=r[2]-r[0],s=r[3]-r[1],h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",r[0]),h.setAttributeNS(null,"y",r[1]),h.setAttributeNS(null,"width",o(l)),h.setAttributeNS(null,"height",o(s)),this.current.element=h,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const r=this.svgFactory.create(e.width,e.height),l=this.svgFactory.createElement("svg:defs");r.append(l),this.defs=l;const s=this.svgFactory.createElement("svg:g");return s.setAttributeNS(null,"transform",_(e.transform)),r.append(s),this.svg=s,r}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",_(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ct){var p=__webpack_module_cache__[ct];if(p!==void 0)return p.exports;var H=__webpack_module_cache__[ct]={exports:{}};return __webpack_modules__[ct](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var ct=__webpack_exports__;Object.defineProperty(ct,"__esModule",{value:!0}),Object.defineProperty(ct,"AbortException",{enumerable:!0,get:function(){return p.AbortException}}),Object.defineProperty(ct,"AnnotationEditorLayer",{enumerable:!0,get:function(){return q.AnnotationEditorLayer}}),Object.defineProperty(ct,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return p.AnnotationEditorParamsType}}),Object.defineProperty(ct,"AnnotationEditorType",{enumerable:!0,get:function(){return p.AnnotationEditorType}}),Object.defineProperty(ct,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return V.AnnotationEditorUIManager}}),Object.defineProperty(ct,"AnnotationLayer",{enumerable:!0,get:function(){return z.AnnotationLayer}}),Object.defineProperty(ct,"AnnotationMode",{enumerable:!0,get:function(){return p.AnnotationMode}}),Object.defineProperty(ct,"CMapCompressionType",{enumerable:!0,get:function(){return p.CMapCompressionType}}),Object.defineProperty(ct,"FeatureTest",{enumerable:!0,get:function(){return p.FeatureTest}}),Object.defineProperty(ct,"GlobalWorkerOptions",{enumerable:!0,get:function(){return j.GlobalWorkerOptions}}),Object.defineProperty(ct,"InvalidPDFException",{enumerable:!0,get:function(){return p.InvalidPDFException}}),Object.defineProperty(ct,"MissingPDFException",{enumerable:!0,get:function(){return p.MissingPDFException}}),Object.defineProperty(ct,"OPS",{enumerable:!0,get:function(){return p.OPS}}),Object.defineProperty(ct,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(ct,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(ct,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(ct,"PasswordResponses",{enumerable:!0,get:function(){return p.PasswordResponses}}),Object.defineProperty(ct,"PermissionFlag",{enumerable:!0,get:function(){return p.PermissionFlag}}),Object.defineProperty(ct,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(ct,"PromiseCapability",{enumerable:!0,get:function(){return p.PromiseCapability}}),Object.defineProperty(ct,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(ct,"SVGGraphics",{enumerable:!0,get:function(){return M.SVGGraphics}}),Object.defineProperty(ct,"UnexpectedResponseException",{enumerable:!0,get:function(){return p.UnexpectedResponseException}}),Object.defineProperty(ct,"Util",{enumerable:!0,get:function(){return p.Util}}),Object.defineProperty(ct,"VerbosityLevel",{enumerable:!0,get:function(){return p.VerbosityLevel}}),Object.defineProperty(ct,"XfaLayer",{enumerable:!0,get:function(){return S.XfaLayer}}),Object.defineProperty(ct,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(ct,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return p.createValidAbsoluteUrl}}),Object.defineProperty(ct,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(ct,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(ct,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(ct,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(ct,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(ct,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(ct,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(ct,"normalizeUnicode",{enumerable:!0,get:function(){return p.normalizeUnicode}}),Object.defineProperty(ct,"renderTextLayer",{enumerable:!0,get:function(){return A.renderTextLayer}}),Object.defineProperty(ct,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(ct,"shadow",{enumerable:!0,get:function(){return p.shadow}}),Object.defineProperty(ct,"updateTextLayer",{enumerable:!0,get:function(){return A.updateTextLayer}}),Object.defineProperty(ct,"version",{enumerable:!0,get:function(){return H.version}});var p=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),A=__w_pdfjs_require__(26),q=__w_pdfjs_require__(27),V=__w_pdfjs_require__(5),z=__w_pdfjs_require__(32),j=__w_pdfjs_require__(14),M=__w_pdfjs_require__(35),S=__w_pdfjs_require__(34);const U="3.6.172",w="4d3dfe254"})(),__webpack_exports__})())},16619:function(ct,p){"use strict";var H=!0;function n(A,q){if(!H){if(A)return;var V="Warning: "+q;typeof console!="undefined"&&console.warn(V);try{throw Error(V)}catch(z){}}}p.Z=n},45048:function(ct,p,H){"use strict";ct.exports=H.p+"static/pdf.worker.min.4e5b8a4e.js"},5341:function(ct,p,H){"use strict";function n(q){var V,z,j="";if(typeof q=="string"||typeof q=="number")j+=q;else if(typeof q=="object")if(Array.isArray(q))for(V=0;V<q.length;V++)q[V]&&(z=n(q[V]))&&(j&&(j+=" "),j+=z);else for(V in q)q[V]&&(j&&(j+=" "),j+=V);return j}function A(){for(var q,V,z=0,j="";z<arguments.length;)(q=arguments[z++])&&(V=n(q))&&(j&&(j+=" "),j+=V);return j}p.Z=A},4951:function(ct,p,H){"use strict";H.d(p,{Z:function(){return n}});function n(A){var q=!1,V=new Promise(function(z,j){A.then(function(M){return!q&&z(M)}).catch(function(M){return!q&&j(M)})});return{promise:V,cancel:function(){q=!0}}}},18225:function(ct,p,H){"use strict";H.d(p,{Tu:function(){return r},ZP:function(){return l}});var n=function(s,h,T){if(T||arguments.length===2)for(var i=0,I=h.length,G;i<I;i++)(G||!(i in h))&&(G||(G=Array.prototype.slice.call(h,0,i)),G[i]=h[i]);return s.concat(G||Array.prototype.slice.call(h))},A=["onCopy","onCut","onPaste"],q=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],V=["onFocus","onBlur"],z=["onInput","onInvalid","onReset","onSubmit"],j=["onLoad","onError"],M=["onKeyDown","onKeyPress","onKeyUp"],S=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],U=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],w=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],k=["onSelect"],m=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],f=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],o=["onScroll"],_=["onWheel"],C=["onAnimationStart","onAnimationEnd","onAnimationIteration"],x=["onTransitionEnd"],g=["onToggle"],e=["onChange"],r=n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n([],A,!0),q,!0),V,!0),z,!0),j,!0),M,!0),S,!0),U,!0),w,!0),k,!0),m,!0),f,!0),o,!0),_,!0),C,!0),x,!0),e,!0),g,!0);function l(s,h){var T={};return r.forEach(function(i){var I=s[i];I&&(h?T[i]=function(G){return I(G,h(i))}:T[i]=I)}),T}},7572:function(ct,p,H){"use strict";H.d(p,{Z:function(){return h}});var n=H(93236),A=H(40507),q=H(18225),V=H(4951),z=H(5341),j=H(38624),M=H(16619),S=H(91236),U=H(64277),w=H(19749),k=H(6628),f={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},o=H(18762),_=H(9748),C=H(89378),x=function(T,i,I,G){function Y(J){return J instanceof I?J:new I(function(rt){rt(J)})}return new(I||(I=Promise))(function(J,rt){function dt(bt){try{ht(G.next(bt))}catch(vt){rt(vt)}}function st(bt){try{ht(G.throw(bt))}catch(vt){rt(vt)}}function ht(bt){bt.done?J(bt.value):Y(bt.value).then(dt,st)}ht((G=G.apply(T,i||[])).next())})},g=function(T,i){var I={};for(var G in T)Object.prototype.hasOwnProperty.call(T,G)&&i.indexOf(G)<0&&(I[G]=T[G]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,G=Object.getOwnPropertySymbols(T);Y<G.length;Y++)i.indexOf(G[Y])<0&&Object.prototype.propertyIsEnumerable.call(T,G[Y])&&(I[G[Y]]=T[G[Y]]);return I};const{PDFDataRangeTransport:e}=S.Z,r=(T,i)=>{switch(i){case f.NEED_PASSWORD:{const I=prompt("Enter the password to open this PDF file.");T(I);break}case f.INCORRECT_PASSWORD:{const I=prompt("Invalid password. Please try again.");T(I);break}default:}},l=(0,n.forwardRef)(function(i,I){var{children:G,className:Y,error:J="Failed to load PDF file.",externalLinkRel:rt,externalLinkTarget:dt,file:st,inputRef:ht,imageResourcesPath:bt,loading:vt="Loading PDF\u2026",noData:Ct="No PDF file specified.",onItemClick:At,onLoadError:$,onLoadProgress:c,onLoadSuccess:u,onPassword:y=r,onSourceError:N,onSourceSuccess:R,options:W,renderMode:O,rotate:L}=i,F=g(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[t,a]=(0,_.Z)(),{value:d,error:v}=t,[E,B]=(0,_.Z)(),{value:Z,error:X}=E,tt=(0,n.useRef)(new k.Z),it=(0,n.useRef)([]),Q=(0,n.useRef)({scrollPageIntoView:Et=>{const{dest:Tt,pageNumber:wt,pageIndex:xt=wt-1}=Et;if(At){At({dest:Tt,pageIndex:xt,pageNumber:wt});return}const Ft=it.current[xt];if(Ft){Ft.scrollIntoView();return}(0,M.Z)(!1,`An internal link leading to page ${wt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,n.useImperativeHandle)(I,()=>({linkService:tt,pages:it,viewer:Q}),[]);function nt(){R&&R()}function lt(){v&&((0,M.Z)(!1,v.toString()),N&&N(v))}function ft(){a({type:"RESET"})}(0,n.useEffect)(ft,[st,a]);const St=(0,n.useCallback)(()=>x(this,void 0,void 0,function*(){if(!st)return null;if(typeof st=="string")return(0,o.gJ)(st)?{data:(0,o.us)(st)}:((0,o.tN)(),{url:st});if(st instanceof e)return{range:st};if((0,o.eP)(st))return{data:st};if(o.jU&&(0,o.Lj)(st))return{data:yield(0,o.eR)(st)};if((0,j.Z)(typeof st=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,j.Z)("data"in st||"range"in st||"url"in st,"Invalid parameter object: need either .data, .range or .url"),"url"in st&&typeof st.url=="string"){if((0,o.gJ)(st.url)){const{url:Et}=st,Tt=g(st,["url"]),wt=(0,o.us)(Et);return Object.assign({data:wt},Tt)}(0,o.tN)()}return st}),[st]);(0,n.useEffect)(()=>{const Et=(0,V.Z)(St());return Et.promise.then(Tt=>{a({type:"RESOLVE",value:Tt})}).catch(Tt=>{a({type:"REJECT",error:Tt})}),()=>{(0,o.LJ)(Et)}},[St,a]),(0,n.useEffect)(()=>{if(typeof d!="undefined"){if(d===!1){lt();return}nt()}},[d]);function _t(){Z&&(u&&u(Z),it.current=new Array(Z.numPages),tt.current.setDocument(Z))}function Pt(){X&&((0,M.Z)(!1,X.toString()),$&&$(X))}function K(){B({type:"RESET"})}(0,n.useEffect)(K,[B,d]);function pt(){if(!d)return;const Et=W?Object.assign(Object.assign({},d),W):d,Tt=S.Z.getDocument(Et);c&&(Tt.onProgress=c),y&&(Tt.onPassword=y);const wt=Tt;return wt.promise.then(xt=>{B({type:"RESOLVE",value:xt})}).catch(xt=>{wt.destroyed||B({type:"REJECT",error:xt})}),()=>{wt.destroy()}}(0,n.useEffect)(pt,[W,B,d]),(0,n.useEffect)(()=>{if(typeof Z!="undefined"){if(Z===!1){Pt();return}_t()}},[Z]);function yt(){tt.current.setViewer(Q.current),tt.current.setExternalLinkRel(rt),tt.current.setExternalLinkTarget(dt)}(0,n.useEffect)(yt,[rt,dt]);function Rt(Et,Tt){it.current[Et]=Tt}function ut(Et){delete it.current[Et]}const P=(0,n.useMemo)(()=>({imageResourcesPath:bt,linkService:tt.current,onItemClick:At,pdf:Z,registerPage:Rt,renderMode:O,rotate:L,unregisterPage:ut}),[bt,At,Z,O,L]),D=(0,n.useMemo)(()=>(0,q.ZP)(F,()=>Z),[F,Z]);function at(){return n.createElement(U.Z.Provider,{value:P},G)}function gt(){return st?Z==null?n.createElement(w.Z,{type:"loading"},typeof vt=="function"?vt():vt):Z===!1?n.createElement(w.Z,{type:"error"},typeof J=="function"?J():J):at():n.createElement(w.Z,{type:"no-data"},typeof Ct=="function"?Ct():Ct)}return n.createElement("div",Object.assign({className:(0,z.Z)("react-pdf__Document",Y),ref:ht,style:{["--scale-factor"]:"1"}},D),gt())}),s=A.oneOfType([A.func,A.node]);l.propTypes=Object.assign(Object.assign({},C.Gg),{children:A.node,className:C.$n,error:s,externalLinkRel:A.string,externalLinkTarget:A.oneOf(["_self","_blank","_parent","_top"]),file:C.zE,imageResourcesPath:A.string,inputRef:C.dq,loading:s,noData:s,onItemClick:A.func,onLoadError:A.func,onLoadProgress:A.func,onLoadSuccess:A.func,onPassword:A.func,onSourceError:A.func,onSourceSuccess:A.func,options:A.shape({canvasFactory:A.any,canvasMaxAreaInBytes:A.number,cMapPacked:A.bool,CMapReaderFactory:A.any,cMapUrl:A.string,disableAutoFetch:A.bool,disableFontFace:A.bool,disableRange:A.bool,disableStream:A.bool,docBaseUrl:A.string,enableXfa:A.bool,filterFactory:A.any,fontExtraProperties:A.bool,httpHeaders:A.object,isEvalSupported:A.bool,isOffscreenCanvasSupported:A.bool,length:A.number,maxImageSize:A.number,ownerDocument:A.any,password:A.string,pdfBug:A.bool,rangeChunkSize:A.number,StandardFontDataFactory:A.any,standardFontDataUrl:A.string,stopAtErrors:A.bool,useSystemFonts:A.bool,useWorkerFetch:A.bool,verbosity:A.number,withCredentials:A.bool,worker:A.any}),rotate:A.number});var h=l},64277:function(ct,p,H){"use strict";var n=H(93236);p.Z=(0,n.createContext)(null)},6628:function(ct,p,H){"use strict";H.d(p,{Z:function(){return q}});var n=H(38624);const A="noopener noreferrer nofollow";class q{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(z){this.pdfDocument=z}setViewer(z){this.pdfViewer=z}setExternalLinkRel(z){this.externalLinkRel=z}setExternalLinkTarget(z){this.externalLinkTarget=z}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,n.Z)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(z){(0,n.Z)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=z}get rotation(){return 0}set rotation(z){}goToDestination(z){return new Promise(j=>{(0,n.Z)(this.pdfDocument,"PDF document not loaded."),(0,n.Z)(z,"Destination is not specified."),typeof z=="string"?this.pdfDocument.getDestination(z).then(j):Array.isArray(z)?j(z):z.then(j)}).then(j=>{(0,n.Z)(Array.isArray(j),`"${j}" is not a valid destination array.`);const M=j[0];new Promise(S=>{(0,n.Z)(this.pdfDocument,"PDF document not loaded."),M instanceof Object?this.pdfDocument.getPageIndex(M).then(U=>{S(U)}).catch(()=>{(0,n.Z)(!1,`"${M}" is not a valid page reference.`)}):typeof M=="number"?S(M):(0,n.Z)(!1,`"${M}" is not a valid destination reference.`)}).then(S=>{const U=S+1;(0,n.Z)(this.pdfViewer,"PDF viewer is not initialized."),(0,n.Z)(U>=1&&U<=this.pagesCount,`"${U}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:j,pageIndex:S,pageNumber:U})})})}navigateTo(z){this.goToDestination(z)}goToPage(z){const j=z-1;(0,n.Z)(this.pdfViewer,"PDF viewer is not initialized."),(0,n.Z)(z>=1&&z<=this.pagesCount,`"${z}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:j,pageNumber:z})}addLinkAttributes(z,j,M){z.href=j,z.rel=this.externalLinkRel||A,z.target=M?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}},19749:function(ct,p,H){"use strict";H.d(p,{Z:function(){return A}});var n=H(93236);function A({children:q,type:V}){return n.createElement("div",{className:`react-pdf__message react-pdf__message--${V}`},q)}},12616:function(ct,p,H){"use strict";H.d(p,{Z:function(){return $}});var n=H(93236),A=H(40507),q=H(4951),V=H(18225),z=H(5341);function j(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var y=c.filter(Boolean);if(y.length<=1){var N=y[0];return N||null}return function(W){y.forEach(function(O){typeof O=="function"?O(W):O&&(O.current=W)})}}var M=H(38624),S=H(16619),U=(0,n.createContext)(null),w=H(19749),k=H(91236);const m={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f=/^H(\d+)$/;function o(c){return c in m}function _(c){return"children"in c}function C(c){return _(c)?c.children.length===1&&0 in c.children&&"id"in c.children[0]:!1}function x(c){const u={};if(_(c)){const{role:y}=c,N=y.match(f);if(N)u.role="heading",u["aria-level"]=Number(N[1]);else if(o(y)){const R=m[y];R&&(u.role=R)}}return u}function g(c){const u={};if(_(c)){if(c.alt!==void 0&&(u["aria-label"]=c.alt),c.lang!==void 0&&(u.lang=c.lang),C(c)){const[y]=c.children;if(y){const N=g(y);return Object.assign(Object.assign({},u),N)}}}else"id"in c&&(u["aria-owns"]=c.id);return u}function e(c){return c?Object.assign(Object.assign({},x(c)),g(c)):null}function r({className:c,node:u}){const y=(0,n.useMemo)(()=>e(u),[u]),N=(0,n.useMemo)(()=>!_(u)||C(u)?null:u.children.map((R,W)=>n.createElement(r,{key:W,node:R})),[u]);return n.createElement("span",Object.assign({className:c},y),N)}function l(){return(0,n.useContext)(U)}var s=H(9748),h=H(18762);function T(){const c=l();(0,M.Z)(c,"Unable to find Page context.");const{onGetStructTreeError:u,onGetStructTreeSuccess:y}=c,[N,R]=(0,s.Z)(),{value:W,error:O}=N,{customTextRenderer:L,page:F}=c;function t(){W&&y&&y(W)}function a(){O&&((0,S.Z)(!1,O.toString()),u&&u(O))}function d(){R({type:"RESET"})}(0,n.useEffect)(d,[R,F]);function v(){if(L||!F)return;const E=(0,q.Z)(F.getStructTree()),B=E;return E.promise.then(Z=>{R({type:"RESOLVE",value:Z})}).catch(Z=>{R({type:"REJECT",error:Z})}),()=>(0,h.LJ)(B)}return(0,n.useEffect)(v,[L,F,R]),(0,n.useEffect)(()=>{if(W!==void 0){if(W===!1){a();return}t()}},[W]),W?n.createElement(r,{className:"react-pdf__Page__structTree structTree",node:W}):null}const i=k.Z.AnnotationMode;function I(c){const u=l();(0,M.Z)(u,"Unable to find Page context.");const y=Object.assign(Object.assign({},u),c),{_className:N,canvasBackground:R,devicePixelRatio:W=(0,h.x_)(),onRenderError:O,onRenderSuccess:L,page:F,renderForms:t,renderTextLayer:a,rotate:d,scale:v}=y,{canvasRef:E}=c;(0,M.Z)(F,"Attempted to render page canvas, but no page was specified.");const B=(0,n.useRef)(null);function Z(){F&&L&&L((0,h.XZ)(F,v))}function X(lt){(0,h.DE)(lt)||((0,S.Z)(!1,lt.toString()),O&&O(lt))}const tt=(0,n.useMemo)(()=>F.getViewport({scale:v*W,rotation:d}),[W,F,d,v]),it=(0,n.useMemo)(()=>F.getViewport({scale:v,rotation:d}),[F,d,v]);function Q(){if(!F)return;F.cleanup();const{current:lt}=B;if(!lt)return;lt.width=tt.width,lt.height=tt.height,lt.style.width=`${Math.floor(it.width)}px`,lt.style.height=`${Math.floor(it.height)}px`,lt.style.visibility="hidden";const ft={annotationMode:t?i.ENABLE_FORMS:i.ENABLE,canvasContext:lt.getContext("2d",{alpha:!1}),viewport:tt};R&&(ft.background=R);const St=F.render(ft),_t=St;return St.promise.then(()=>{lt.style.visibility="",Z()}).catch(X),()=>(0,h.LJ)(_t)}(0,n.useEffect)(Q,[R,B,W,F,t,tt,it]);const nt=(0,n.useCallback)(()=>{const{current:lt}=B;lt&&(lt.width=0,lt.height=0)},[B]);return(0,n.useEffect)(()=>nt,[nt]),n.createElement("canvas",{className:`${N}__canvas`,dir:"ltr",ref:j(E,B),style:{display:"block",userSelect:"none"}},a?n.createElement(T,null):null)}function G(){const c=l();(0,M.Z)(c,"Unable to find Page context.");const{_className:u,onRenderSuccess:y,onRenderError:N,page:R,rotate:W,scale:O}=c;(0,M.Z)(R,"Attempted to render page SVG, but no page was specified.");const[L,F]=(0,s.Z)(),{value:t,error:a}=L;function d(){R&&y&&y((0,h.XZ)(R,O))}function v(){a&&((0,h.DE)(a)||((0,S.Z)(!1,a.toString()),N&&N(a)))}const E=(0,n.useMemo)(()=>R.getViewport({scale:O,rotation:W}),[R,W,O]);function B(){F({type:"RESET"})}(0,n.useEffect)(B,[R,F,E]);function Z(){if(!R)return;const Q=(0,q.Z)(R.getOperatorList());return Q.promise.then(nt=>{new k.Z.SVGGraphics(R.commonObjs,R.objs).getSVG(nt,E).then(ft=>{F({type:"RESOLVE",value:ft})}).catch(ft=>{F({type:"REJECT",error:ft})})}).catch(nt=>{F({type:"REJECT",error:nt})}),()=>(0,h.LJ)(Q)}(0,n.useEffect)(Z,[R,F,E]),(0,n.useEffect)(()=>{if(t!==void 0){if(t===!1){v();return}d()}},[t]);function X(Q){if(!Q||!t)return;Q.firstElementChild||Q.appendChild(t);const{width:nt,height:lt}=E;t.setAttribute("width",`${nt}`),t.setAttribute("height",`${lt}`)}const{width:tt,height:it}=E;return n.createElement("div",{className:`${u}__svg`,ref:Q=>X(Q),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:tt,height:it,userSelect:"none"}})}function Y(c){return"str"in c}function J(){const c=l();(0,M.Z)(c,"Unable to find Page context.");const{customTextRenderer:u,onGetTextError:y,onGetTextSuccess:N,onRenderTextLayerError:R,onRenderTextLayerSuccess:W,page:O,pageIndex:L,pageNumber:F,rotate:t,scale:a}=c;(0,M.Z)(O,"Attempted to load page text content, but no page was specified.");const[d,v]=(0,s.Z)(),{value:E,error:B}=d,Z=(0,n.useRef)(null),X=(0,n.useRef)();(0,S.Z)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function tt(){E&&N&&N(E)}function it(){B&&((0,S.Z)(!1,B.toString()),y&&y(B))}function Q(){v({type:"RESET"})}(0,n.useEffect)(Q,[O,v]);function nt(){if(!O)return;const pt=(0,q.Z)(O.getTextContent()),yt=pt;return pt.promise.then(Rt=>{v({type:"RESOLVE",value:Rt})}).catch(Rt=>{v({type:"REJECT",error:Rt})}),()=>(0,h.LJ)(yt)}(0,n.useEffect)(nt,[O,v]),(0,n.useEffect)(()=>{if(E!==void 0){if(E===!1){it();return}tt()}},[E]);const lt=(0,n.useCallback)(()=>{W&&W()},[W]),ft=(0,n.useCallback)(pt=>{(0,S.Z)(!1,pt.toString()),R&&R(pt)},[R]);function St(){const pt=X.current;pt&&pt.classList.add("active")}function _t(){const pt=X.current;pt&&pt.classList.remove("active")}const Pt=(0,n.useMemo)(()=>O.getViewport({scale:a,rotation:t}),[O,t,a]);function K(){if(!O||!E)return;const{current:pt}=Z;if(!pt)return;pt.innerHTML="";const yt=O.streamTextContent({includeMarkedContent:!0}),Rt={container:pt,textContentSource:yt,viewport:Pt},ut=k.Z.renderTextLayer(Rt),P=ut;return ut.promise.then(()=>{const D=document.createElement("div");D.className="endOfContent",pt.append(D),X.current=D;const gt=!!pt.querySelector(".markedContent")?pt.querySelectorAll(".markedContent > *:not(.markedContent"):pt.children;if(u){let Et=0;E.items.forEach((Tt,wt)=>{if(!Y(Tt))return;const xt=gt[Et];if(!xt)return;const Ft=u(Object.assign({pageIndex:L,pageNumber:F,itemIndex:wt},Tt));xt.innerHTML=Ft,Et+=Tt.str&&Tt.hasEOL?2:1})}lt()}).catch(ft),()=>(0,h.LJ)(P)}return(0,n.useLayoutEffect)(K,[u,ft,lt,O,L,F,E,Pt]),n.createElement("div",{className:(0,z.Z)("react-pdf__Page__textContent","textLayer"),onMouseUp:_t,onMouseDown:St,ref:Z})}var rt=H(64277);function dt(){return(0,n.useContext)(rt.Z)}function st(){const c=dt();(0,M.Z)(c,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const u=l();(0,M.Z)(u,"Unable to find Page context.");const y=Object.assign(Object.assign({},c),u),{imageResourcesPath:N,linkService:R,onGetAnnotationsError:W,onGetAnnotationsSuccess:O,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:F,page:t,pdf:a,renderForms:d,rotate:v,scale:E=1}=y;(0,M.Z)(t,"Attempted to load page annotations, but no page was specified.");const[B,Z]=(0,s.Z)(),{value:X,error:tt}=B,it=(0,n.useRef)(null);(0,S.Z)(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function Q(){X&&O&&O(X)}function nt(){tt&&((0,S.Z)(!1,tt.toString()),W&&W(tt))}function lt(){Z({type:"RESET"})}(0,n.useEffect)(lt,[Z,t]);function ft(){if(!t)return;const pt=(0,q.Z)(t.getAnnotations()),yt=pt;return pt.promise.then(Rt=>{Z({type:"RESOLVE",value:Rt})}).catch(Rt=>{Z({type:"REJECT",error:Rt})}),()=>{(0,h.LJ)(yt)}}(0,n.useEffect)(ft,[Z,t,d]),(0,n.useEffect)(()=>{if(X!==void 0){if(X===!1){nt();return}Q()}},[X]);function St(){F&&F()}function _t(pt){(0,S.Z)(!1,`${pt}`),L&&L(pt)}const Pt=(0,n.useMemo)(()=>t.getViewport({scale:E,rotation:v}),[t,v,E]);function K(){if(!a||!t||!X)return;const{current:pt}=it;if(!pt)return;const yt=Pt.clone({dontFlip:!0}),Rt={annotations:X,annotationStorage:a.annotationStorage,div:pt,downloadManager:null,imageResourcesPath:N,linkService:R,page:t,renderForms:d,viewport:yt};pt.innerHTML="";try{k.Z.AnnotationLayer.render(Rt),St()}catch(ut){_t(ut)}return()=>{}}return(0,n.useEffect)(K,[X,N,R,t,d,Pt]),n.createElement("div",{className:(0,z.Z)("react-pdf__Page__annotations","annotationLayer"),ref:it})}var ht=H(89378),bt=function(c,u){var y={};for(var N in c)Object.prototype.hasOwnProperty.call(c,N)&&u.indexOf(N)<0&&(y[N]=c[N]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,N=Object.getOwnPropertySymbols(c);R<N.length;R++)u.indexOf(N[R])<0&&Object.prototype.propertyIsEnumerable.call(c,N[R])&&(y[N[R]]=c[N[R]]);return y};const vt=1,Ct=function(u){const y=dt();(0,M.Z)(y,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const N=Object.assign(Object.assign({},y),u),{_className:R="react-pdf__Page",_enableRegisterUnregisterPage:W=!0,canvasBackground:O,canvasRef:L,children:F,className:t,customRenderer:a,customTextRenderer:d,devicePixelRatio:v,error:E="Failed to load the page.",height:B,inputRef:Z,loading:X="Loading page\u2026",noData:tt="No page specified.",onGetAnnotationsError:it,onGetAnnotationsSuccess:Q,onGetStructTreeError:nt,onGetStructTreeSuccess:lt,onGetTextError:ft,onGetTextSuccess:St,onLoadError:_t,onLoadSuccess:Pt,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:pt,onRenderError:yt,onRenderSuccess:Rt,onRenderTextLayerError:ut,onRenderTextLayerSuccess:P,pageIndex:D,pageNumber:at,pdf:gt,registerPage:Et,renderAnnotationLayer:Tt=!0,renderForms:wt=!1,renderMode:xt="canvas",renderTextLayer:Ft=!0,rotate:kt,scale:Nt=vt,unregisterPage:Dt,width:It}=N,Mt=bt(N,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Gt,Ut]=(0,s.Z)(),{value:Ot,error:$t}=Gt,Bt=(0,n.useRef)(null);(0,M.Z)(gt,"Attempted to load a page, but no document was specified.");const Lt=(0,h.T8)(at)?at-1:D!=null?D:null,Ht=at!=null?at:(0,h.T8)(D)?D+1:null,Vt=kt!=null?kt:Ot?Ot.rotate:null,qt=(0,n.useMemo)(()=>{if(!Ot)return null;let te=1;const _e=Nt!=null?Nt:vt;if(It||B){const ee=Ot.getViewport({scale:1,rotation:Vt});It?te=It/ee.width:B&&(te=B/ee.height)}return _e*te},[B,Ot,Vt,Nt,It]);function Qt(){return()=>{(0,h.T8)(Lt)&&W&&Dt&&Dt(Lt)}}(0,n.useEffect)(Qt,[W,gt,Lt,Dt]);function le(){if(Pt){if(!Ot||!qt)return;Pt((0,h.XZ)(Ot,qt))}if(W&&Et){if(!(0,h.T8)(Lt)||!Bt.current)return;Et(Lt,Bt.current)}}function ce(){$t&&((0,S.Z)(!1,$t.toString()),_t&&_t($t))}function gn(){Ut({type:"RESET"})}(0,n.useEffect)(gn,[Ut,gt,Lt]);function mn(){if(!gt||!Ht)return;const te=(0,q.Z)(gt.getPage(Ht)),_e=te;return te.promise.then(ee=>{Ut({type:"RESOLVE",value:ee})}).catch(ee=>{Ut({type:"REJECT",error:ee})}),()=>(0,h.LJ)(_e)}(0,n.useEffect)(mn,[Ut,gt,Lt,Ht,Et]),(0,n.useEffect)(()=>{if(Ot!==void 0){if(Ot===!1){ce();return}le()}},[Ot,qt]);const bn=(0,n.useMemo)(()=>Ot&&(0,h.T8)(Lt)&&Ht&&(0,h.T8)(Vt)&&(0,h.T8)(qt)?{_className:R,canvasBackground:O,customTextRenderer:d,devicePixelRatio:v,onGetAnnotationsError:it,onGetAnnotationsSuccess:Q,onGetStructTreeError:nt,onGetStructTreeSuccess:lt,onGetTextError:ft,onGetTextSuccess:St,onRenderAnnotationLayerError:K,onRenderAnnotationLayerSuccess:pt,onRenderError:yt,onRenderSuccess:Rt,onRenderTextLayerError:ut,onRenderTextLayerSuccess:P,page:Ot,pageIndex:Lt,pageNumber:Ht,renderForms:wt,renderTextLayer:Ft,rotate:Vt,scale:qt}:null,[R,O,d,v,it,Q,nt,lt,ft,St,K,pt,yt,Rt,ut,P,Ot,Lt,Ht,wt,Ft,Vt,qt]),_n=(0,n.useMemo)(()=>(0,V.ZP)(Mt,()=>Ot&&(qt?(0,h.XZ)(Ot,qt):void 0)),[Mt,Ot,qt]),he=`${Lt}@${qt}/${Vt}`,An=`${Lt}/${Vt}`;function yn(){switch(xt){case"custom":return(0,M.Z)(a,'renderMode was set to "custom", but no customRenderer was passed.'),n.createElement(a,{key:`${he}_custom`});case"none":return null;case"svg":return n.createElement(G,{key:`${An}_svg`});case"canvas":default:return n.createElement(I,{key:`${he}_canvas`,canvasRef:L})}}function vn(){return Ft?n.createElement(J,{key:`${he}_text`}):null}function Sn(){return Tt?n.createElement(st,{key:`${he}_annotations`}):null}function En(){return n.createElement(U.Provider,{value:bn},yn(),vn(),Sn(),F)}function Cn(){return Ht?gt===null||Ot===void 0||Ot===null?n.createElement(w.Z,{type:"loading"},typeof X=="function"?X():X):gt===!1||Ot===!1?n.createElement(w.Z,{type:"error"},typeof E=="function"?E():E):En():n.createElement(w.Z,{type:"no-data"},typeof tt=="function"?tt():tt)}return n.createElement("div",Object.assign({className:(0,z.Z)(R,t),"data-page-number":Ht,ref:j(Z,Bt),style:{["--scale-factor"]:`${qt}`,backgroundColor:O||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},_n),Cn())},At=A.oneOfType([A.func,A.node]);Ct.propTypes=Object.assign(Object.assign({},ht.Gg),{canvasBackground:A.string,canvasRef:ht.dq,children:A.node,className:ht.$n,customRenderer:A.func,customTextRenderer:A.func,devicePixelRatio:A.number,error:At,height:A.number,imageResourcesPath:A.string,inputRef:ht.dq,loading:At,noData:At,onGetTextError:A.func,onGetTextSuccess:A.func,onLoadError:A.func,onLoadSuccess:A.func,onRenderError:A.func,onRenderSuccess:A.func,onRenderTextLayerError:A.func,onRenderTextLayerSuccess:A.func,pageIndex:ht.qd,pageNumber:ht.F$,pdf:ht.Ze,renderAnnotationLayer:A.bool,renderForms:A.bool,renderMode:ht.DV,renderTextLayer:A.bool,rotate:ht.lA,scale:A.number,width:A.number});var $=Ct},91236:function(ct,p,H){"use strict";var n,A=H(85215);const q=A;p.Z=q},9748:function(ct,p,H){"use strict";H.d(p,{Z:function(){return q}});var n=H(93236);function A(V,z){switch(z.type){case"RESOLVE":return{value:z.value,error:void 0};case"REJECT":return{value:!1,error:z.error};case"RESET":return{value:void 0,error:void 0};default:return V}}function q(){return(0,n.useReducer)(A,{value:void 0,error:void 0})}},89378:function(ct,p,H){"use strict";H.d(p,{$n:function(){return w},DV:function(){return e},F$:function(){return C},Gg:function(){return M},Ze:function(){return x},dq:function(){return g},lA:function(){return r},qd:function(){return _},zE:function(){return k}});var n=H(40507),A=H(18225),q=H(91236),V=H(18762),z=H(6628);const{PDFDataRangeTransport:j}=q.Z,M=(()=>{const l={};return A.Tu.forEach(s=>{l[s]=n.func}),l})(),S=n.oneOfType([n.instanceOf(Int8Array),n.instanceOf(Uint8Array),n.instanceOf(Uint8ClampedArray),n.instanceOf(Int16Array),n.instanceOf(Uint16Array),n.instanceOf(Int32Array),n.instanceOf(Uint32Array),n.instanceOf(Float32Array),n.instanceOf(Float64Array)]),U=[n.string,n.instanceOf(ArrayBuffer),n.shape({data:n.oneOfType([n.string,n.instanceOf(ArrayBuffer),n.arrayOf(n.number.isRequired),S]).isRequired}),n.shape({range:n.instanceOf(j).isRequired}),n.shape({url:n.string.isRequired})];typeof Blob!="undefined"&&U.push(n.instanceOf(Blob));const w=n.oneOfType([n.string,n.arrayOf(n.string)]),k=n.oneOfType(U),m=n.instanceOf(z.Z),f=n.oneOf(["_self","_blank","_parent","_top"]),o=n.shape({commonObjs:n.shape({}).isRequired,getAnnotations:n.func.isRequired,getTextContent:n.func.isRequired,getViewport:n.func.isRequired,render:n.func.isRequired}),_=function(s,h,T){const{[h]:i,pageNumber:I,pdf:G}=s;if(!(0,V.$K)(G))return null;if((0,V.$K)(i)){if(typeof i!="number")return new Error(`\`${h}\` of type \`${typeof i}\` supplied to \`${T}\`, expected \`number\`.`);if(i<0)return new Error(`Expected \`${h}\` to be greater or equal to 0.`);const{numPages:Y}=G;if(i+1>Y)return new Error(`Expected \`${h}\` to be less or equal to ${Y-1}.`)}else if(!(0,V.$K)(I))return new Error(`\`${h}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${T}\`.`);return null},C=function(s,h,T){const{[h]:i,pageIndex:I,pdf:G}=s;if(!(0,V.$K)(G))return null;if((0,V.$K)(i)){if(typeof i!="number")return new Error(`\`${h}\` of type \`${typeof i}\` supplied to \`${T}\`, expected \`number\`.`);if(i<1)return new Error(`Expected \`${h}\` to be greater or equal to 1.`);const{numPages:Y}=G;if(i>Y)return new Error(`Expected \`${h}\` to be less or equal to ${Y}.`)}else if(!(0,V.$K)(I))return new Error(`\`${h}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${T}\`.`);return null},x=n.oneOfType([n.any,n.oneOf([!1])]),g=n.oneOfType([n.func,n.exact({current:n.any})]),e=n.oneOf(["canvas","custom","none","svg"]),r=n.oneOf([0,90,180,270])},18762:function(ct,p,H){"use strict";H.d(p,{$K:function(){return z},DE:function(){return g},LJ:function(){return C},Lj:function(){return U},T8:function(){return j},XZ:function(){return x},eP:function(){return S},eR:function(){return e},gJ:function(){return w},jU:function(){return q},tN:function(){return o},us:function(){return k},x_:function(){return m}});var n=H(38624),A=H(16619);const q=typeof document!="undefined",V=q&&window.location.protocol==="file:";function z(r){return typeof r!="undefined"}function j(r){return z(r)&&r!==null}function M(r){return typeof r=="string"}function S(r){return r instanceof ArrayBuffer}function U(r){return(0,n.Z)(q,"isBlob can only be used in a browser environment"),r instanceof Blob}function w(r){return M(r)&&/^data:/.test(r)}function k(r){(0,n.Z)(w(r),"Invalid data URI.");const[l="",s=""]=r.split(",");return l.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function m(){return q&&window.devicePixelRatio||1}const f="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function o(){(0,A.Z)(!V,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${f}`)}function _(){warning(!V,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${f}`)}function C(r){r&&r.cancel&&r.cancel()}function x(r,l){return Object.defineProperty(r,"width",{get(){return this.view[2]*l},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*l},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function g(r){return r.name==="RenderingCancelledException"}function e(r){return new Promise((l,s)=>{const h=new FileReader;h.onload=()=>{if(!h.result)return s(new Error("Error while reading a file."));l(h.result)},h.onerror=T=>{if(!T.target)return s(new Error("Error while reading a file."));const{error:i}=T.target;if(!i)return s(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},h.readAsArrayBuffer(r)})}},38624:function(ct,p,H){"use strict";H.d(p,{Z:function(){return q}});var n=!0,A="Invariant failed";function q(V,z){if(!V){if(n)throw new Error(A);var j=typeof z=="function"?z():z,M=j?"".concat(A,": ").concat(j):A;throw new Error(M)}}}}]);
}());